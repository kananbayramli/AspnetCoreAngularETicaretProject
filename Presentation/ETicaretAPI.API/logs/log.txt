2023-08-19 12:25:01.872 +04:00 [INF] User profile is available. Using 'C:\Users\K\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-19 12:25:02.347 +04:00 [INF] Now listening on: https://localhost:7131
2023-08-19 12:25:02.349 +04:00 [INF] Now listening on: http://localhost:5131
2023-08-19 12:25:02.354 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-19 12:25:02.355 +04:00 [INF] Hosting environment: Development
2023-08-19 12:25:02.356 +04:00 [INF] Content root path: C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\
2023-08-19 12:27:58.150 +04:00 [INF] User profile is available. Using 'C:\Users\K\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-19 12:27:58.575 +04:00 [INF] Now listening on: https://localhost:7131
2023-08-19 12:27:58.578 +04:00 [INF] Now listening on: http://localhost:5131
2023-08-19 12:27:58.582 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-19 12:27:58.583 +04:00 [INF] Hosting environment: Development
2023-08-19 12:27:58.584 +04:00 [INF] Content root path: C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\
2023-08-19 12:28:00.833 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/ - -
2023-08-19 12:28:00.970 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Upgrade-Insecure-Requests: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-user: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 12:28:00.991 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 12:28:01.010 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/ - - - 404 0 - 183.6730ms
2023-08-19 12:28:13.096 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5131/ - -
2023-08-19 12:28:13.098 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: GET
Scheme: http
PathBase: 
Path: /
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7
Connection: keep-alive
Host: localhost:5131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Upgrade-Insecure-Requests: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-User: [Redacted]
Sec-Fetch-Dest: [Redacted]
2023-08-19 12:28:13.106 +04:00 [INF] Response:
StatusCode: 307
Location: https://localhost:7131/
2023-08-19 12:28:13.119 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5131/ - - - 307 0 - 23.4007ms
2023-08-19 12:28:13.134 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/ - -
2023-08-19 12:28:13.136 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Upgrade-Insecure-Requests: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-user: [Redacted]
sec-fetch-dest: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
2023-08-19 12:28:13.138 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 12:28:13.139 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/ - - - 404 0 - 5.3583ms
2023-08-19 12:28:33.211 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/index.html - -
2023-08-19 12:28:33.538 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/swagger-ui.css - -
2023-08-19 12:28:33.538 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/swagger-ui-bundle.js - -
2023-08-19 12:28:33.538 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/swagger-ui-standalone-preset.js - -
2023-08-19 12:28:33.539 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - -
2023-08-19 12:28:33.552 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/index.html - - - 200 - text/html;charset=utf-8 340.8560ms
2023-08-19 12:28:33.553 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - - 200 12362 application/javascript;+charset=utf-8 14.7885ms
2023-08-19 12:28:33.570 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - -
2023-08-19 12:28:33.606 +04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-08-19 12:28:33.634 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/swagger-ui.css - - - 200 143632 text/css 95.8995ms
2023-08-19 12:28:33.639 +04:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-08-19 12:28:33.644 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 105.4053ms
2023-08-19 12:28:33.682 +04:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-08-19 12:28:33.685 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 146.2144ms
2023-08-19 12:28:33.733 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 163.0259ms
2023-08-19 12:28:33.917 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - -
2023-08-19 12:28:33.956 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/favicon-32x32.png - -
2023-08-19 12:28:33.957 +04:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-08-19 12:28:33.961 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/favicon-32x32.png - - - 200 628 image/png 5.5833ms
2023-08-19 12:28:34.522 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 605.3066ms
2023-08-19 12:29:07.816 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/ApplicationServices - -
2023-08-19 12:29:07.826 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/ApplicationServices
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 12:29:07.998 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 12:29:08.013 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 12:29:08.015 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 12:29:08.017 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/ApplicationServices - - - 401 0 - 200.6255ms
2023-08-19 12:30:23.073 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7131/api/Products/Get/c3c2cbfc-5e3b-4b86-b9e1-8e8f4e58e4db
 - -
2023-08-19 12:30:23.080 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: GET
Scheme: https
PathBase: 
Path: /api/Products/Get/c3c2cbfc-5e3b-4b86-b9e1-8e8f4e58e4db%0A
Accept: */*
Host: localhost:7131
User-Agent: PostmanRuntime/7.32.3
Postman-Token: [Redacted]
2023-08-19 12:30:23.083 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 12:30:23.086 +04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7131/api/Products/Get/c3c2cbfc-5e3b-4b86-b9e1-8e8f4e58e4db
 - - - 404 0 - 12.3150ms
2023-08-19 12:30:33.692 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7131/api/Products/Get/c3c2cbfc-5e3b-4b86-b9e1-8e8f4e58e4db - -
2023-08-19 12:30:33.696 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: GET
Scheme: https
PathBase: 
Path: /api/Products/Get/c3c2cbfc-5e3b-4b86-b9e1-8e8f4e58e4db
Accept: */*
Host: localhost:7131
User-Agent: PostmanRuntime/7.32.3
Postman-Token: [Redacted]
2023-08-19 12:30:33.697 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 12:30:33.698 +04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7131/api/Products/Get/c3c2cbfc-5e3b-4b86-b9e1-8e8f4e58e4db - - - 404 0 - 6.5986ms
2023-08-19 12:30:42.561 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7131/api/Products/GetAll - -
2023-08-19 12:30:42.563 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: GET
Scheme: https
PathBase: 
Path: /api/Products/GetAll
Accept: */*
Host: localhost:7131
User-Agent: PostmanRuntime/7.32.3
Postman-Token: [Redacted]
2023-08-19 12:30:42.574 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 12:30:43.622 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetByIdProduct.GetByIdProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 12:30:45.620 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 12:30:46.211 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 2576.5865ms
2023-08-19 12:30:46.227 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 12:30:46.313 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
 ---> System.FormatException: Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseExactN(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at lambda_method33(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Evaluate(Expression expression, Boolean generateParameter)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitBinary(BinaryExpression node)
   at System.Linq.Expressions.BinaryExpression.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at System.Linq.Expressions.Expression`1.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at System.Linq.Expressions.UnaryExpression.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression, Boolean clearEvaluatedValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at ETicaretAPI.Persistence.Repositories.ReadRepository`1.GetByIdAsync(String id, Boolean tracking) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Repositories\ReadRepository.cs:line 0
   at ETicaretAPI.Application.Features.Queries.Product.GetByIdProduct.GetByIdProductQueryHandler.Handle(GetByIdProductQueryRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Queries\Product\GetByIdProduct\GetByIdProductQueryHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.ProductsController.Get(GetByIdProductQueryRequest getByIdProductQueryRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\ProductsController.cs:line 61
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2023-08-19 12:30:46.525 +04:00 [ERR] An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
2023-08-19 12:30:46.552 +04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7131/api/Products/GetAll - - - 500 - application/json 3990.2207ms
2023-08-19 12:33:00.162 +04:00 [INF] User profile is available. Using 'C:\Users\K\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-19 12:33:00.617 +04:00 [INF] Now listening on: https://localhost:7131
2023-08-19 12:33:00.631 +04:00 [INF] Now listening on: http://localhost:5131
2023-08-19 12:33:00.635 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-19 12:33:00.636 +04:00 [INF] Hosting environment: Development
2023-08-19 12:33:00.637 +04:00 [INF] Content root path: C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\
2023-08-19 12:33:03.070 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7131/api/Products/Get - -
2023-08-19 12:33:03.144 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: GET
Scheme: https
PathBase: 
Path: /api/Products/Get
Accept: */*
Host: localhost:7131
User-Agent: PostmanRuntime/7.32.3
Postman-Token: [Redacted]
2023-08-19 12:33:03.168 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 12:33:03.655 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetByIdProduct.GetByIdProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 12:33:05.578 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 12:33:05.880 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 2217.3365ms
2023-08-19 12:33:05.887 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 12:33:05.925 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
 ---> System.FormatException: Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseExactN(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at lambda_method33(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Evaluate(Expression expression, Boolean generateParameter)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitBinary(BinaryExpression node)
   at System.Linq.Expressions.BinaryExpression.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at System.Linq.Expressions.Expression`1.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at System.Linq.Expressions.UnaryExpression.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression, Boolean clearEvaluatedValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at ETicaretAPI.Persistence.Repositories.ReadRepository`1.GetByIdAsync(String id, Boolean tracking) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Repositories\ReadRepository.cs:line 0
   at ETicaretAPI.Application.Features.Queries.Product.GetByIdProduct.GetByIdProductQueryHandler.Handle(GetByIdProductQueryRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Queries\Product\GetByIdProduct\GetByIdProductQueryHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.ProductsController.Get(GetByIdProductQueryRequest getByIdProductQueryRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\ProductsController.cs:line 61
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2023-08-19 12:33:06.054 +04:00 [ERR] An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
2023-08-19 12:33:06.087 +04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7131/api/Products/Get - - - 500 - application/json 3020.6065ms
2023-08-19 12:33:45.638 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/Products/Get - -
2023-08-19 12:33:45.690 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/Products/Get
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Upgrade-Insecure-Requests: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-user: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 12:33:45.694 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 12:33:45.739 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetByIdProduct.GetByIdProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 12:33:45.802 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 12:33:45.962 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 208.1903ms
2023-08-19 12:33:45.965 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 12:33:46.004 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
 ---> System.FormatException: Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseExactN(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at lambda_method34(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Evaluate(Expression expression, Boolean generateParameter)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitBinary(BinaryExpression node)
   at System.Linq.Expressions.BinaryExpression.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at System.Linq.Expressions.Expression`1.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at System.Linq.Expressions.UnaryExpression.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression, Boolean clearEvaluatedValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at ETicaretAPI.Persistence.Repositories.ReadRepository`1.GetByIdAsync(String id, Boolean tracking) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Repositories\ReadRepository.cs:line 0
   at ETicaretAPI.Application.Features.Queries.Product.GetByIdProduct.GetByIdProductQueryHandler.Handle(GetByIdProductQueryRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Queries\Product\GetByIdProduct\GetByIdProductQueryHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.ProductsController.Get(GetByIdProductQueryRequest getByIdProductQueryRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\ProductsController.cs:line 61
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2023-08-19 12:33:46.024 +04:00 [ERR] An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
2023-08-19 12:33:46.065 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/Products/Get - - - 500 - application/json 427.4195ms
2023-08-19 12:33:46.204 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/favicon.ico - -
2023-08-19 12:33:46.206 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /favicon.ico
Accept: image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 12:33:46.214 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 12:33:46.218 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/favicon.ico - - - 404 0 - 13.4836ms
2023-08-19 12:34:42.604 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/users/login application/json 63
2023-08-19 12:34:42.607 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: https
PathBase: 
Path: /api/users/login
Accept: */*
Connection: keep-alive
Host: localhost:7131
User-Agent: PostmanRuntime/7.32.3
Accept-Encoding: gzip, deflate, br
Content-Type: application/json
Content-Length: 63
Postman-Token: [Redacted]
2023-08-19 12:34:42.609 +04:00 [INF] RequestBody: 
2023-08-19 12:34:42.610 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 12:34:42.612 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/users/login application/json 63 - 404 0 - 7.9682ms
2023-08-19 12:35:36.462 +04:00 [INF] User profile is available. Using 'C:\Users\K\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-19 12:35:36.801 +04:00 [INF] Now listening on: https://localhost:7131
2023-08-19 12:35:36.802 +04:00 [INF] Now listening on: http://localhost:5131
2023-08-19 12:35:36.807 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-19 12:35:36.808 +04:00 [INF] Hosting environment: Development
2023-08-19 12:35:36.809 +04:00 [INF] Content root path: C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\
2023-08-19 12:35:52.828 +04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5131/api/Products/Get - -
2023-08-19 12:35:52.947 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: GET
Scheme: http
PathBase: 
Path: /api/Products/Get
Accept: */*
Host: localhost:5131
User-Agent: PostmanRuntime/7.32.3
Postman-Token: [Redacted]
2023-08-19 12:35:52.957 +04:00 [INF] Response:
StatusCode: 307
Location: https://localhost:7131/api/Products/Get
2023-08-19 12:35:52.974 +04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5131/api/Products/Get - - - 307 0 - 151.5120ms
2023-08-19 12:35:53.049 +04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7131/api/Products/Get - -
2023-08-19 12:35:53.057 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: GET
Scheme: https
PathBase: 
Path: /api/Products/Get
Accept: */*
Host: localhost:7131
User-Agent: PostmanRuntime/7.32.3
Referer: [Redacted]
Postman-Token: [Redacted]
2023-08-19 12:35:53.090 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 12:35:53.424 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetByIdProduct.GetByIdProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 12:35:55.399 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 12:35:55.742 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 2305.9955ms
2023-08-19 12:35:55.751 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 12:35:55.812 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
 ---> System.FormatException: Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).
   at System.Guid.GuidResult.SetFailure(Boolean overflow, String failureMessageID)
   at System.Guid.TryParseExactN(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.TryParseGuid(ReadOnlySpan`1 guidString, GuidResult& result)
   at System.Guid.Parse(ReadOnlySpan`1 input)
   at System.Guid.Parse(String input)
   at lambda_method33(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Evaluate(Expression expression, Boolean generateParameter)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitBinary(BinaryExpression node)
   at System.Linq.Expressions.BinaryExpression.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at System.Linq.Expressions.Expression`1.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at System.Linq.Expressions.UnaryExpression.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression, Boolean clearEvaluatedValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at ETicaretAPI.Persistence.Repositories.ReadRepository`1.GetByIdAsync(String id, Boolean tracking) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Repositories\ReadRepository.cs:line 0
   at ETicaretAPI.Application.Features.Queries.Product.GetByIdProduct.GetByIdProductQueryHandler.Handle(GetByIdProductQueryRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Queries\Product\GetByIdProduct\GetByIdProductQueryHandler.cs:line 18
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.ProductsController.Get(GetByIdProductQueryRequest getByIdProductQueryRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\ProductsController.cs:line 61
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2023-08-19 12:35:55.932 +04:00 [ERR] An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
2023-08-19 12:35:55.964 +04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7131/api/Products/Get - - - 500 - application/json 2914.8640ms
2023-08-19 12:36:06.096 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5131/api/users/login application/json 63
2023-08-19 12:36:06.101 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/users/login
Accept: */*
Connection: keep-alive
Host: localhost:5131
User-Agent: PostmanRuntime/7.32.3
Accept-Encoding: gzip, deflate, br
Content-Type: application/json
Content-Length: 63
Postman-Token: [Redacted]
2023-08-19 12:36:06.104 +04:00 [INF] RequestBody: 
2023-08-19 12:36:06.106 +04:00 [INF] Response:
StatusCode: 307
Location: https://localhost:7131/api/users/login
2023-08-19 12:36:06.107 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5131/api/users/login application/json 63 - 307 0 - 11.0244ms
2023-08-19 12:36:06.131 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/users/login application/json 63
2023-08-19 12:36:06.136 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: https
PathBase: 
Path: /api/users/login
Accept: */*
Connection: keep-alive
Host: localhost:7131
User-Agent: PostmanRuntime/7.32.3
Accept-Encoding: gzip, deflate, br
Content-Type: application/json
Referer: [Redacted]
Content-Length: 63
Postman-Token: [Redacted]
2023-08-19 12:36:06.138 +04:00 [INF] RequestBody: 
2023-08-19 12:36:06.139 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 12:36:06.140 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/users/login application/json 63 - 404 0 - 9.9168ms
2023-08-19 12:36:08.512 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5131/api/users/login application/json 63
2023-08-19 12:36:08.514 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/users/login
Accept: */*
Connection: keep-alive
Host: localhost:5131
User-Agent: PostmanRuntime/7.32.3
Accept-Encoding: gzip, deflate, br
Content-Type: application/json
Content-Length: 63
Postman-Token: [Redacted]
2023-08-19 12:36:08.515 +04:00 [INF] RequestBody: 
2023-08-19 12:36:08.517 +04:00 [INF] Response:
StatusCode: 307
Location: https://localhost:7131/api/users/login
2023-08-19 12:36:08.518 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5131/api/users/login application/json 63 - 307 0 - 5.8969ms
2023-08-19 12:36:08.523 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/users/login application/json 63
2023-08-19 12:36:08.524 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: https
PathBase: 
Path: /api/users/login
Accept: */*
Connection: keep-alive
Host: localhost:7131
User-Agent: PostmanRuntime/7.32.3
Accept-Encoding: gzip, deflate, br
Content-Type: application/json
Referer: [Redacted]
Content-Length: 63
Postman-Token: [Redacted]
2023-08-19 12:36:08.527 +04:00 [INF] RequestBody: 
2023-08-19 12:36:08.530 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 12:36:08.531 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/users/login application/json 63 - 404 0 - 8.6810ms
2023-08-19 12:37:11.020 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/Auth/Login application/json 57
2023-08-19 12:37:11.021 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/Auth/Login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 57
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 12:37:11.032 +04:00 [INF] CORS policy execution failed.
2023-08-19 12:37:11.034 +04:00 [INF] Request origin https://localhost:7131 does not have permission to access the resource.
2023-08-19 12:37:11.039 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 12:37:11.083 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 12:37:11.110 +04:00 [INF] RequestBody: {
  "usernameOrEmail": "string",
  "password": "string"
}
2023-08-19 12:37:11.218 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 12:37:12.003 +04:00 [ERR] Failed executing DbCommand (81ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 12:37:12.059 +04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ETicaretAPI.Persistence.Contexts.ETicaretAPIDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column a.RefreshToken does not exist

POSITION: 251
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|211_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column a.RefreshToken does not exist
    Position: 251
    File: parse_relation.c
    Line: 3656
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column a.RefreshToken does not exist

POSITION: 251
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|211_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column a.RefreshToken does not exist
    Position: 251
    File: parse_relation.c
    Line: 3656
    Routine: errorMissingColumn
2023-08-19 12:37:12.467 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 1380.1942ms
2023-08-19 12:37:12.471 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 12:37:12.698 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Npgsql.PostgresException (0x80004005): 42703: column a.RefreshToken does not exist

POSITION: 251
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|211_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at ETicaretAPI.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 117
   at ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 25
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column a.RefreshToken does not exist
    Position: 251
    File: parse_relation.c
    Line: 3656
    Routine: errorMissingColumn
2023-08-19 12:37:12.909 +04:00 [ERR] 42703: column a.RefreshToken does not exist

POSITION: 251
2023-08-19 12:37:12.923 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/Auth/Login application/json 57 - 500 - application/json 1904.1388ms
2023-08-19 12:37:27.516 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/Auth/Login application/json 63
2023-08-19 12:37:27.521 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: https
PathBase: 
Path: /api/Auth/Login
Accept: */*
Connection: keep-alive
Host: localhost:7131
User-Agent: PostmanRuntime/7.32.3
Accept-Encoding: gzip, deflate, br
Content-Type: application/json
Content-Length: 63
Postman-Token: [Redacted]
2023-08-19 12:37:27.523 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 12:37:27.538 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 12:37:27.545 +04:00 [INF] RequestBody: {
    "usernameoremail":"kenken",
    "password":"Ken123!"
}
2023-08-19 12:37:27.558 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 12:37:27.573 +04:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 12:37:27.579 +04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ETicaretAPI.Persistence.Contexts.ETicaretAPIDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column a.RefreshToken does not exist

POSITION: 251
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|211_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column a.RefreshToken does not exist
    Position: 251
    File: parse_relation.c
    Line: 3656
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column a.RefreshToken does not exist

POSITION: 251
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|211_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column a.RefreshToken does not exist
    Position: 251
    File: parse_relation.c
    Line: 3656
    Routine: errorMissingColumn
2023-08-19 12:37:27.894 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 352.9905ms
2023-08-19 12:37:27.897 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 12:37:28.095 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Npgsql.PostgresException (0x80004005): 42703: column a.RefreshToken does not exist

POSITION: 251
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|211_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at ETicaretAPI.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 117
   at ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 25
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column a.RefreshToken does not exist
    Position: 251
    File: parse_relation.c
    Line: 3656
    Routine: errorMissingColumn
2023-08-19 12:37:28.126 +04:00 [ERR] 42703: column a.RefreshToken does not exist

POSITION: 251
2023-08-19 12:37:28.128 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/Auth/Login application/json 63 - 500 - application/json 612.3809ms
2023-08-19 12:37:43.886 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5131/api/Auth/Login application/json 63
2023-08-19 12:37:43.889 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/Login
Accept: */*
Connection: keep-alive
Host: localhost:5131
User-Agent: PostmanRuntime/7.32.3
Accept-Encoding: gzip, deflate, br
Content-Type: application/json
Content-Length: 63
Postman-Token: [Redacted]
2023-08-19 12:37:43.893 +04:00 [INF] RequestBody: 
2023-08-19 12:37:43.897 +04:00 [INF] Response:
StatusCode: 307
Location: https://localhost:7131/api/Auth/Login
2023-08-19 12:37:43.900 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5131/api/Auth/Login application/json 63 - 307 0 - 14.0729ms
2023-08-19 12:37:43.915 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/Auth/Login application/json 63
2023-08-19 12:37:43.917 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: https
PathBase: 
Path: /api/Auth/Login
Accept: */*
Connection: keep-alive
Host: localhost:7131
User-Agent: PostmanRuntime/7.32.3
Accept-Encoding: gzip, deflate, br
Content-Type: application/json
Referer: [Redacted]
Content-Length: 63
Postman-Token: [Redacted]
2023-08-19 12:37:43.919 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 12:37:43.922 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 12:37:43.925 +04:00 [INF] RequestBody: {
    "usernameoremail":"kenken",
    "password":"Ken123!"
}
2023-08-19 12:37:43.935 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 12:37:43.945 +04:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 12:37:43.970 +04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ETicaretAPI.Persistence.Contexts.ETicaretAPIDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column a.RefreshToken does not exist

POSITION: 251
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|211_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column a.RefreshToken does not exist
    Position: 251
    File: parse_relation.c
    Line: 3656
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column a.RefreshToken does not exist

POSITION: 251
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|211_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column a.RefreshToken does not exist
    Position: 251
    File: parse_relation.c
    Line: 3656
    Routine: errorMissingColumn
2023-08-19 12:37:44.289 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 363.412ms
2023-08-19 12:37:44.291 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 12:37:44.483 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Npgsql.PostgresException (0x80004005): 42703: column a.RefreshToken does not exist

POSITION: 251
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|211_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at ETicaretAPI.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 117
   at ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 25
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column a.RefreshToken does not exist
    Position: 251
    File: parse_relation.c
    Line: 3656
    Routine: errorMissingColumn
2023-08-19 12:37:44.516 +04:00 [ERR] 42703: column a.RefreshToken does not exist

POSITION: 251
2023-08-19 12:37:44.518 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/Auth/Login application/json 63 - 500 - application/json 603.4682ms
2023-08-19 13:15:55.614 +04:00 [INF] User profile is available. Using 'C:\Users\K\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-19 13:15:56.070 +04:00 [INF] Now listening on: https://localhost:7131
2023-08-19 13:15:56.072 +04:00 [INF] Now listening on: http://localhost:5131
2023-08-19 13:15:56.078 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-19 13:15:56.080 +04:00 [INF] Hosting environment: Development
2023-08-19 13:15:56.081 +04:00 [INF] Content root path: C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\
2023-08-19 13:15:59.174 +04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5131/users - -
2023-08-19 13:15:59.298 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: OPTIONS
Scheme: http
PathBase: 
Path: /users
Accept: */*
Connection: keep-alive
Host: localhost:5131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Dest: [Redacted]
2023-08-19 13:15:59.303 +04:00 [INF] CORS policy execution successful.
2023-08-19 13:15:59.308 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 13:15:59.332 +04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5131/users - - - 204 - - 161.0118ms
2023-08-19 13:15:59.353 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5131/users application/json 123
2023-08-19 13:15:59.360 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /users
Accept: application/json, text/plain, */*
Connection: keep-alive
Host: localhost:5131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 123
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2023-08-19 13:15:59.365 +04:00 [INF] CORS policy execution successful.
2023-08-19 13:15:59.379 +04:00 [INF] RequestBody: 
2023-08-19 13:15:59.382 +04:00 [INF] Response:
StatusCode: 307
Location: https://localhost:7131/users
2023-08-19 13:15:59.385 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5131/users application/json 123 - 307 0 - 31.9395ms
2023-08-19 13:15:59.479 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/users - -
2023-08-19 13:15:59.482 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /users
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 13:15:59.484 +04:00 [INF] CORS policy execution failed.
2023-08-19 13:15:59.485 +04:00 [INF] Request origin null does not have permission to access the resource.
2023-08-19 13:15:59.486 +04:00 [INF] Response:
StatusCode: 204
2023-08-19 13:15:59.491 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/users - - - 204 - - 11.3751ms
2023-08-19 13:16:37.125 +04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5131/users - -
2023-08-19 13:16:37.127 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: OPTIONS
Scheme: http
PathBase: 
Path: /users
Accept: */*
Connection: keep-alive
Host: localhost:5131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Dest: [Redacted]
2023-08-19 13:16:37.128 +04:00 [INF] CORS policy execution successful.
2023-08-19 13:16:37.129 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 13:16:37.130 +04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5131/users - - - 204 - - 5.0050ms
2023-08-19 13:16:37.131 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5131/users application/json 125
2023-08-19 13:16:37.132 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /users
Accept: application/json, text/plain, */*
Connection: keep-alive
Host: localhost:5131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 125
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2023-08-19 13:16:37.135 +04:00 [INF] CORS policy execution successful.
2023-08-19 13:16:37.136 +04:00 [INF] RequestBody: 
2023-08-19 13:16:37.137 +04:00 [INF] Response:
StatusCode: 307
Location: https://localhost:7131/users
2023-08-19 13:16:37.138 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5131/users application/json 125 - 307 0 - 6.8392ms
2023-08-19 13:16:37.153 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/users - -
2023-08-19 13:16:37.155 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /users
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 13:16:37.157 +04:00 [INF] CORS policy execution failed.
2023-08-19 13:16:37.159 +04:00 [INF] Request origin null does not have permission to access the resource.
2023-08-19 13:16:37.160 +04:00 [INF] Response:
StatusCode: 204
2023-08-19 13:16:37.161 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/users - - - 204 - - 8.4933ms
2023-08-19 13:17:25.816 +04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5131/users - -
2023-08-19 13:17:25.819 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: OPTIONS
Scheme: http
PathBase: 
Path: /users
Accept: */*
Connection: keep-alive
Host: localhost:5131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Dest: [Redacted]
2023-08-19 13:17:25.820 +04:00 [INF] CORS policy execution successful.
2023-08-19 13:17:25.822 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 13:17:25.824 +04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5131/users - - - 204 - - 7.3598ms
2023-08-19 13:17:25.825 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5131/users application/json 125
2023-08-19 13:17:25.826 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /users
Accept: application/json, text/plain, */*
Connection: keep-alive
Host: localhost:5131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 125
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2023-08-19 13:17:25.828 +04:00 [INF] CORS policy execution successful.
2023-08-19 13:17:25.829 +04:00 [INF] RequestBody: 
2023-08-19 13:17:25.830 +04:00 [INF] Response:
StatusCode: 307
Location: https://localhost:7131/users
2023-08-19 13:17:25.831 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5131/users application/json 125 - 307 0 - 6.0213ms
2023-08-19 13:17:25.851 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/users - -
2023-08-19 13:17:25.854 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /users
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 13:17:25.855 +04:00 [INF] CORS policy execution failed.
2023-08-19 13:17:25.857 +04:00 [INF] Request origin null does not have permission to access the resource.
2023-08-19 13:17:25.858 +04:00 [INF] Response:
StatusCode: 204
2023-08-19 13:17:25.859 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/users - - - 204 - - 8.5225ms
2023-08-19 13:17:36.623 +04:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5131/users - -
2023-08-19 13:17:36.625 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: OPTIONS
Scheme: http
PathBase: 
Path: /users
Accept: */*
Connection: keep-alive
Host: localhost:5131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Dest: [Redacted]
2023-08-19 13:17:36.627 +04:00 [INF] CORS policy execution successful.
2023-08-19 13:17:36.628 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 13:17:36.629 +04:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5131/users - - - 204 - - 6.6194ms
2023-08-19 13:17:36.630 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5131/users application/json 125
2023-08-19 13:17:36.632 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /users
Accept: application/json, text/plain, */*
Connection: keep-alive
Host: localhost:5131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 125
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2023-08-19 13:17:36.633 +04:00 [INF] CORS policy execution successful.
2023-08-19 13:17:36.634 +04:00 [INF] RequestBody: 
2023-08-19 13:17:36.635 +04:00 [INF] Response:
StatusCode: 307
Location: https://localhost:7131/users
2023-08-19 13:17:36.636 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5131/users application/json 125 - 307 0 - 5.3820ms
2023-08-19 13:17:36.646 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/users - -
2023-08-19 13:17:36.647 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /users
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 13:17:36.648 +04:00 [INF] CORS policy execution failed.
2023-08-19 13:17:36.649 +04:00 [INF] Request origin null does not have permission to access the resource.
2023-08-19 13:17:36.651 +04:00 [INF] Response:
StatusCode: 204
2023-08-19 13:17:36.652 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/users - - - 204 - - 6.3840ms
2023-08-19 13:22:20.273 +04:00 [INF] User profile is available. Using 'C:\Users\K\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-19 13:22:21.091 +04:00 [INF] Now listening on: https://localhost:7131
2023-08-19 13:22:21.094 +04:00 [INF] Now listening on: http://localhost:5131
2023-08-19 13:22:21.103 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-19 13:22:21.106 +04:00 [INF] Hosting environment: Development
2023-08-19 13:22:21.108 +04:00 [INF] Content root path: C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\
2023-08-19 13:22:24.624 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/users - -
2023-08-19 13:22:24.790 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /users
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 13:22:24.800 +04:00 [INF] CORS policy execution successful.
2023-08-19 13:22:24.807 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 13:22:24.829 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/users - - - 204 - - 211.0699ms
2023-08-19 13:22:24.836 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/users application/json 125
2023-08-19 13:22:24.860 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /users
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 125
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 13:22:24.864 +04:00 [INF] CORS policy execution successful.
2023-08-19 13:22:24.895 +04:00 [INF] RequestBody: 
2023-08-19 13:22:24.898 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 13:22:24.904 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/users application/json 125 - 404 0 - 68.1948ms
2023-08-19 13:22:54.787 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/users - -
2023-08-19 13:22:54.795 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /users
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 13:22:54.798 +04:00 [INF] CORS policy execution successful.
2023-08-19 13:22:54.799 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 13:22:54.801 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/users - - - 204 - - 13.6345ms
2023-08-19 13:22:54.803 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/users application/json 125
2023-08-19 13:22:54.805 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /users
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 125
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 13:22:54.807 +04:00 [INF] CORS policy execution successful.
2023-08-19 13:22:54.809 +04:00 [INF] RequestBody: 
2023-08-19 13:22:54.812 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 13:22:54.814 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/users application/json 125 - 404 0 - 11.2490ms
2023-08-19 13:23:18.421 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/users - -
2023-08-19 13:23:18.469 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /users
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Cookie: [Redacted]
Upgrade-Insecure-Requests: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-user: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 13:23:18.475 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 13:23:18.484 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/users - - - 404 0 - 62.6780ms
2023-08-19 13:23:44.305 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5131/api/Auth/Login application/json 63
2023-08-19 13:23:44.308 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/Login
Accept: */*
Connection: keep-alive
Host: localhost:5131
User-Agent: PostmanRuntime/7.32.3
Accept-Encoding: gzip, deflate, br
Content-Type: application/json
Content-Length: 63
Postman-Token: [Redacted]
2023-08-19 13:23:44.316 +04:00 [INF] RequestBody: 
2023-08-19 13:23:44.318 +04:00 [INF] Response:
StatusCode: 307
Location: https://localhost:7131/api/Auth/Login
2023-08-19 13:23:44.339 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5131/api/Auth/Login application/json 63 - 307 0 - 34.0071ms
2023-08-19 13:23:44.387 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/Auth/Login application/json 63
2023-08-19 13:23:44.391 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: https
PathBase: 
Path: /api/Auth/Login
Accept: */*
Connection: keep-alive
Host: localhost:7131
User-Agent: PostmanRuntime/7.32.3
Accept-Encoding: gzip, deflate, br
Content-Type: application/json
Referer: [Redacted]
Content-Length: 63
Postman-Token: [Redacted]
2023-08-19 13:23:44.399 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 13:23:44.808 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 13:23:44.840 +04:00 [INF] RequestBody: {
    "usernameoremail":"kenken",
    "password":"Ken123!"
}
2023-08-19 13:23:47.089 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 13:23:48.053 +04:00 [ERR] Failed executing DbCommand (94ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 13:23:48.201 +04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ETicaretAPI.Persistence.Contexts.ETicaretAPIDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column a.RefreshToken does not exist

POSITION: 251
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|211_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column a.RefreshToken does not exist
    Position: 251
    File: parse_relation.c
    Line: 3656
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column a.RefreshToken does not exist

POSITION: 251
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|211_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column a.RefreshToken does not exist
    Position: 251
    File: parse_relation.c
    Line: 3656
    Routine: errorMissingColumn
2023-08-19 13:23:48.698 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 3877.2148ms
2023-08-19 13:23:48.703 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 13:23:48.986 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Npgsql.PostgresException (0x80004005): 42703: column a.RefreshToken does not exist

POSITION: 251
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|211_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at ETicaretAPI.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 117
   at ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 25
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column a.RefreshToken does not exist
    Position: 251
    File: parse_relation.c
    Line: 3656
    Routine: errorMissingColumn
2023-08-19 13:23:49.118 +04:00 [ERR] 42703: column a.RefreshToken does not exist

POSITION: 251
2023-08-19 13:23:49.156 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/Auth/Login application/json 63 - 500 - application/json 4768.9578ms
2023-08-19 13:28:15.327 +04:00 [INF] User profile is available. Using 'C:\Users\K\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-19 13:28:15.683 +04:00 [INF] Now listening on: https://localhost:7131
2023-08-19 13:28:15.684 +04:00 [INF] Now listening on: http://localhost:5131
2023-08-19 13:28:15.688 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-19 13:28:15.689 +04:00 [INF] Hosting environment: Development
2023-08-19 13:28:15.690 +04:00 [INF] Content root path: C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\
2023-08-19 13:28:38.029 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5131/api/Auth/Login application/json 63
2023-08-19 13:28:38.102 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/Login
Accept: */*
Connection: keep-alive
Host: localhost:5131
User-Agent: PostmanRuntime/7.32.3
Accept-Encoding: gzip, deflate, br
Content-Type: application/json
Content-Length: 63
Postman-Token: [Redacted]
2023-08-19 13:28:38.107 +04:00 [INF] RequestBody: 
2023-08-19 13:28:38.108 +04:00 [INF] Response:
StatusCode: 307
Location: https://localhost:7131/api/Auth/Login
2023-08-19 13:28:38.125 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5131/api/Auth/Login application/json 63 - 307 0 - 102.2775ms
2023-08-19 13:28:38.204 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/Auth/Login application/json 63
2023-08-19 13:28:38.209 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: https
PathBase: 
Path: /api/Auth/Login
Accept: */*
Connection: keep-alive
Host: localhost:7131
User-Agent: PostmanRuntime/7.32.3
Accept-Encoding: gzip, deflate, br
Content-Type: application/json
Referer: [Redacted]
Content-Length: 63
Postman-Token: [Redacted]
2023-08-19 13:28:38.231 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 13:28:38.470 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 13:28:38.493 +04:00 [INF] RequestBody: {
    "usernameoremail":"kenken",
    "password":"Ken123!"
}
2023-08-19 13:28:40.065 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 13:28:40.993 +04:00 [ERR] Failed executing DbCommand (84ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 13:28:41.098 +04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ETicaretAPI.Persistence.Contexts.ETicaretAPIDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column a.RefreshToken does not exist

POSITION: 251
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|211_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column a.RefreshToken does not exist
    Position: 251
    File: parse_relation.c
    Line: 3656
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column a.RefreshToken does not exist

POSITION: 251
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|211_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column a.RefreshToken does not exist
    Position: 251
    File: parse_relation.c
    Line: 3656
    Routine: errorMissingColumn
2023-08-19 13:28:41.536 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 3056.6493ms
2023-08-19 13:28:41.542 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 13:28:41.809 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Npgsql.PostgresException (0x80004005): 42703: column a.RefreshToken does not exist

POSITION: 251
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|211_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at ETicaretAPI.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 117
   at ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 25
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column a.RefreshToken does not exist
    Position: 251
    File: parse_relation.c
    Line: 3656
    Routine: errorMissingColumn
2023-08-19 13:28:41.886 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/Auth/Login application/json 63 - 500 - text/plain;+charset=utf-8 3681.9250ms
2023-08-19 13:58:09.810 +04:00 [INF] User profile is available. Using 'C:\Users\K\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-19 13:58:10.378 +04:00 [INF] Now listening on: https://localhost:7131
2023-08-19 13:58:10.380 +04:00 [INF] Now listening on: http://localhost:5131
2023-08-19 13:58:10.386 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-19 13:58:10.388 +04:00 [INF] Hosting environment: Development
2023-08-19 13:58:10.389 +04:00 [INF] Content root path: C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\
2023-08-19 13:59:28.024 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - -
2023-08-19 13:59:28.076 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - - 200 12362 application/javascript;+charset=utf-8 63.0398ms
2023-08-19 13:59:28.760 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - -
2023-08-19 13:59:29.127 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 366.6193ms
2023-08-19 13:59:29.550 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - -
2023-08-19 13:59:30.314 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 764.8251ms
2023-08-19 13:59:41.192 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/index.html - -
2023-08-19 13:59:41.447 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - -
2023-08-19 13:59:41.450 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - -
2023-08-19 13:59:41.456 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - - 200 12362 application/javascript;+charset=utf-8 5.5570ms
2023-08-19 13:59:41.480 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/index.html - - - 200 - text/html;charset=utf-8 287.6629ms
2023-08-19 13:59:41.480 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.4656ms
2023-08-19 13:59:41.548 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - -
2023-08-19 13:59:41.614 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 66.4711ms
2023-08-19 14:00:18.952 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/users - -
2023-08-19 14:00:18.986 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /users
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:00:18.993 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:00:18.997 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:00:19.003 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/users - - - 204 - - 51.3705ms
2023-08-19 14:00:19.005 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/users application/json 125
2023-08-19 14:00:19.008 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /users
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 125
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:00:19.010 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:00:19.045 +04:00 [INF] RequestBody: 
2023-08-19 14:00:19.047 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 14:00:19.052 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/users application/json 125 - 404 0 - 46.8181ms
2023-08-19 14:00:26.845 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/baskets - -
2023-08-19 14:00:26.847 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /baskets
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:00:26.850 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:00:26.852 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 14:00:26.854 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/baskets - - - 404 0 - 9.0872ms
2023-08-19 14:00:31.757 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/files/GetBaseStorageUrl - -
2023-08-19 14:00:31.760 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /files/GetBaseStorageUrl
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:00:31.761 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:00:31.766 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 14:00:31.768 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/files/GetBaseStorageUrl - - - 404 0 - 11.1231ms
2023-08-19 14:00:54.307 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/auth/google-login - -
2023-08-19 14:00:54.307 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/auth/google-login - -
2023-08-19 14:00:54.309 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /auth/google-login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:00:54.310 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /auth/google-login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:00:54.313 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:00:54.315 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:00:54.316 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:00:54.317 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:00:54.318 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/auth/google-login - - - 204 - - 11.7535ms
2023-08-19 14:00:54.319 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/auth/google-login - - - 204 - - 12.4095ms
2023-08-19 14:00:54.324 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/auth/google-login application/json 1436
2023-08-19 14:00:54.337 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/auth/google-login application/json 1436
2023-08-19 14:00:54.337 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /auth/google-login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 1436
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:00:54.338 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /auth/google-login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 1436
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:00:54.340 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:00:54.342 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:00:54.344 +04:00 [INF] RequestBody: 
2023-08-19 14:00:54.346 +04:00 [INF] RequestBody: 
2023-08-19 14:00:54.348 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 14:00:54.349 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 14:00:54.350 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/auth/google-login application/json 1436 - 404 0 - 27.2575ms
2023-08-19 14:00:54.352 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/auth/google-login application/json 1436 - 404 0 - 15.3386ms
2023-08-19 14:01:19.022 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/auth/google-login - -
2023-08-19 14:01:19.025 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /auth/google-login
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Cookie: [Redacted]
Upgrade-Insecure-Requests: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-user: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:01:19.028 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 14:01:19.029 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/auth/google-login - - - 404 0 - 7.2026ms
2023-08-19 14:01:24.994 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/index.html - -
2023-08-19 14:01:25.017 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/index.html - - - 200 - text/html;charset=utf-8 22.9077ms
2023-08-19 14:01:25.152 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - -
2023-08-19 14:01:25.176 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - - 200 12362 application/javascript;+charset=utf-8 24.3257ms
2023-08-19 14:01:25.188 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - -
2023-08-19 14:01:25.227 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.7287ms
2023-08-19 14:01:25.411 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - -
2023-08-19 14:01:25.468 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 57.2215ms
2023-08-19 14:01:58.013 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/Products - -
2023-08-19 14:01:58.030 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/Products
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Cookie: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:01:58.039 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 14:01:58.489 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 14:01:58.649 +04:00 [INF] Get all products
2023-08-19 14:02:00.591 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 14:02:01.307 +04:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 14:02:01.458 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-08-19 14:02:01.460 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-08-19 14:02:01.835 +04:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 14:02:01.854 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 14:02:01.873 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 14:02:01.885 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 3381.3154ms
2023-08-19 14:02:01.887 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 14:02:01.893 +04:00 [INF] ResponseBody: {"totalProductCount":0,"products":[]}
2023-08-19 14:02:01.911 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/Products - - - 200 - application/json;+charset=utf-8 3897.6916ms
2023-08-19 14:02:16.101 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/Products?Page=1&Size=5 - -
2023-08-19 14:02:16.113 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/Products
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Cookie: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:02:16.114 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 14:02:16.129 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 14:02:16.168 +04:00 [INF] Get all products
2023-08-19 14:02:16.232 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 14:02:16.239 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 14:02:16.246 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-08-19 14:02:16.247 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-08-19 14:02:16.265 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_0 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 14:02:16.270 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 14:02:16.272 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 14:02:16.274 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 120.8342ms
2023-08-19 14:02:16.276 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 14:02:16.278 +04:00 [INF] ResponseBody: {"totalProductCount":0,"products":[]}
2023-08-19 14:02:16.280 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/Products?Page=1&Size=5 - - - 200 - application/json;+charset=utf-8 178.5189ms
2023-08-19 14:03:13.026 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/Products application/json 54
2023-08-19 14:03:13.034 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/Products
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Cookie: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 54
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:03:13.043 +04:00 [INF] CORS policy execution failed.
2023-08-19 14:03:13.045 +04:00 [INF] Request origin https://localhost:7131 does not have permission to access the resource.
2023-08-19 14:03:13.363 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 14:03:13.376 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 14:03:13.378 +04:00 [INF] RequestBody: 
2023-08-19 14:03:13.379 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 14:03:13.380 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/Products application/json 54 - 401 0 - 354.0392ms
2023-08-19 14:04:41.138 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/Users - -
2023-08-19 14:04:41.150 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/Users
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Cookie: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:04:41.152 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 14:04:41.153 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 14:04:41.154 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 14:04:41.155 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/Users - - - 401 0 - 16.9953ms
2023-08-19 14:05:49.151 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/users - -
2023-08-19 14:05:49.158 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /users
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:05:49.163 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:05:49.165 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:05:49.167 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/users - - - 204 - - 17.4590ms
2023-08-19 14:05:49.170 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/users application/json 125
2023-08-19 14:05:49.172 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /users
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 125
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:05:49.174 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:05:49.175 +04:00 [INF] RequestBody: 
2023-08-19 14:05:49.177 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 14:05:49.178 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/users application/json 125 - 404 0 - 8.3478ms
2023-08-19 14:15:37.051 +04:00 [INF] User profile is available. Using 'C:\Users\K\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-19 14:15:38.081 +04:00 [INF] Now listening on: https://localhost:7131
2023-08-19 14:15:38.084 +04:00 [INF] Now listening on: http://localhost:5131
2023-08-19 14:15:38.097 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-19 14:15:38.099 +04:00 [INF] Hosting environment: Development
2023-08-19 14:15:38.101 +04:00 [INF] Content root path: C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\
2023-08-19 14:15:44.856 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/users - -
2023-08-19 14:15:45.015 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /users
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:15:45.025 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:15:45.033 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:15:45.055 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/users - - - 204 - - 205.4341ms
2023-08-19 14:15:45.059 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/users application/json 128
2023-08-19 14:15:45.084 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /users
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 128
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:15:45.088 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:15:45.125 +04:00 [INF] RequestBody: 
2023-08-19 14:15:45.128 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 14:15:45.135 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/users application/json 128 - 404 0 - 75.8332ms
2023-08-19 14:16:56.922 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - -
2023-08-19 14:16:56.922 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - -
2023-08-19 14:16:56.936 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - - 200 12362 application/javascript;+charset=utf-8 13.9788ms
2023-08-19 14:16:57.061 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 139.1554ms
2023-08-19 14:16:57.153 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - -
2023-08-19 14:16:57.615 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 461.8491ms
2023-08-19 14:18:17.360 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/Users application/json 153
2023-08-19 14:18:17.407 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/Users
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Cookie: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 153
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:18:17.414 +04:00 [INF] CORS policy execution failed.
2023-08-19 14:18:17.416 +04:00 [INF] Request origin https://localhost:7131 does not have permission to access the resource.
2023-08-19 14:18:17.426 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.UsersController.CreateUser (ETicaretAPI.API)'
2023-08-19 14:18:17.956 +04:00 [INF] Route matched with {action = "CreateUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateUser(ETicaretAPI.Application.Features.Commands.AppUser.CreateUser.CreateUserCommandRequest) on controller ETicaretAPI.API.Controllers.UsersController (ETicaretAPI.API).
2023-08-19 14:18:18.021 +04:00 [INF] RequestBody: {
  "nameSurname": "Kanan Bayram",
  "username": "Ken",
  "email": "kenan@mail.ru",
  "password": "KenKen920920!",
  "passwordConfirm": "KenKen920920!"
}
2023-08-19 14:18:20.390 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 14:18:21.329 +04:00 [INF] Executed DbCommand (44ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 14:18:21.769 +04:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = DateTime), @p15='?', @p16='?' (DbType = Boolean), @p17='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NameSurname", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenEndDate", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2023-08-19 14:18:21.867 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.CreateUser.CreateUserCommandResponse'.
2023-08-19 14:18:21.881 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 14:18:21.890 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.UsersController.CreateUser (ETicaretAPI.API) in 3923.4448ms
2023-08-19 14:18:21.895 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.UsersController.CreateUser (ETicaretAPI.API)'
2023-08-19 14:18:21.899 +04:00 [INF] ResponseBody: {"succeeded":true,"message":"Kullanc baaryla oluturulmutur."}
2023-08-19 14:18:21.921 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/Users application/json 153 - 200 - application/json;+charset=utf-8 4561.8272ms
2023-08-19 14:19:01.871 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/auth/login - -
2023-08-19 14:19:01.881 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /auth/login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:19:01.887 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:19:01.888 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:19:01.889 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/auth/login - - - 204 - - 18.8816ms
2023-08-19 14:19:01.900 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/auth/login application/json 51
2023-08-19 14:19:01.903 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /auth/login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 51
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:19:01.904 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:19:01.909 +04:00 [INF] RequestBody: 
2023-08-19 14:19:01.911 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 14:19:01.913 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/auth/login application/json 51 - 404 0 - 13.3253ms
2023-08-19 14:19:30.080 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/Auth/Login application/json 57
2023-08-19 14:19:30.095 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/Auth/Login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Cookie: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 57
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:19:30.097 +04:00 [INF] CORS policy execution failed.
2023-08-19 14:19:30.098 +04:00 [INF] Request origin https://localhost:7131 does not have permission to access the resource.
2023-08-19 14:19:30.101 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 14:19:30.141 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:19:30.145 +04:00 [INF] RequestBody: {
  "usernameOrEmail": "string",
  "password": "string"
}
2023-08-19 14:19:30.236 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 14:19:30.333 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 14:19:30.347 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-19 14:19:30.676 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 532.0026ms
2023-08-19 14:19:30.680 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 14:19:30.885 +04:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal.
   at ETicaretAPI.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 122
   at ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 25
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 14:19:31.076 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/Auth/Login application/json 57 - 500 - text/plain;+charset=utf-8 996.0973ms
2023-08-19 14:19:51.344 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/Auth/Login application/json 61
2023-08-19 14:19:51.350 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/Auth/Login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Cookie: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 61
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:19:51.353 +04:00 [INF] CORS policy execution failed.
2023-08-19 14:19:51.354 +04:00 [INF] Request origin https://localhost:7131 does not have permission to access the resource.
2023-08-19 14:19:51.356 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 14:19:51.370 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:19:51.374 +04:00 [INF] RequestBody: {
  "usernameOrEmail": "Ken",
  "password": "KenKen920920!"
}
2023-08-19 14:19:51.392 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 14:19:51.427 +04:00 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 14:19:51.891 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 14:19:51.934 +04:00 [INF] Executed DbCommand (16ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 14:19:51.945 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2023-08-19 14:19:51.958 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 14:19:51.959 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 586.1729ms
2023-08-19 14:19:51.962 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 14:19:51.963 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQwMzkxLCJleHAiOjE2OTI0NDEyOTEsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.tfXVqXcr9XMpo-vuVTV0w72qRv3RZdxbiEz4CcywoCw","expiration":"2023-08-19T10:34:51.5855267Z","refreshToken":"mGo5aXpMCA10iM5pqw537AWuLJUessojUMuAr5dATD0="}}
2023-08-19 14:19:51.966 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/Auth/Login application/json 61 - 200 - application/json;+charset=utf-8 622.4290ms
2023-08-19 14:23:59.933 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/auth/login - -
2023-08-19 14:23:59.941 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /auth/login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:23:59.945 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:23:59.947 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:23:59.950 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/auth/login - - - 204 - - 17.3082ms
2023-08-19 14:23:59.955 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/auth/login application/json 51
2023-08-19 14:23:59.959 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /auth/login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 51
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:23:59.963 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:23:59.965 +04:00 [INF] RequestBody: 
2023-08-19 14:23:59.967 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 14:23:59.972 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/auth/login application/json 51 - 404 0 - 18.6984ms
2023-08-19 14:24:40.612 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/auth/login - -
2023-08-19 14:24:40.618 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /auth/login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:24:40.620 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:24:40.621 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:24:40.623 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/auth/login - - - 204 - - 10.7693ms
2023-08-19 14:24:40.630 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/auth/login application/json 52
2023-08-19 14:24:40.631 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /auth/login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 52
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:24:40.632 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:24:40.635 +04:00 [INF] RequestBody: 
2023-08-19 14:24:40.637 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 14:24:40.639 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/auth/login application/json 52 - 404 0 - 9.6939ms
2023-08-19 14:29:14.438 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/login - -
2023-08-19 14:29:14.443 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:29:14.451 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:29:14.452 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:29:14.453 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/login - - - 204 - - 16.1688ms
2023-08-19 14:29:14.455 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/login application/json 52
2023-08-19 14:29:14.456 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 52
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:29:14.457 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:29:14.458 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 14:29:14.464 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:29:14.471 +04:00 [INF] RequestBody: {"userNameOrEmail":"Ken","password":"KenKen920920!"}
2023-08-19 14:29:14.491 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 14:29:14.571 +04:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 14:29:14.595 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 14:29:14.608 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 14:29:14.621 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2023-08-19 14:29:14.623 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 14:29:14.624 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 154.3834ms
2023-08-19 14:29:14.625 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 14:29:14.626 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQwOTU0LCJleHAiOjE2OTI0NDE4NTQsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.KXqOLNXMIK3OuMz2V55blgqkbWTT5-JLGb82AEyIe3c","expiration":"2023-08-19T10:44:14.5913248Z","refreshToken":"MJydDOGKSGEtXaJdS9JsoXaJfGh/7qo4MsNawQGGK/4="}}
2023-08-19 14:29:14.628 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/login application/json 52 - 200 - application/json;+charset=utf-8 173.2254ms
2023-08-19 14:29:23.867 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/orders?page=0&size=5 - -
2023-08-19 14:29:23.871 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /orders
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:29:23.872 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:29:23.874 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 14:29:23.875 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/orders?page=0&size=5 - - - 404 0 - 8.4324ms
2023-08-19 14:29:32.866 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/products?page=0&size=5 - -
2023-08-19 14:29:32.868 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:29:32.869 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:29:32.871 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 14:29:32.872 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/products?page=0&size=5 - - - 404 0 - 6.6446ms
2023-08-19 14:29:38.144 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/ApplicationServices - -
2023-08-19 14:29:38.145 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /ApplicationServices
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:29:38.148 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:29:38.150 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 14:29:38.152 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/ApplicationServices - - - 404 0 - 8.1465ms
2023-08-19 14:29:39.612 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/roles?page=0&size=5 - -
2023-08-19 14:29:39.613 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /roles
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:29:39.616 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:29:39.617 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 14:29:39.621 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/roles?page=0&size=5 - - - 404 0 - 8.2986ms
2023-08-19 14:29:41.081 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/users?page=0&size=5 - -
2023-08-19 14:29:41.094 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /users
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:29:41.096 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:29:41.098 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 14:29:41.099 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/users?page=0&size=5 - - - 404 0 - 17.9924ms
2023-08-19 14:29:47.417 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/files/GetBaseStorageUrl - -
2023-08-19 14:29:47.420 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /files/GetBaseStorageUrl
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:29:47.422 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:29:47.423 +04:00 [INF] Response:
StatusCode: 404
2023-08-19 14:29:47.424 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/files/GetBaseStorageUrl - - - 404 0 - 7.1421ms
2023-08-19 14:33:17.876 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/files/GetBaseStorageUrl - -
2023-08-19 14:33:17.926 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/files/GetBaseStorageUrl
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:33:17.934 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:33:17.935 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2023-08-19 14:33:17.943 +04:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2023-08-19 14:33:17.948 +04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-08-19 14:33:17.964 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 14:33:17.967 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 19.5465ms
2023-08-19 14:33:17.977 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2023-08-19 14:33:17.979 +04:00 [INF] ResponseBody: {"url":null}
2023-08-19 14:33:17.981 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 104.8937ms
2023-08-19 14:33:17.987 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=12 - -
2023-08-19 14:33:17.989 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:33:17.992 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:33:17.994 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 14:33:18.008 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 14:33:18.047 +04:00 [INF] Get all products
2023-08-19 14:33:18.050 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 14:33:18.142 +04:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 14:33:18.209 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-08-19 14:33:18.210 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-08-19 14:33:18.559 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 14:33:18.563 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 14:33:18.573 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 14:33:18.574 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 563.6662ms
2023-08-19 14:33:18.576 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 14:33:18.577 +04:00 [INF] ResponseBody: {"totalProductCount":0,"products":[]}
2023-08-19 14:33:18.579 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 591.9827ms
2023-08-19 14:33:30.252 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/files/GetBaseStorageUrl - -
2023-08-19 14:33:30.254 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/files/GetBaseStorageUrl
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:33:30.255 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:33:30.257 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2023-08-19 14:33:30.261 +04:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2023-08-19 14:33:30.263 +04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-08-19 14:33:30.265 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 14:33:30.266 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 3.2268ms
2023-08-19 14:33:30.273 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2023-08-19 14:33:30.274 +04:00 [INF] ResponseBody: {"url":null}
2023-08-19 14:33:30.278 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 25.5156ms
2023-08-19 14:33:30.345 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=12 - -
2023-08-19 14:33:30.347 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:33:30.359 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:33:30.360 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 14:33:30.362 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 14:33:30.366 +04:00 [INF] Get all products
2023-08-19 14:33:30.368 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 14:33:30.375 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 14:33:30.382 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 14:33:30.385 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 14:33:30.387 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 14:33:30.388 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 23.5446ms
2023-08-19 14:33:30.391 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 14:33:30.393 +04:00 [INF] ResponseBody: {"totalProductCount":0,"products":[]}
2023-08-19 14:33:30.394 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 48.9768ms
2023-08-19 14:34:14.926 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/login - -
2023-08-19 14:34:14.933 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:34:14.936 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:34:14.937 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:34:14.938 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/login - - - 204 - - 12.4503ms
2023-08-19 14:34:14.945 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/login application/json 52
2023-08-19 14:34:14.946 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 52
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:34:14.948 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:34:14.950 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 14:34:14.953 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:34:14.955 +04:00 [INF] RequestBody: {"userNameOrEmail":"Ken","password":"KenKen920920!"}
2023-08-19 14:34:14.957 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 14:34:14.996 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 14:34:15.011 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 14:34:15.022 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 14:34:15.030 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2023-08-19 14:34:15.032 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 14:34:15.035 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 79.6784ms
2023-08-19 14:34:15.041 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 14:34:15.056 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQxMjU1LCJleHAiOjE2OTI0NDIxNTUsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.uDv_4B6B9i3KciDBAd7BmPwEafeswHTHcK4eV9cgqv8","expiration":"2023-08-19T10:49:15.008533Z","refreshToken":"Y+rDbesKoZce4LFEZW9I7Kjn7X+K0MiiPhqln8JUryk="}}
2023-08-19 14:34:15.057 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/login application/json 52 - 200 - application/json;+charset=utf-8 112.2191ms
2023-08-19 14:34:22.161 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/files/GetBaseStorageUrl - -
2023-08-19 14:34:22.163 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/files/GetBaseStorageUrl
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:34:22.166 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:34:22.168 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2023-08-19 14:34:22.172 +04:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2023-08-19 14:34:22.175 +04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-08-19 14:34:22.178 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 14:34:22.180 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 4.3932ms
2023-08-19 14:34:22.183 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2023-08-19 14:34:22.185 +04:00 [INF] ResponseBody: {"url":null}
2023-08-19 14:34:22.188 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 26.9745ms
2023-08-19 14:34:22.191 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=12 - -
2023-08-19 14:34:22.192 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:34:22.194 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:34:22.195 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 14:34:22.197 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 14:34:22.208 +04:00 [INF] Get all products
2023-08-19 14:34:22.211 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 14:34:22.216 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 14:34:22.223 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 14:34:22.227 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 14:34:22.229 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 14:34:22.230 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 30.0753ms
2023-08-19 14:34:22.232 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 14:34:22.233 +04:00 [INF] ResponseBody: {"totalProductCount":0,"products":[]}
2023-08-19 14:34:22.235 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 43.5908ms
2023-08-19 14:34:26.622 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - -
2023-08-19 14:34:26.624 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:34:26.626 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:34:26.628 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 14:34:26.630 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 14:34:26.634 +04:00 [INF] Get all products
2023-08-19 14:34:26.635 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 14:34:26.640 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 14:34:26.651 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 14:34:26.655 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 14:34:26.657 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 14:34:26.660 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 26.4104ms
2023-08-19 14:34:26.663 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 14:34:26.665 +04:00 [INF] ResponseBody: {"totalProductCount":0,"products":[]}
2023-08-19 14:34:26.666 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 44.3318ms
2023-08-19 14:34:28.725 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/ApplicationServices - -
2023-08-19 14:34:28.727 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/ApplicationServices
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:34:28.729 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:34:28.797 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 14:34:28.810 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 14:34:28.812 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 14:34:28.815 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/ApplicationServices - - - 401 0 - 89.7412ms
2023-08-19 14:34:28.819 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 14:34:28.821 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:34:28.823 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:34:28.824 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:34:28.826 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 7.1955ms
2023-08-19 14:34:28.827 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 14:34:28.828 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:34:28.830 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:34:28.832 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 14:34:28.836 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:34:28.838 +04:00 [INF] RequestBody: {"refreshToken":"Y+rDbesKoZce4LFEZW9I7Kjn7X+K0MiiPhqln8JUryk="}
2023-08-19 14:34:28.847 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 14:34:28.856 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 14:34:28.865 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 14:34:28.870 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 14:34:28.880 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 14:34:28.882 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 14:34:28.884 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 46.0032ms
2023-08-19 14:34:28.886 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 14:34:28.888 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQxMjY4LCJleHAiOjE2OTI0NDEyODMsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.VIyTYqLCLWpJeRmRfLT4rdJSSE1FF-Qg8SxADBY4Lfg","expiration":"2023-08-19T10:34:43.8625814Z","refreshToken":"kIWCHcUwXwoQ0v0iS8Lb1sbhs+MXKDmvf8f0mAx6DQw="}}
2023-08-19 14:34:28.889 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 61.5790ms
2023-08-19 14:35:04.335 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - -
2023-08-19 14:35:04.337 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/orders
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:35:04.339 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:35:04.342 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 14:35:04.344 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 14:35:04.346 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 14:35:04.347 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - - - 401 0 - 12.8982ms
2023-08-19 14:35:04.370 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 14:35:04.373 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:35:04.375 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:35:04.377 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:35:04.378 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 8.3101ms
2023-08-19 14:35:04.381 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 14:35:04.383 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:35:04.385 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:35:04.387 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 14:35:04.389 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:35:04.393 +04:00 [INF] RequestBody: {"refreshToken":"kIWCHcUwXwoQ0v0iS8Lb1sbhs+MXKDmvf8f0mAx6DQw="}
2023-08-19 14:35:04.395 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 14:35:04.401 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 14:35:04.410 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 14:35:04.425 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 14:35:04.438 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 14:35:04.440 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 14:35:04.441 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 48.884ms
2023-08-19 14:35:04.443 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 14:35:04.445 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQxMzA0LCJleHAiOjE2OTI0NDEzMTksImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.msK9Z_6QDQJ71ElgHuBbm7TU4iZKdZBCCu1BgNcZq_8","expiration":"2023-08-19T10:35:19.4061489Z","refreshToken":"6V+KIjoXxX5lJBY7K3eTQuRS2py1DDi+sGyoWsvaB3k="}}
2023-08-19 14:35:04.446 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 65.9468ms
2023-08-19 14:35:09.018 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/ApplicationServices - -
2023-08-19 14:35:09.032 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/ApplicationServices
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:35:09.033 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:35:09.036 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 14:35:09.038 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 14:35:09.039 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 14:35:09.041 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/ApplicationServices - - - 401 0 - 22.8610ms
2023-08-19 14:35:09.048 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 14:35:09.049 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:35:09.050 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:35:09.051 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 14:35:09.053 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:35:09.057 +04:00 [INF] RequestBody: {"refreshToken":"6V+KIjoXxX5lJBY7K3eTQuRS2py1DDi+sGyoWsvaB3k="}
2023-08-19 14:35:09.061 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 14:35:09.068 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 14:35:09.074 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 14:35:09.080 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 14:35:09.089 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 14:35:09.091 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 14:35:09.092 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 36.1321ms
2023-08-19 14:35:09.095 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 14:35:09.096 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQxMzA5LCJleHAiOjE2OTI0NDEzMjQsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.gFaXGkipYRmg3LgU0lCAeSpnO9RdX1KEBW0fmkhE5pA","expiration":"2023-08-19T10:35:24.0720962Z","refreshToken":"dr7DXkQpJN8SisBT1e6VgZOW7fttpTSxqEfmVoimMJM="}}
2023-08-19 14:35:09.097 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 49.5042ms
2023-08-19 14:35:11.141 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/roles?page=0&size=5 - -
2023-08-19 14:35:11.143 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/roles
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:35:11.144 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:35:11.146 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 14:35:11.148 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 14:35:11.150 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 14:35:11.153 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/roles?page=0&size=5 - - - 401 0 - 12.3885ms
2023-08-19 14:35:11.177 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 14:35:11.179 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:35:11.181 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:35:11.183 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:35:11.186 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 8.5872ms
2023-08-19 14:35:11.191 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 14:35:11.193 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:35:11.195 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:35:11.197 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 14:35:11.198 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:35:11.200 +04:00 [INF] RequestBody: {"refreshToken":"dr7DXkQpJN8SisBT1e6VgZOW7fttpTSxqEfmVoimMJM="}
2023-08-19 14:35:11.202 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 14:35:11.208 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 14:35:11.216 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 14:35:11.221 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 14:35:11.230 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 14:35:11.232 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 14:35:11.233 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 32.875ms
2023-08-19 14:35:11.235 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 14:35:11.236 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQxMzExLCJleHAiOjE2OTI0NDEzMjYsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.F8aOsSbfj-96I70ahtpigXm9BLpaLkOhMamMojpP_kg","expiration":"2023-08-19T10:35:26.2136586Z","refreshToken":"crdlV9xcYWM7n/HGUnqtkV32Zv+ZaBEeCDxEK6mvouE="}}
2023-08-19 14:35:11.238 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 46.9491ms
2023-08-19 14:36:38.925 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/ApplicationServices - -
2023-08-19 14:36:38.931 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/ApplicationServices
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:36:38.935 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:36:38.936 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 14:36:38.939 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 14:36:38.941 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 14:36:38.942 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/ApplicationServices - - - 401 0 - 17.1854ms
2023-08-19 14:36:38.952 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 14:36:38.953 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:36:38.955 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:36:38.956 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:36:38.957 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 5.1042ms
2023-08-19 14:36:38.959 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 14:36:38.960 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:36:38.963 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:36:38.964 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 14:36:38.966 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:36:38.969 +04:00 [INF] RequestBody: {"refreshToken":"crdlV9xcYWM7n/HGUnqtkV32Zv+ZaBEeCDxEK6mvouE="}
2023-08-19 14:36:38.970 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 14:36:38.976 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 14:36:38.983 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 14:36:38.988 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 14:36:38.997 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 14:36:39.000 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 14:36:39.001 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 32.2571ms
2023-08-19 14:36:39.003 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 14:36:39.004 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQxMzk4LCJleHAiOjE2OTI0NDE0MTMsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.ec0YkzBFZdj7oVmMT8xGGU8Z5YLdDBhPpUOtHM3kG8o","expiration":"2023-08-19T10:36:53.9805683Z","refreshToken":"IHQ2gxE6tV4rJL0jSP0P+nG+V+iYIXXw81DHhCm+Vec="}}
2023-08-19 14:36:39.005 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 46.8367ms
2023-08-19 14:37:08.601 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/roles?page=0&size=5 - -
2023-08-19 14:37:08.612 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/roles
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:37:08.613 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:37:08.615 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 14:37:08.616 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 14:37:08.619 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 14:37:08.620 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/roles?page=0&size=5 - - - 401 0 - 18.7474ms
2023-08-19 14:37:08.647 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 14:37:08.649 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:37:08.651 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:37:08.652 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:37:08.654 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 6.3742ms
2023-08-19 14:37:08.656 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 14:37:08.665 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:37:08.668 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:37:08.669 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 14:37:08.673 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:37:08.675 +04:00 [INF] RequestBody: {"refreshToken":"IHQ2gxE6tV4rJL0jSP0P+nG+V+iYIXXw81DHhCm+Vec="}
2023-08-19 14:37:08.678 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 14:37:08.684 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 14:37:08.693 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 14:37:08.701 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 14:37:08.709 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 14:37:08.711 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 14:37:08.712 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 37.4539ms
2023-08-19 14:37:08.714 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 14:37:08.715 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQxNDI4LCJleHAiOjE2OTI0NDE0NDMsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.o1_rrGuGVzpPvSzYMKrgFvCjwHB8vTAyHuFbWbb_J68","expiration":"2023-08-19T10:37:23.6894085Z","refreshToken":"qsfGVi+dEjDRqGwIqx1imj25ytLThRaudBpE1lMQ2yM="}}
2023-08-19 14:37:08.717 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 60.6898ms
2023-08-19 14:37:40.191 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/ApplicationServices - -
2023-08-19 14:37:40.200 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/ApplicationServices
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:37:40.204 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:37:40.209 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 14:37:40.212 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 14:37:40.214 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 14:37:40.216 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/ApplicationServices - - - 401 0 - 24.7452ms
2023-08-19 14:37:40.230 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 14:37:40.231 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:37:40.236 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:37:40.239 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:37:40.241 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 10.8028ms
2023-08-19 14:37:40.245 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 14:37:40.247 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:37:40.249 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:37:40.253 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 14:37:40.257 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:37:40.260 +04:00 [INF] RequestBody: {"refreshToken":"qsfGVi+dEjDRqGwIqx1imj25ytLThRaudBpE1lMQ2yM="}
2023-08-19 14:37:40.262 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 14:37:40.273 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 14:37:40.280 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 14:37:40.288 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 14:37:40.295 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 14:37:40.297 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 14:37:40.298 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 37.5639ms
2023-08-19 14:37:40.300 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 14:37:40.303 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQxNDYwLCJleHAiOjE2OTI0NDE0NzUsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.M4KN8nFbqA3SrygBDTLHZN7D7HNLXOj-Y9EVY-bpr9k","expiration":"2023-08-19T10:37:55.2780885Z","refreshToken":"GRUQ2aGg7aNUZIwI/KyNA3+Bb+zmeou6s9cwRFRTkMo="}}
2023-08-19 14:37:40.305 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 59.6641ms
2023-08-19 14:38:07.911 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/roles?page=0&size=5 - -
2023-08-19 14:38:07.923 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/roles
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:38:07.926 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:38:07.928 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 14:38:07.930 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 14:38:07.931 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 14:38:07.933 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/roles?page=0&size=5 - - - 401 0 - 21.7616ms
2023-08-19 14:38:07.956 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 14:38:07.957 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:38:07.960 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:38:07.961 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:38:07.963 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 7.0112ms
2023-08-19 14:38:07.965 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 14:38:07.966 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:38:07.970 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:38:07.973 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 14:38:07.977 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:38:07.979 +04:00 [INF] RequestBody: {"refreshToken":"GRUQ2aGg7aNUZIwI/KyNA3+Bb+zmeou6s9cwRFRTkMo="}
2023-08-19 14:38:07.982 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 14:38:07.988 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 14:38:07.998 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 14:38:08.002 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 14:38:08.010 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 14:38:08.012 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 14:38:08.012 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 33.1124ms
2023-08-19 14:38:08.014 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 14:38:08.017 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQxNDg3LCJleHAiOjE2OTI0NDE1MDIsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.3Sjmro2qo32FEXIsjoYidl6nCfzU99JDxpOnK5kZya4","expiration":"2023-08-19T10:38:22.9950562Z","refreshToken":"xLu55xTAzEbq5eAsxxa83x2psG4i2dx+MAK/EJlVqME="}}
2023-08-19 14:38:08.021 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 56.7524ms
2023-08-19 14:38:10.046 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/roles - -
2023-08-19 14:38:10.048 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/roles
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:38:10.050 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:38:10.051 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:38:10.052 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/roles - - - 204 - - 6.0717ms
2023-08-19 14:38:10.054 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/roles application/json 11
2023-08-19 14:38:10.055 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/roles
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 11
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:38:10.056 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:38:10.057 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 14:38:10.058 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 14:38:10.059 +04:00 [INF] RequestBody: 
2023-08-19 14:38:10.060 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 14:38:10.061 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/roles application/json 11 - 401 0 - 6.7460ms
2023-08-19 14:38:10.064 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 14:38:10.066 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:38:10.067 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:38:10.068 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 14:38:10.071 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:38:10.074 +04:00 [INF] RequestBody: {"refreshToken":"xLu55xTAzEbq5eAsxxa83x2psG4i2dx+MAK/EJlVqME="}
2023-08-19 14:38:10.077 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 14:38:10.084 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 14:38:10.092 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 14:38:10.101 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 14:38:10.110 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 14:38:10.112 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 14:38:10.112 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 38.2814ms
2023-08-19 14:38:10.114 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 14:38:10.115 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQxNDkwLCJleHAiOjE2OTI0NDE1MDUsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.cSpz43X42nGnDobgaJO4VH1btEGy-1q-swXgZq-67NY","expiration":"2023-08-19T10:38:25.0891964Z","refreshToken":"tv5fpCS44L7onYVgY3yqCCLEDqjpF3r6H+IUYKODoOo="}}
2023-08-19 14:38:10.116 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 52.1135ms
2023-08-19 14:38:13.079 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/roles application/json 11
2023-08-19 14:38:13.083 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/roles
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 11
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:38:13.086 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:38:13.087 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 14:38:13.088 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 14:38:13.090 +04:00 [INF] RequestBody: 
2023-08-19 14:38:13.091 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 14:38:13.092 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/roles application/json 11 - 401 0 - 13.3562ms
2023-08-19 14:38:13.096 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 14:38:13.099 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:38:13.102 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:38:13.104 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:38:13.109 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 13.3165ms
2023-08-19 14:38:13.111 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 14:38:13.112 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:38:13.113 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:38:13.117 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 14:38:13.121 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:38:13.124 +04:00 [INF] RequestBody: {"refreshToken":"tv5fpCS44L7onYVgY3yqCCLEDqjpF3r6H+IUYKODoOo="}
2023-08-19 14:38:13.125 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 14:38:13.130 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 14:38:13.142 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 14:38:13.147 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 14:38:13.159 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 14:38:13.161 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 14:38:13.162 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 38.0801ms
2023-08-19 14:38:13.165 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 14:38:13.169 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQxNDkzLCJleHAiOjE2OTI0NDE1MDgsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.WT27O4c70IjP1JUsXSj9gEte1rTxUVP036s8Nz1zuis","expiration":"2023-08-19T10:38:28.1397Z","refreshToken":"TAiU1U1HrI94mYEF2pyNg8ekafY5w5rkXs+nonsZ7QI="}}
2023-08-19 14:38:13.172 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 60.9304ms
2023-08-19 14:40:46.133 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - -
2023-08-19 14:40:46.159 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:40:46.171 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - -
2023-08-19 14:40:46.201 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:40:46.203 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:40:46.211 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:40:46.229 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:40:46.232 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - - - 204 - - 105.0784ms
2023-08-19 14:40:46.234 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:40:46.238 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455
2023-08-19 14:40:46.240 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - - - 204 - - 68.9521ms
2023-08-19 14:40:46.246 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 1455
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:40:46.257 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:40:46.258 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455
2023-08-19 14:40:46.259 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:40:46.263 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 1455
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:40:46.266 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:40:46.274 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:40:46.278 +04:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:40:46.283 +04:00 [INF] RequestBody: {"idToken":"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdjOWM3OGUzYjAwZTFiYjA5MmQyNDZjODg3YjExMjIwYzg3YjdkMjAiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMDY3NDI4Mjc2ODg1NTY3MzU3NTEiLCJlbWFpbCI6ImthbmFuYnJtQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYmYiOjE2OTI0NDEzNDcsIm5hbWUiOiJLYW5hbiBCYXlyYW0iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUFjSFR0Zml6dmtLVmF6LW54My04Zld0TEJQT0pCNUN3NW5wSThNT2ZOVTNhT2ZvPXM5Ni1jIiwiZ2l2ZW5fbmFtZSI6IkthbmFuIiwiZmFtaWx5X25hbWUiOiJCYXlyYW0iLCJsb2NhbGUiOiJlbiIsImlhdCI6MTY5MjQ0MTY0NywiZXhwIjoxNjkyNDQ1MjQ3LCJqdGkiOiJiNDU3YThmYjJlODE1NmJlYTc0NDViZTY0MjUxMWQwNzZjYzg4MTMyIn0.W3QpwdLgz7T6zgI7bRuQvwWcdO579wqefgX1Rz-jDNFQ7O9wEyIV7ck8J4rTJpqFerNBAHmJHkHHdHpYcmcXKeuMOmZ1l6u6lLAI7I8M1fihbIJipknjw4xwO2O1OTpZiJNnkSEB7J7m8gBSAcQTRy0c4f8rD6ncfHsUcOFwmyBKGunZgYPFY5zQ50hNatu23FoblkNxruS0AjmbYR1jomsaZHjQaxYabboYbngJd0o0nBr5tdic0-604lKmwJLZyzfVrCJjV9MuyMt_qK2hKbJSHhAVHIqP29Td9aFJaybXFjUyA3nSyQGLYN_hPOfcEkM7Ga3stBt2gryPY439LQ","id":"106742827688556735751","name":"Kanan Bayram","email":"kananbrm@gmail.com","photoUrl":"https://lh3.googleusercontent.com/a/AAcHTtfizvkKVaz-nx3-8fWtLBPOJB5Cw5npI8MOfNU3aOfo=s96-c","firstName":"Kanan","lastName":"Bayram","provider":"GOOGLE"}
2023-08-19 14:40:46.284 +04:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:40:46.296 +04:00 [INF] RequestBody: {"idToken":"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdjOWM3OGUzYjAwZTFiYjA5MmQyNDZjODg3YjExMjIwYzg3YjdkMjAiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMDY3NDI4Mjc2ODg1NTY3MzU3NTEiLCJlbWFpbCI6ImthbmFuYnJtQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYmYiOjE2OTI0NDEzNDcsIm5hbWUiOiJLYW5hbiBCYXlyYW0iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUFjSFR0Zml6dmtLVmF6LW54My04Zld0TEJQT0pCNUN3NW5wSThNT2ZOVTNhT2ZvPXM5Ni1jIiwiZ2l2ZW5fbmFtZSI6IkthbmFuIiwiZmFtaWx5X25hbWUiOiJCYXlyYW0iLCJsb2NhbGUiOiJlbiIsImlhdCI6MTY5MjQ0MTY0NywiZXhwIjoxNjkyNDQ1MjQ3LCJqdGkiOiJiNDU3YThmYjJlODE1NmJlYTc0NDViZTY0MjUxMWQwNzZjYzg4MTMyIn0.W3QpwdLgz7T6zgI7bRuQvwWcdO579wqefgX1Rz-jDNFQ7O9wEyIV7ck8J4rTJpqFerNBAHmJHkHHdHpYcmcXKeuMOmZ1l6u6lLAI7I8M1fihbIJipknjw4xwO2O1OTpZiJNnkSEB7J7m8gBSAcQTRy0c4f8rD6ncfHsUcOFwmyBKGunZgYPFY5zQ50hNatu23FoblkNxruS0AjmbYR1jomsaZHjQaxYabboYbngJd0o0nBr5tdic0-604lKmwJLZyzfVrCJjV9MuyMt_qK2hKbJSHhAVHIqP29Td9aFJaybXFjUyA3nSyQGLYN_hPOfcEkM7Ga3stBt2gryPY439LQ","id":"106742827688556735751","name":"Kanan Bayram","email":"kananbrm@gmail.com","photoUrl":"https://lh3.googleusercontent.com/a/AAcHTtfizvkKVaz-nx3-8fWtLBPOJB5Cw5npI8MOfNU3aOfo=s96-c","firstName":"Kanan","lastName":"Bayram","provider":"GOOGLE"}
2023-08-19 14:40:47.067 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API) in 785.1236ms
2023-08-19 14:40:47.071 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:40:47.222 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ETicaretAPI.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 107
   at ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\GoogleLogin\GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 14:40:47.292 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API) in 996.5557ms
2023-08-19 14:40:47.311 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:40:47.313 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455 - 500 - text/plain;+charset=utf-8 1074.6124ms
2023-08-19 14:40:47.361 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ETicaretAPI.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 107
   at ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\GoogleLogin\GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 14:40:47.390 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455 - 500 - text/plain;+charset=utf-8 1132.2827ms
2023-08-19 14:40:58.495 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - -
2023-08-19 14:40:58.497 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:40:58.499 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:40:58.502 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:40:58.503 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - - - 204 - - 8.3602ms
2023-08-19 14:40:58.507 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - -
2023-08-19 14:40:58.507 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455
2023-08-19 14:40:58.509 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:40:58.510 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 1455
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:40:58.512 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:40:58.513 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:40:58.515 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:40:58.517 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:40:58.518 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - - - 204 - - 11.1925ms
2023-08-19 14:40:58.523 +04:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:40:58.523 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455
2023-08-19 14:40:58.527 +04:00 [INF] RequestBody: {"idToken":"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdjOWM3OGUzYjAwZTFiYjA5MmQyNDZjODg3YjExMjIwYzg3YjdkMjAiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMDY3NDI4Mjc2ODg1NTY3MzU3NTEiLCJlbWFpbCI6ImthbmFuYnJtQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYmYiOjE2OTI0NDEzNTksIm5hbWUiOiJLYW5hbiBCYXlyYW0iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUFjSFR0Zml6dmtLVmF6LW54My04Zld0TEJQT0pCNUN3NW5wSThNT2ZOVTNhT2ZvPXM5Ni1jIiwiZ2l2ZW5fbmFtZSI6IkthbmFuIiwiZmFtaWx5X25hbWUiOiJCYXlyYW0iLCJsb2NhbGUiOiJlbiIsImlhdCI6MTY5MjQ0MTY1OSwiZXhwIjoxNjkyNDQ1MjU5LCJqdGkiOiJlZGQ3OTZhNjRjNDE3NWE1YTQ0YjIwZGYxODM1YzU2YWQ4MGY1MGI5In0.k8hi7I68J_16lZHlr0n4Ql12RIQdDsutpNYO308N5dWXcW1eQZ9ipzXdUCNgxiZYfp4MZE4nC0I-lsS-aCdF_KMje0qUNwjmlfBubs4KhW30I9HH8FgQVYo2wpzst152o1xexbTWLYFHq39XolFp5Z69WRitA6OtYQEvi3KsjjMbCJSAbmyBTxs0entkpn__6InTiFjLJgEdudlMcVmwfMn6dblByx0rOa0hZVpNFUVPwKtR_BOXdf8rIijngJDYQllyZxptJvleXdVkbF8H2qkBpIuG8S9t3yykBnAkyZQQYEbODCpraxMQPkdjb5Nu2eAUjfOy_jUwFKnGiqyvbA","id":"106742827688556735751","name":"Kanan Bayram","email":"kananbrm@gmail.com","photoUrl":"https://lh3.googleusercontent.com/a/AAcHTtfizvkKVaz-nx3-8fWtLBPOJB5Cw5npI8MOfNU3aOfo=s96-c","firstName":"Kanan","lastName":"Bayram","provider":"GOOGLE"}
2023-08-19 14:40:58.529 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 1455
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:40:58.675 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:40:58.710 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:40:58.759 +04:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:40:58.841 +04:00 [INF] RequestBody: {"idToken":"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdjOWM3OGUzYjAwZTFiYjA5MmQyNDZjODg3YjExMjIwYzg3YjdkMjAiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMDY3NDI4Mjc2ODg1NTY3MzU3NTEiLCJlbWFpbCI6ImthbmFuYnJtQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYmYiOjE2OTI0NDEzNTksIm5hbWUiOiJLYW5hbiBCYXlyYW0iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUFjSFR0Zml6dmtLVmF6LW54My04Zld0TEJQT0pCNUN3NW5wSThNT2ZOVTNhT2ZvPXM5Ni1jIiwiZ2l2ZW5fbmFtZSI6IkthbmFuIiwiZmFtaWx5X25hbWUiOiJCYXlyYW0iLCJsb2NhbGUiOiJlbiIsImlhdCI6MTY5MjQ0MTY1OSwiZXhwIjoxNjkyNDQ1MjU5LCJqdGkiOiJlZGQ3OTZhNjRjNDE3NWE1YTQ0YjIwZGYxODM1YzU2YWQ4MGY1MGI5In0.k8hi7I68J_16lZHlr0n4Ql12RIQdDsutpNYO308N5dWXcW1eQZ9ipzXdUCNgxiZYfp4MZE4nC0I-lsS-aCdF_KMje0qUNwjmlfBubs4KhW30I9HH8FgQVYo2wpzst152o1xexbTWLYFHq39XolFp5Z69WRitA6OtYQEvi3KsjjMbCJSAbmyBTxs0entkpn__6InTiFjLJgEdudlMcVmwfMn6dblByx0rOa0hZVpNFUVPwKtR_BOXdf8rIijngJDYQllyZxptJvleXdVkbF8H2qkBpIuG8S9t3yykBnAkyZQQYEbODCpraxMQPkdjb5Nu2eAUjfOy_jUwFKnGiqyvbA","id":"106742827688556735751","name":"Kanan Bayram","email":"kananbrm@gmail.com","photoUrl":"https://lh3.googleusercontent.com/a/AAcHTtfizvkKVaz-nx3-8fWtLBPOJB5Cw5npI8MOfNU3aOfo=s96-c","firstName":"Kanan","lastName":"Bayram","provider":"GOOGLE"}
2023-08-19 14:40:58.841 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API) in 314.3727ms
2023-08-19 14:40:58.928 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:40:59.121 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ETicaretAPI.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 107
   at ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\GoogleLogin\GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 14:40:59.122 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API) in 281.4769ms
2023-08-19 14:40:59.139 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:40:59.140 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455 - 500 - text/plain;+charset=utf-8 633.3963ms
2023-08-19 14:40:59.179 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ETicaretAPI.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 107
   at ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\GoogleLogin\GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 14:40:59.199 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455 - 500 - text/plain;+charset=utf-8 676.6746ms
2023-08-19 14:41:05.662 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - -
2023-08-19 14:41:05.663 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:41:05.666 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:41:05.667 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:41:05.669 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - - - 204 - - 7.2911ms
2023-08-19 14:41:05.674 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455
2023-08-19 14:41:05.675 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 1455
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:41:05.678 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:41:05.681 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:41:05.684 +04:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:41:05.689 +04:00 [INF] RequestBody: {"idToken":"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdjOWM3OGUzYjAwZTFiYjA5MmQyNDZjODg3YjExMjIwYzg3YjdkMjAiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMDY3NDI4Mjc2ODg1NTY3MzU3NTEiLCJlbWFpbCI6ImthbmFuYnJtQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYmYiOjE2OTI0NDEzNTksIm5hbWUiOiJLYW5hbiBCYXlyYW0iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUFjSFR0Zml6dmtLVmF6LW54My04Zld0TEJQT0pCNUN3NW5wSThNT2ZOVTNhT2ZvPXM5Ni1jIiwiZ2l2ZW5fbmFtZSI6IkthbmFuIiwiZmFtaWx5X25hbWUiOiJCYXlyYW0iLCJsb2NhbGUiOiJlbiIsImlhdCI6MTY5MjQ0MTY1OSwiZXhwIjoxNjkyNDQ1MjU5LCJqdGkiOiJlZGQ3OTZhNjRjNDE3NWE1YTQ0YjIwZGYxODM1YzU2YWQ4MGY1MGI5In0.k8hi7I68J_16lZHlr0n4Ql12RIQdDsutpNYO308N5dWXcW1eQZ9ipzXdUCNgxiZYfp4MZE4nC0I-lsS-aCdF_KMje0qUNwjmlfBubs4KhW30I9HH8FgQVYo2wpzst152o1xexbTWLYFHq39XolFp5Z69WRitA6OtYQEvi3KsjjMbCJSAbmyBTxs0entkpn__6InTiFjLJgEdudlMcVmwfMn6dblByx0rOa0hZVpNFUVPwKtR_BOXdf8rIijngJDYQllyZxptJvleXdVkbF8H2qkBpIuG8S9t3yykBnAkyZQQYEbODCpraxMQPkdjb5Nu2eAUjfOy_jUwFKnGiqyvbA","id":"106742827688556735751","name":"Kanan Bayram","email":"kananbrm@gmail.com","photoUrl":"https://lh3.googleusercontent.com/a/AAcHTtfizvkKVaz-nx3-8fWtLBPOJB5Cw5npI8MOfNU3aOfo=s96-c","firstName":"Kanan","lastName":"Bayram","provider":"GOOGLE"}
2023-08-19 14:41:05.975 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API) in 286.4196ms
2023-08-19 14:41:05.977 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:41:06.029 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ETicaretAPI.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 107
   at ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\GoogleLogin\GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 14:41:06.046 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455 - 500 - text/plain;+charset=utf-8 371.5353ms
2023-08-19 14:41:06.891 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/login - -
2023-08-19 14:41:06.893 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:41:06.895 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:41:06.897 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:41:06.899 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/login - - - 204 - - 7.5004ms
2023-08-19 14:41:06.901 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/login application/json 36
2023-08-19 14:41:06.904 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 36
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:41:06.907 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:41:06.909 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 14:41:06.913 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:41:06.917 +04:00 [INF] RequestBody: {"userNameOrEmail":"","password":""}
2023-08-19 14:41:06.919 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 14:41:06.927 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 14:41:06.933 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-19 14:41:07.209 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 292.9501ms
2023-08-19 14:41:07.212 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 14:41:07.458 +04:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal.
   at ETicaretAPI.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 122
   at ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 25
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 14:41:07.476 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/login application/json 36 - 500 - text/plain;+charset=utf-8 574.6647ms
2023-08-19 14:41:16.602 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - -
2023-08-19 14:41:16.604 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:41:16.606 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:41:16.607 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:41:16.610 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - - - 204 - - 8.4883ms
2023-08-19 14:41:16.611 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - -
2023-08-19 14:41:16.613 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - -
2023-08-19 14:41:16.613 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455
2023-08-19 14:41:16.614 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:41:16.615 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:41:16.617 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 1455
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:41:16.618 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:41:16.620 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:41:16.622 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:41:16.623 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:41:16.625 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:41:16.626 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:41:16.627 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - - - 204 - - 16.0814ms
2023-08-19 14:41:16.629 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - - - 204 - - 16.2519ms
2023-08-19 14:41:16.690 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455
2023-08-19 14:41:16.636 +04:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:41:16.659 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455
2023-08-19 14:41:16.708 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 1455
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:41:16.710 +04:00 [INF] RequestBody: {"idToken":"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdjOWM3OGUzYjAwZTFiYjA5MmQyNDZjODg3YjExMjIwYzg3YjdkMjAiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMDY3NDI4Mjc2ODg1NTY3MzU3NTEiLCJlbWFpbCI6ImthbmFuYnJtQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYmYiOjE2OTI0NDEzNzcsIm5hbWUiOiJLYW5hbiBCYXlyYW0iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUFjSFR0Zml6dmtLVmF6LW54My04Zld0TEJQT0pCNUN3NW5wSThNT2ZOVTNhT2ZvPXM5Ni1jIiwiZ2l2ZW5fbmFtZSI6IkthbmFuIiwiZmFtaWx5X25hbWUiOiJCYXlyYW0iLCJsb2NhbGUiOiJlbiIsImlhdCI6MTY5MjQ0MTY3NywiZXhwIjoxNjkyNDQ1Mjc3LCJqdGkiOiI5NjU2ZjIxNzA4NjlhM2E3YjkwMmY1ZDRiMWYxMmZhZmQ4MTE0OTQ2In0.cM1pVMe6_u6Dp7Ff1D2zKkXH99wql_Nn1_pAcsCCZ-oEfNqXUnCFMQihqKPVn-z_lk5kBIqi2zX1c_KolVavsV-A6Cp7iphGSHDaBI3MutBKSZEQ0scePNUkANkKM3W_t8qeJHUmen_xQ-Wzoaf4T24_sfQDL8_eCwyo8nj-pL4-6culNaUOQJ2ySKlDpc1iulANFmUEwSkE0QC27zXtFpW4hNBLCdTLaVRGxaZscSpMgxCdZUy86iqyiZyafbq_8noqzxzGpLcqOvGOdTmKOBJaVJG5qPEbu3K4h8UPlONO6fTOXCBW-qpZ-Y7XpbYgh-R-dea268o3FIXqj38QCw","id":"106742827688556735751","name":"Kanan Bayram","email":"kananbrm@gmail.com","photoUrl":"https://lh3.googleusercontent.com/a/AAcHTtfizvkKVaz-nx3-8fWtLBPOJB5Cw5npI8MOfNU3aOfo=s96-c","firstName":"Kanan","lastName":"Bayram","provider":"GOOGLE"}
2023-08-19 14:41:16.712 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 1455
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:41:16.715 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:41:16.778 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:41:16.846 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:41:16.896 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:41:16.951 +04:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:41:16.991 +04:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:41:17.017 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API) in 306.6884ms
2023-08-19 14:41:17.017 +04:00 [INF] RequestBody: {"idToken":"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdjOWM3OGUzYjAwZTFiYjA5MmQyNDZjODg3YjExMjIwYzg3YjdkMjAiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMDY3NDI4Mjc2ODg1NTY3MzU3NTEiLCJlbWFpbCI6ImthbmFuYnJtQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYmYiOjE2OTI0NDEzNzcsIm5hbWUiOiJLYW5hbiBCYXlyYW0iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUFjSFR0Zml6dmtLVmF6LW54My04Zld0TEJQT0pCNUN3NW5wSThNT2ZOVTNhT2ZvPXM5Ni1jIiwiZ2l2ZW5fbmFtZSI6IkthbmFuIiwiZmFtaWx5X25hbWUiOiJCYXlyYW0iLCJsb2NhbGUiOiJlbiIsImlhdCI6MTY5MjQ0MTY3NywiZXhwIjoxNjkyNDQ1Mjc3LCJqdGkiOiI5NjU2ZjIxNzA4NjlhM2E3YjkwMmY1ZDRiMWYxMmZhZmQ4MTE0OTQ2In0.cM1pVMe6_u6Dp7Ff1D2zKkXH99wql_Nn1_pAcsCCZ-oEfNqXUnCFMQihqKPVn-z_lk5kBIqi2zX1c_KolVavsV-A6Cp7iphGSHDaBI3MutBKSZEQ0scePNUkANkKM3W_t8qeJHUmen_xQ-Wzoaf4T24_sfQDL8_eCwyo8nj-pL4-6culNaUOQJ2ySKlDpc1iulANFmUEwSkE0QC27zXtFpW4hNBLCdTLaVRGxaZscSpMgxCdZUy86iqyiZyafbq_8noqzxzGpLcqOvGOdTmKOBJaVJG5qPEbu3K4h8UPlONO6fTOXCBW-qpZ-Y7XpbYgh-R-dea268o3FIXqj38QCw","id":"106742827688556735751","name":"Kanan Bayram","email":"kananbrm@gmail.com","photoUrl":"https://lh3.googleusercontent.com/a/AAcHTtfizvkKVaz-nx3-8fWtLBPOJB5Cw5npI8MOfNU3aOfo=s96-c","firstName":"Kanan","lastName":"Bayram","provider":"GOOGLE"}
2023-08-19 14:41:17.019 +04:00 [INF] RequestBody: {"idToken":"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdjOWM3OGUzYjAwZTFiYjA5MmQyNDZjODg3YjExMjIwYzg3YjdkMjAiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMDY3NDI4Mjc2ODg1NTY3MzU3NTEiLCJlbWFpbCI6ImthbmFuYnJtQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYmYiOjE2OTI0NDEzNzcsIm5hbWUiOiJLYW5hbiBCYXlyYW0iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUFjSFR0Zml6dmtLVmF6LW54My04Zld0TEJQT0pCNUN3NW5wSThNT2ZOVTNhT2ZvPXM5Ni1jIiwiZ2l2ZW5fbmFtZSI6IkthbmFuIiwiZmFtaWx5X25hbWUiOiJCYXlyYW0iLCJsb2NhbGUiOiJlbiIsImlhdCI6MTY5MjQ0MTY3NywiZXhwIjoxNjkyNDQ1Mjc3LCJqdGkiOiI5NjU2ZjIxNzA4NjlhM2E3YjkwMmY1ZDRiMWYxMmZhZmQ4MTE0OTQ2In0.cM1pVMe6_u6Dp7Ff1D2zKkXH99wql_Nn1_pAcsCCZ-oEfNqXUnCFMQihqKPVn-z_lk5kBIqi2zX1c_KolVavsV-A6Cp7iphGSHDaBI3MutBKSZEQ0scePNUkANkKM3W_t8qeJHUmen_xQ-Wzoaf4T24_sfQDL8_eCwyo8nj-pL4-6culNaUOQJ2ySKlDpc1iulANFmUEwSkE0QC27zXtFpW4hNBLCdTLaVRGxaZscSpMgxCdZUy86iqyiZyafbq_8noqzxzGpLcqOvGOdTmKOBJaVJG5qPEbu3K4h8UPlONO6fTOXCBW-qpZ-Y7XpbYgh-R-dea268o3FIXqj38QCw","id":"106742827688556735751","name":"Kanan Bayram","email":"kananbrm@gmail.com","photoUrl":"https://lh3.googleusercontent.com/a/AAcHTtfizvkKVaz-nx3-8fWtLBPOJB5Cw5npI8MOfNU3aOfo=s96-c","firstName":"Kanan","lastName":"Bayram","provider":"GOOGLE"}
2023-08-19 14:41:17.021 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:41:17.272 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ETicaretAPI.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 107
   at ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\GoogleLogin\GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 14:41:17.379 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API) in 362.0063ms
2023-08-19 14:41:17.379 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API) in 360.12ms
2023-08-19 14:41:17.396 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:41:17.398 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:41:17.399 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455 - 500 - text/plain;+charset=utf-8 785.7159ms
2023-08-19 14:41:17.494 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ETicaretAPI.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 107
   at ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\GoogleLogin\GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 14:41:17.495 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ETicaretAPI.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 107
   at ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\GoogleLogin\GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 14:41:17.517 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455 - 500 - text/plain;+charset=utf-8 827.2303ms
2023-08-19 14:41:17.531 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455 - 500 - text/plain;+charset=utf-8 871.7293ms
2023-08-19 14:41:30.644 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - -
2023-08-19 14:41:30.646 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:41:30.649 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:41:30.651 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:41:30.653 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - - - 204 - - 9.4706ms
2023-08-19 14:41:30.657 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - -
2023-08-19 14:41:30.657 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455
2023-08-19 14:41:30.657 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455
2023-08-19 14:41:30.659 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:41:30.661 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 1455
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:41:30.664 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 1455
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:41:30.665 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:41:30.667 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:41:30.669 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:41:30.670 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:41:30.671 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:41:30.672 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:41:30.679 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455
2023-08-19 14:41:30.677 +04:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:41:30.673 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - - - 204 - - 16.9505ms
2023-08-19 14:41:30.688 +04:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:41:30.693 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 1455
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:41:30.706 +04:00 [INF] RequestBody: {"idToken":"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdjOWM3OGUzYjAwZTFiYjA5MmQyNDZjODg3YjExMjIwYzg3YjdkMjAiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMDY3NDI4Mjc2ODg1NTY3MzU3NTEiLCJlbWFpbCI6ImthbmFuYnJtQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYmYiOjE2OTI0NDEzOTEsIm5hbWUiOiJLYW5hbiBCYXlyYW0iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUFjSFR0Zml6dmtLVmF6LW54My04Zld0TEJQT0pCNUN3NW5wSThNT2ZOVTNhT2ZvPXM5Ni1jIiwiZ2l2ZW5fbmFtZSI6IkthbmFuIiwiZmFtaWx5X25hbWUiOiJCYXlyYW0iLCJsb2NhbGUiOiJlbiIsImlhdCI6MTY5MjQ0MTY5MSwiZXhwIjoxNjkyNDQ1MjkxLCJqdGkiOiJhYmY1NjdiNDM2YjdmMDUyOWIyZTA0N2RkYzkyY2ZmZGI5ZjgyYzEwIn0.MQTyHDnKGqMlHqKsFcU7xnhQQCokHbaGFdfqsNiGL-E2V4Zl5JIUXpSNrLLfErePnvSVgVbzKBnxQhbzZl15q13BfpdSkeOEERdH9e6S2VXcxOu9B5nKYV329s1si2hit189t3y_qm0FMddzbTDSRLUuca_1oG7wtYh05MZZcs8GiX7brQ0J4gaetEQGts0fkOWl2jq0ibWS_ytv35VpKghAUasgL58MK-sI5yCuoUc2tVIa5BtOqlikVyS4KBL762HcwQ4e7jbRhJCUG8aII0EXSfLlC6hqPy6t1n2ICw5yOj_SWdOKqCSMxxvC8tozxobSC2vQl8_cjfRJkcRKWw","id":"106742827688556735751","name":"Kanan Bayram","email":"kananbrm@gmail.com","photoUrl":"https://lh3.googleusercontent.com/a/AAcHTtfizvkKVaz-nx3-8fWtLBPOJB5Cw5npI8MOfNU3aOfo=s96-c","firstName":"Kanan","lastName":"Bayram","provider":"GOOGLE"}
2023-08-19 14:41:30.710 +04:00 [INF] RequestBody: {"idToken":"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdjOWM3OGUzYjAwZTFiYjA5MmQyNDZjODg3YjExMjIwYzg3YjdkMjAiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMDY3NDI4Mjc2ODg1NTY3MzU3NTEiLCJlbWFpbCI6ImthbmFuYnJtQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYmYiOjE2OTI0NDEzOTEsIm5hbWUiOiJLYW5hbiBCYXlyYW0iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUFjSFR0Zml6dmtLVmF6LW54My04Zld0TEJQT0pCNUN3NW5wSThNT2ZOVTNhT2ZvPXM5Ni1jIiwiZ2l2ZW5fbmFtZSI6IkthbmFuIiwiZmFtaWx5X25hbWUiOiJCYXlyYW0iLCJsb2NhbGUiOiJlbiIsImlhdCI6MTY5MjQ0MTY5MSwiZXhwIjoxNjkyNDQ1MjkxLCJqdGkiOiJhYmY1NjdiNDM2YjdmMDUyOWIyZTA0N2RkYzkyY2ZmZGI5ZjgyYzEwIn0.MQTyHDnKGqMlHqKsFcU7xnhQQCokHbaGFdfqsNiGL-E2V4Zl5JIUXpSNrLLfErePnvSVgVbzKBnxQhbzZl15q13BfpdSkeOEERdH9e6S2VXcxOu9B5nKYV329s1si2hit189t3y_qm0FMddzbTDSRLUuca_1oG7wtYh05MZZcs8GiX7brQ0J4gaetEQGts0fkOWl2jq0ibWS_ytv35VpKghAUasgL58MK-sI5yCuoUc2tVIa5BtOqlikVyS4KBL762HcwQ4e7jbRhJCUG8aII0EXSfLlC6hqPy6t1n2ICw5yOj_SWdOKqCSMxxvC8tozxobSC2vQl8_cjfRJkcRKWw","id":"106742827688556735751","name":"Kanan Bayram","email":"kananbrm@gmail.com","photoUrl":"https://lh3.googleusercontent.com/a/AAcHTtfizvkKVaz-nx3-8fWtLBPOJB5Cw5npI8MOfNU3aOfo=s96-c","firstName":"Kanan","lastName":"Bayram","provider":"GOOGLE"}
2023-08-19 14:41:30.711 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:41:30.760 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:41:30.891 +04:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:41:31.018 +04:00 [INF] RequestBody: {"idToken":"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdjOWM3OGUzYjAwZTFiYjA5MmQyNDZjODg3YjExMjIwYzg3YjdkMjAiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMDY3NDI4Mjc2ODg1NTY3MzU3NTEiLCJlbWFpbCI6ImthbmFuYnJtQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYmYiOjE2OTI0NDEzOTEsIm5hbWUiOiJLYW5hbiBCYXlyYW0iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUFjSFR0Zml6dmtLVmF6LW54My04Zld0TEJQT0pCNUN3NW5wSThNT2ZOVTNhT2ZvPXM5Ni1jIiwiZ2l2ZW5fbmFtZSI6IkthbmFuIiwiZmFtaWx5X25hbWUiOiJCYXlyYW0iLCJsb2NhbGUiOiJlbiIsImlhdCI6MTY5MjQ0MTY5MSwiZXhwIjoxNjkyNDQ1MjkxLCJqdGkiOiJhYmY1NjdiNDM2YjdmMDUyOWIyZTA0N2RkYzkyY2ZmZGI5ZjgyYzEwIn0.MQTyHDnKGqMlHqKsFcU7xnhQQCokHbaGFdfqsNiGL-E2V4Zl5JIUXpSNrLLfErePnvSVgVbzKBnxQhbzZl15q13BfpdSkeOEERdH9e6S2VXcxOu9B5nKYV329s1si2hit189t3y_qm0FMddzbTDSRLUuca_1oG7wtYh05MZZcs8GiX7brQ0J4gaetEQGts0fkOWl2jq0ibWS_ytv35VpKghAUasgL58MK-sI5yCuoUc2tVIa5BtOqlikVyS4KBL762HcwQ4e7jbRhJCUG8aII0EXSfLlC6hqPy6t1n2ICw5yOj_SWdOKqCSMxxvC8tozxobSC2vQl8_cjfRJkcRKWw","id":"106742827688556735751","name":"Kanan Bayram","email":"kananbrm@gmail.com","photoUrl":"https://lh3.googleusercontent.com/a/AAcHTtfizvkKVaz-nx3-8fWtLBPOJB5Cw5npI8MOfNU3aOfo=s96-c","firstName":"Kanan","lastName":"Bayram","provider":"GOOGLE"}
2023-08-19 14:41:31.326 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API) in 620.7007ms
2023-08-19 14:41:31.327 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API) in 617.4237ms
2023-08-19 14:41:31.383 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:41:31.384 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API) in 407.5831ms
2023-08-19 14:41:31.385 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:41:31.425 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:41:31.427 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ETicaretAPI.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 107
   at ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\GoogleLogin\GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 14:41:31.502 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ETicaretAPI.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 107
   at ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\GoogleLogin\GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 14:41:31.502 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ETicaretAPI.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 107
   at ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\GoogleLogin\GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 14:41:31.517 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455 - 500 - text/plain;+charset=utf-8 859.3951ms
2023-08-19 14:41:31.531 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455 - 500 - text/plain;+charset=utf-8 873.7183ms
2023-08-19 14:41:31.543 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455 - 500 - text/plain;+charset=utf-8 864.8802ms
2023-08-19 14:42:50.975 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/files/GetBaseStorageUrl - -
2023-08-19 14:42:50.985 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/files/GetBaseStorageUrl
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:42:50.998 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:42:51.007 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2023-08-19 14:42:51.009 +04:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2023-08-19 14:42:51.014 +04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-08-19 14:42:51.015 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 14:42:51.017 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 3.2346ms
2023-08-19 14:42:51.020 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2023-08-19 14:42:51.025 +04:00 [INF] ResponseBody: {"url":null}
2023-08-19 14:42:51.027 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 51.3488ms
2023-08-19 14:42:51.031 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=12 - -
2023-08-19 14:42:51.033 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:42:51.035 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:42:51.036 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 14:42:51.038 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 14:42:51.040 +04:00 [INF] Get all products
2023-08-19 14:42:51.042 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 14:42:51.048 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 14:42:51.054 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 14:42:51.058 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 14:42:51.059 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 14:42:51.060 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 19.8345ms
2023-08-19 14:42:51.062 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 14:42:51.063 +04:00 [INF] ResponseBody: {"totalProductCount":0,"products":[]}
2023-08-19 14:42:51.065 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 33.7937ms
2023-08-19 14:42:53.350 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - -
2023-08-19 14:42:53.351 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:42:53.353 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:42:53.355 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:42:53.357 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - - - 204 - - 7.7673ms
2023-08-19 14:42:53.360 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455
2023-08-19 14:42:53.363 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 1455
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:42:53.368 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:42:53.370 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:42:53.373 +04:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:42:53.377 +04:00 [INF] RequestBody: {"idToken":"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdjOWM3OGUzYjAwZTFiYjA5MmQyNDZjODg3YjExMjIwYzg3YjdkMjAiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMDY3NDI4Mjc2ODg1NTY3MzU3NTEiLCJlbWFpbCI6ImthbmFuYnJtQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYmYiOjE2OTI0NDEzOTEsIm5hbWUiOiJLYW5hbiBCYXlyYW0iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUFjSFR0Zml6dmtLVmF6LW54My04Zld0TEJQT0pCNUN3NW5wSThNT2ZOVTNhT2ZvPXM5Ni1jIiwiZ2l2ZW5fbmFtZSI6IkthbmFuIiwiZmFtaWx5X25hbWUiOiJCYXlyYW0iLCJsb2NhbGUiOiJlbiIsImlhdCI6MTY5MjQ0MTY5MSwiZXhwIjoxNjkyNDQ1MjkxLCJqdGkiOiJhYmY1NjdiNDM2YjdmMDUyOWIyZTA0N2RkYzkyY2ZmZGI5ZjgyYzEwIn0.MQTyHDnKGqMlHqKsFcU7xnhQQCokHbaGFdfqsNiGL-E2V4Zl5JIUXpSNrLLfErePnvSVgVbzKBnxQhbzZl15q13BfpdSkeOEERdH9e6S2VXcxOu9B5nKYV329s1si2hit189t3y_qm0FMddzbTDSRLUuca_1oG7wtYh05MZZcs8GiX7brQ0J4gaetEQGts0fkOWl2jq0ibWS_ytv35VpKghAUasgL58MK-sI5yCuoUc2tVIa5BtOqlikVyS4KBL762HcwQ4e7jbRhJCUG8aII0EXSfLlC6hqPy6t1n2ICw5yOj_SWdOKqCSMxxvC8tozxobSC2vQl8_cjfRJkcRKWw","id":"106742827688556735751","name":"Kanan Bayram","email":"kananbrm@gmail.com","photoUrl":"https://lh3.googleusercontent.com/a/AAcHTtfizvkKVaz-nx3-8fWtLBPOJB5Cw5npI8MOfNU3aOfo=s96-c","firstName":"Kanan","lastName":"Bayram","provider":"GOOGLE"}
2023-08-19 14:42:53.627 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API) in 250.989ms
2023-08-19 14:42:53.630 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:42:53.691 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ETicaretAPI.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 107
   at ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\GoogleLogin\GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 14:42:53.714 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455 - 500 - text/plain;+charset=utf-8 353.7834ms
2023-08-19 14:42:59.420 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - -
2023-08-19 14:42:59.422 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:42:59.425 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:42:59.427 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:42:59.429 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - - - 204 - - 9.3612ms
2023-08-19 14:42:59.433 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455
2023-08-19 14:42:59.434 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455
2023-08-19 14:42:59.444 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 1455
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:42:59.434 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455
2023-08-19 14:42:59.434 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455
2023-08-19 14:42:59.447 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 1455
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:42:59.449 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:42:59.450 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 1455
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:42:59.451 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 1455
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:42:59.453 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:42:59.456 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:42:59.463 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:42:59.478 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:42:59.482 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:42:59.484 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:42:59.484 +04:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:42:59.484 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:42:59.486 +04:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:42:59.487 +04:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:42:59.488 +04:00 [INF] RequestBody: {"idToken":"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdjOWM3OGUzYjAwZTFiYjA5MmQyNDZjODg3YjExMjIwYzg3YjdkMjAiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMDY3NDI4Mjc2ODg1NTY3MzU3NTEiLCJlbWFpbCI6ImthbmFuYnJtQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYmYiOjE2OTI0NDE0ODAsIm5hbWUiOiJLYW5hbiBCYXlyYW0iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUFjSFR0Zml6dmtLVmF6LW54My04Zld0TEJQT0pCNUN3NW5wSThNT2ZOVTNhT2ZvPXM5Ni1jIiwiZ2l2ZW5fbmFtZSI6IkthbmFuIiwiZmFtaWx5X25hbWUiOiJCYXlyYW0iLCJsb2NhbGUiOiJlbiIsImlhdCI6MTY5MjQ0MTc4MCwiZXhwIjoxNjkyNDQ1MzgwLCJqdGkiOiIwNzJjZDM1N2FiMzA0YTE3M2U1NjBkNjVkNzBjZTU1NWFmODU1MDA0In0.cgN3_nZP1cWrRC4NAZi3RiUmCuVKlCeHBIi8vqMjtsVAG5Bjvz1XJPYm4XBIhdICzU1OxV-Xg0kIEEnj0P5eEjW0xgRCPAT2Wm7W1rkaYTnbP4H_Ng2qIcoaqsHPFCZhnZeEycnkAThSawvA8Z1pa1TxlWhsQNPdQ_FMgW-pkK9LYKsvG1bV8OBf34RZdftn7q3aadrVtx519RQfYHfkTSsIMFE28BbH6or2FBJv3AjHAIY2-2AAGhQuzBJMrM262UcdKFsSbSteYio0uS8haS1aDD_uWTrFI-lb1T0WfUCbYSZ1WcYPPGLAbKKfrGnYpVTqlies44idgWfL25j27A","id":"106742827688556735751","name":"Kanan Bayram","email":"kananbrm@gmail.com","photoUrl":"https://lh3.googleusercontent.com/a/AAcHTtfizvkKVaz-nx3-8fWtLBPOJB5Cw5npI8MOfNU3aOfo=s96-c","firstName":"Kanan","lastName":"Bayram","provider":"GOOGLE"}
2023-08-19 14:42:59.491 +04:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:42:59.493 +04:00 [INF] RequestBody: {"idToken":"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdjOWM3OGUzYjAwZTFiYjA5MmQyNDZjODg3YjExMjIwYzg3YjdkMjAiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMDY3NDI4Mjc2ODg1NTY3MzU3NTEiLCJlbWFpbCI6ImthbmFuYnJtQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYmYiOjE2OTI0NDE0ODAsIm5hbWUiOiJLYW5hbiBCYXlyYW0iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUFjSFR0Zml6dmtLVmF6LW54My04Zld0TEJQT0pCNUN3NW5wSThNT2ZOVTNhT2ZvPXM5Ni1jIiwiZ2l2ZW5fbmFtZSI6IkthbmFuIiwiZmFtaWx5X25hbWUiOiJCYXlyYW0iLCJsb2NhbGUiOiJlbiIsImlhdCI6MTY5MjQ0MTc4MCwiZXhwIjoxNjkyNDQ1MzgwLCJqdGkiOiIwNzJjZDM1N2FiMzA0YTE3M2U1NjBkNjVkNzBjZTU1NWFmODU1MDA0In0.cgN3_nZP1cWrRC4NAZi3RiUmCuVKlCeHBIi8vqMjtsVAG5Bjvz1XJPYm4XBIhdICzU1OxV-Xg0kIEEnj0P5eEjW0xgRCPAT2Wm7W1rkaYTnbP4H_Ng2qIcoaqsHPFCZhnZeEycnkAThSawvA8Z1pa1TxlWhsQNPdQ_FMgW-pkK9LYKsvG1bV8OBf34RZdftn7q3aadrVtx519RQfYHfkTSsIMFE28BbH6or2FBJv3AjHAIY2-2AAGhQuzBJMrM262UcdKFsSbSteYio0uS8haS1aDD_uWTrFI-lb1T0WfUCbYSZ1WcYPPGLAbKKfrGnYpVTqlies44idgWfL25j27A","id":"106742827688556735751","name":"Kanan Bayram","email":"kananbrm@gmail.com","photoUrl":"https://lh3.googleusercontent.com/a/AAcHTtfizvkKVaz-nx3-8fWtLBPOJB5Cw5npI8MOfNU3aOfo=s96-c","firstName":"Kanan","lastName":"Bayram","provider":"GOOGLE"}
2023-08-19 14:42:59.496 +04:00 [INF] RequestBody: {"idToken":"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdjOWM3OGUzYjAwZTFiYjA5MmQyNDZjODg3YjExMjIwYzg3YjdkMjAiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMDY3NDI4Mjc2ODg1NTY3MzU3NTEiLCJlbWFpbCI6ImthbmFuYnJtQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYmYiOjE2OTI0NDE0ODAsIm5hbWUiOiJLYW5hbiBCYXlyYW0iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUFjSFR0Zml6dmtLVmF6LW54My04Zld0TEJQT0pCNUN3NW5wSThNT2ZOVTNhT2ZvPXM5Ni1jIiwiZ2l2ZW5fbmFtZSI6IkthbmFuIiwiZmFtaWx5X25hbWUiOiJCYXlyYW0iLCJsb2NhbGUiOiJlbiIsImlhdCI6MTY5MjQ0MTc4MCwiZXhwIjoxNjkyNDQ1MzgwLCJqdGkiOiIwNzJjZDM1N2FiMzA0YTE3M2U1NjBkNjVkNzBjZTU1NWFmODU1MDA0In0.cgN3_nZP1cWrRC4NAZi3RiUmCuVKlCeHBIi8vqMjtsVAG5Bjvz1XJPYm4XBIhdICzU1OxV-Xg0kIEEnj0P5eEjW0xgRCPAT2Wm7W1rkaYTnbP4H_Ng2qIcoaqsHPFCZhnZeEycnkAThSawvA8Z1pa1TxlWhsQNPdQ_FMgW-pkK9LYKsvG1bV8OBf34RZdftn7q3aadrVtx519RQfYHfkTSsIMFE28BbH6or2FBJv3AjHAIY2-2AAGhQuzBJMrM262UcdKFsSbSteYio0uS8haS1aDD_uWTrFI-lb1T0WfUCbYSZ1WcYPPGLAbKKfrGnYpVTqlies44idgWfL25j27A","id":"106742827688556735751","name":"Kanan Bayram","email":"kananbrm@gmail.com","photoUrl":"https://lh3.googleusercontent.com/a/AAcHTtfizvkKVaz-nx3-8fWtLBPOJB5Cw5npI8MOfNU3aOfo=s96-c","firstName":"Kanan","lastName":"Bayram","provider":"GOOGLE"}
2023-08-19 14:42:59.536 +04:00 [INF] RequestBody: {"idToken":"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdjOWM3OGUzYjAwZTFiYjA5MmQyNDZjODg3YjExMjIwYzg3YjdkMjAiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMDY3NDI4Mjc2ODg1NTY3MzU3NTEiLCJlbWFpbCI6ImthbmFuYnJtQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYmYiOjE2OTI0NDE0ODAsIm5hbWUiOiJLYW5hbiBCYXlyYW0iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUFjSFR0Zml6dmtLVmF6LW54My04Zld0TEJQT0pCNUN3NW5wSThNT2ZOVTNhT2ZvPXM5Ni1jIiwiZ2l2ZW5fbmFtZSI6IkthbmFuIiwiZmFtaWx5X25hbWUiOiJCYXlyYW0iLCJsb2NhbGUiOiJlbiIsImlhdCI6MTY5MjQ0MTc4MCwiZXhwIjoxNjkyNDQ1MzgwLCJqdGkiOiIwNzJjZDM1N2FiMzA0YTE3M2U1NjBkNjVkNzBjZTU1NWFmODU1MDA0In0.cgN3_nZP1cWrRC4NAZi3RiUmCuVKlCeHBIi8vqMjtsVAG5Bjvz1XJPYm4XBIhdICzU1OxV-Xg0kIEEnj0P5eEjW0xgRCPAT2Wm7W1rkaYTnbP4H_Ng2qIcoaqsHPFCZhnZeEycnkAThSawvA8Z1pa1TxlWhsQNPdQ_FMgW-pkK9LYKsvG1bV8OBf34RZdftn7q3aadrVtx519RQfYHfkTSsIMFE28BbH6or2FBJv3AjHAIY2-2AAGhQuzBJMrM262UcdKFsSbSteYio0uS8haS1aDD_uWTrFI-lb1T0WfUCbYSZ1WcYPPGLAbKKfrGnYpVTqlies44idgWfL25j27A","id":"106742827688556735751","name":"Kanan Bayram","email":"kananbrm@gmail.com","photoUrl":"https://lh3.googleusercontent.com/a/AAcHTtfizvkKVaz-nx3-8fWtLBPOJB5Cw5npI8MOfNU3aOfo=s96-c","firstName":"Kanan","lastName":"Bayram","provider":"GOOGLE"}
2023-08-19 14:43:00.209 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API) in 720.6399ms
2023-08-19 14:43:00.309 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:43:00.311 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API) in 818.3835ms
2023-08-19 14:43:00.312 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API) in 817.5732ms
2023-08-19 14:43:00.356 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:43:00.358 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ETicaretAPI.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 107
   at ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\GoogleLogin\GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 14:43:00.361 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:43:00.312 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API) in 776.6045ms
2023-08-19 14:43:00.392 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ETicaretAPI.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 107
   at ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\GoogleLogin\GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 14:43:00.424 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455 - 500 - text/plain;+charset=utf-8 991.1201ms
2023-08-19 14:43:00.449 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ETicaretAPI.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 107
   at ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\GoogleLogin\GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 14:43:00.441 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:43:00.465 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455 - 500 - text/plain;+charset=utf-8 1031.3405ms
2023-08-19 14:43:00.490 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455 - 500 - text/plain;+charset=utf-8 1056.2060ms
2023-08-19 14:43:00.509 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ETicaretAPI.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 107
   at ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\GoogleLogin\GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 14:43:00.526 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455 - 500 - text/plain;+charset=utf-8 1092.0492ms
2023-08-19 14:43:14.567 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/baskets - -
2023-08-19 14:43:14.569 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/baskets
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:43:14.571 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:43:14.573 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 14:43:14.574 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 14:43:14.576 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 14:43:14.577 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/baskets - - - 401 0 - 10.4641ms
2023-08-19 14:43:14.588 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 14:43:14.589 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:43:14.591 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:43:14.593 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:43:14.594 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 6.0946ms
2023-08-19 14:43:14.596 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 14:43:14.598 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:43:14.603 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:43:14.604 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 14:43:14.606 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:43:14.609 +04:00 [INF] RequestBody: {"refreshToken":"TAiU1U1HrI94mYEF2pyNg8ekafY5w5rkXs+nonsZ7QI="}
2023-08-19 14:43:14.611 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 14:43:14.621 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 14:43:14.637 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 14:43:14.643 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 14:43:14.667 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 14:43:14.670 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 14:43:14.671 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 62.3437ms
2023-08-19 14:43:14.673 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 14:43:14.674 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQxNzk0LCJleHAiOjE2OTI0NDE4MDksImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.M4NVwbr-eBbrjSf0uFPEawKRAmz9rEPi3d3Pp1dBNJw","expiration":"2023-08-19T10:43:29.6264838Z","refreshToken":"szSqk5rAmJT8RO9yle+4HyOaH9+6GHs/ZM7yrOBUHFY="}}
2023-08-19 14:43:14.676 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 80.6861ms
2023-08-19 14:43:28.126 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - -
2023-08-19 14:43:28.129 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:43:28.131 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:43:28.133 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:43:28.135 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - - - 204 - - 9.4001ms
2023-08-19 14:43:28.141 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455
2023-08-19 14:43:28.145 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 1455
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:43:28.147 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:43:28.148 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:43:28.152 +04:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:43:28.155 +04:00 [INF] RequestBody: {"idToken":"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdjOWM3OGUzYjAwZTFiYjA5MmQyNDZjODg3YjExMjIwYzg3YjdkMjAiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMDY3NDI4Mjc2ODg1NTY3MzU3NTEiLCJlbWFpbCI6ImthbmFuYnJtQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYmYiOjE2OTI0NDE0ODAsIm5hbWUiOiJLYW5hbiBCYXlyYW0iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUFjSFR0Zml6dmtLVmF6LW54My04Zld0TEJQT0pCNUN3NW5wSThNT2ZOVTNhT2ZvPXM5Ni1jIiwiZ2l2ZW5fbmFtZSI6IkthbmFuIiwiZmFtaWx5X25hbWUiOiJCYXlyYW0iLCJsb2NhbGUiOiJlbiIsImlhdCI6MTY5MjQ0MTc4MCwiZXhwIjoxNjkyNDQ1MzgwLCJqdGkiOiIwNzJjZDM1N2FiMzA0YTE3M2U1NjBkNjVkNzBjZTU1NWFmODU1MDA0In0.cgN3_nZP1cWrRC4NAZi3RiUmCuVKlCeHBIi8vqMjtsVAG5Bjvz1XJPYm4XBIhdICzU1OxV-Xg0kIEEnj0P5eEjW0xgRCPAT2Wm7W1rkaYTnbP4H_Ng2qIcoaqsHPFCZhnZeEycnkAThSawvA8Z1pa1TxlWhsQNPdQ_FMgW-pkK9LYKsvG1bV8OBf34RZdftn7q3aadrVtx519RQfYHfkTSsIMFE28BbH6or2FBJv3AjHAIY2-2AAGhQuzBJMrM262UcdKFsSbSteYio0uS8haS1aDD_uWTrFI-lb1T0WfUCbYSZ1WcYPPGLAbKKfrGnYpVTqlies44idgWfL25j27A","id":"106742827688556735751","name":"Kanan Bayram","email":"kananbrm@gmail.com","photoUrl":"https://lh3.googleusercontent.com/a/AAcHTtfizvkKVaz-nx3-8fWtLBPOJB5Cw5npI8MOfNU3aOfo=s96-c","firstName":"Kanan","lastName":"Bayram","provider":"GOOGLE"}
2023-08-19 14:43:28.408 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API) in 253.531ms
2023-08-19 14:43:28.412 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:43:28.466 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ETicaretAPI.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 107
   at ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\GoogleLogin\GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 14:43:28.487 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455 - 500 - text/plain;+charset=utf-8 346.3149ms
2023-08-19 14:52:44.561 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - -
2023-08-19 14:52:44.571 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:52:44.576 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:52:44.577 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:52:44.579 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - - - 204 - - 18.1818ms
2023-08-19 14:52:44.581 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455
2023-08-19 14:52:44.582 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 1455
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:52:44.585 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:52:44.588 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:52:44.593 +04:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:52:44.596 +04:00 [INF] RequestBody: {"idToken":"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdjOWM3OGUzYjAwZTFiYjA5MmQyNDZjODg3YjExMjIwYzg3YjdkMjAiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMDY3NDI4Mjc2ODg1NTY3MzU3NTEiLCJlbWFpbCI6ImthbmFuYnJtQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYmYiOjE2OTI0NDE0ODAsIm5hbWUiOiJLYW5hbiBCYXlyYW0iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUFjSFR0Zml6dmtLVmF6LW54My04Zld0TEJQT0pCNUN3NW5wSThNT2ZOVTNhT2ZvPXM5Ni1jIiwiZ2l2ZW5fbmFtZSI6IkthbmFuIiwiZmFtaWx5X25hbWUiOiJCYXlyYW0iLCJsb2NhbGUiOiJlbiIsImlhdCI6MTY5MjQ0MTc4MCwiZXhwIjoxNjkyNDQ1MzgwLCJqdGkiOiIwNzJjZDM1N2FiMzA0YTE3M2U1NjBkNjVkNzBjZTU1NWFmODU1MDA0In0.cgN3_nZP1cWrRC4NAZi3RiUmCuVKlCeHBIi8vqMjtsVAG5Bjvz1XJPYm4XBIhdICzU1OxV-Xg0kIEEnj0P5eEjW0xgRCPAT2Wm7W1rkaYTnbP4H_Ng2qIcoaqsHPFCZhnZeEycnkAThSawvA8Z1pa1TxlWhsQNPdQ_FMgW-pkK9LYKsvG1bV8OBf34RZdftn7q3aadrVtx519RQfYHfkTSsIMFE28BbH6or2FBJv3AjHAIY2-2AAGhQuzBJMrM262UcdKFsSbSteYio0uS8haS1aDD_uWTrFI-lb1T0WfUCbYSZ1WcYPPGLAbKKfrGnYpVTqlies44idgWfL25j27A","id":"106742827688556735751","name":"Kanan Bayram","email":"kananbrm@gmail.com","photoUrl":"https://lh3.googleusercontent.com/a/AAcHTtfizvkKVaz-nx3-8fWtLBPOJB5Cw5npI8MOfNU3aOfo=s96-c","firstName":"Kanan","lastName":"Bayram","provider":"GOOGLE"}
2023-08-19 14:52:44.858 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API) in 262.1544ms
2023-08-19 14:52:44.860 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 14:52:44.909 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ETicaretAPI.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 107
   at ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\GoogleLogin\GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 14:52:44.928 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455 - 500 - text/plain;+charset=utf-8 347.0458ms
2023-08-19 14:52:49.416 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/baskets - -
2023-08-19 14:52:49.419 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/baskets
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:52:49.421 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:52:49.422 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 14:52:49.423 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 14:52:49.424 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 14:52:49.426 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/baskets - - - 401 0 - 9.6726ms
2023-08-19 14:52:49.431 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 14:52:49.434 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:52:49.435 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:52:49.436 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 14:52:49.437 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 5.8636ms
2023-08-19 14:52:49.439 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 14:52:49.440 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 14:52:49.442 +04:00 [INF] CORS policy execution successful.
2023-08-19 14:52:49.446 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 14:52:49.448 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 14:52:49.452 +04:00 [INF] RequestBody: {"refreshToken":"szSqk5rAmJT8RO9yle+4HyOaH9+6GHs/ZM7yrOBUHFY="}
2023-08-19 14:52:49.453 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 14:52:49.460 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 14:52:49.684 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 232.156ms
2023-08-19 14:52:49.687 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 14:52:49.880 +04:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal.
   at ETicaretAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 144
   at ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\RefreshTokenLogin\RefreshTokenLoginCommandHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 14:52:49.897 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 500 - text/plain;+charset=utf-8 458.7899ms
2023-08-19 15:01:46.061 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - -
2023-08-19 15:01:46.065 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:01:46.088 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:01:46.090 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 15:01:46.095 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - - - 204 - - 33.7832ms
2023-08-19 15:01:46.125 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455
2023-08-19 15:01:46.126 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 1455
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:01:46.128 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:01:46.129 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 15:01:46.144 +04:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:01:46.176 +04:00 [INF] RequestBody: {"idToken":"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdjOWM3OGUzYjAwZTFiYjA5MmQyNDZjODg3YjExMjIwYzg3YjdkMjAiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMDY3NDI4Mjc2ODg1NTY3MzU3NTEiLCJlbWFpbCI6ImthbmFuYnJtQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYmYiOjE2OTI0NDE0ODAsIm5hbWUiOiJLYW5hbiBCYXlyYW0iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUFjSFR0Zml6dmtLVmF6LW54My04Zld0TEJQT0pCNUN3NW5wSThNT2ZOVTNhT2ZvPXM5Ni1jIiwiZ2l2ZW5fbmFtZSI6IkthbmFuIiwiZmFtaWx5X25hbWUiOiJCYXlyYW0iLCJsb2NhbGUiOiJlbiIsImlhdCI6MTY5MjQ0MTc4MCwiZXhwIjoxNjkyNDQ1MzgwLCJqdGkiOiIwNzJjZDM1N2FiMzA0YTE3M2U1NjBkNjVkNzBjZTU1NWFmODU1MDA0In0.cgN3_nZP1cWrRC4NAZi3RiUmCuVKlCeHBIi8vqMjtsVAG5Bjvz1XJPYm4XBIhdICzU1OxV-Xg0kIEEnj0P5eEjW0xgRCPAT2Wm7W1rkaYTnbP4H_Ng2qIcoaqsHPFCZhnZeEycnkAThSawvA8Z1pa1TxlWhsQNPdQ_FMgW-pkK9LYKsvG1bV8OBf34RZdftn7q3aadrVtx519RQfYHfkTSsIMFE28BbH6or2FBJv3AjHAIY2-2AAGhQuzBJMrM262UcdKFsSbSteYio0uS8haS1aDD_uWTrFI-lb1T0WfUCbYSZ1WcYPPGLAbKKfrGnYpVTqlies44idgWfL25j27A","id":"106742827688556735751","name":"Kanan Bayram","email":"kananbrm@gmail.com","photoUrl":"https://lh3.googleusercontent.com/a/AAcHTtfizvkKVaz-nx3-8fWtLBPOJB5Cw5npI8MOfNU3aOfo=s96-c","firstName":"Kanan","lastName":"Bayram","provider":"GOOGLE"}
2023-08-19 15:01:46.660 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API) in 484.7779ms
2023-08-19 15:01:46.662 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 15:01:46.739 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ETicaretAPI.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 107
   at ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\GoogleLogin\GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 15:01:46.762 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455 - 500 - text/plain;+charset=utf-8 637.2663ms
2023-08-19 15:01:56.687 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/login - -
2023-08-19 15:01:56.689 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:01:56.692 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:01:56.694 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 15:01:56.696 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/login - - - 204 - - 8.5907ms
2023-08-19 15:01:56.701 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/login application/json 49
2023-08-19 15:01:56.703 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 49
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:01:56.705 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:01:56.707 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 15:01:56.709 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:01:56.712 +04:00 [INF] RequestBody: {"userNameOrEmail":"Admin","password":"Admin123"}
2023-08-19 15:01:56.717 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:01:56.727 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:01:56.735 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-19 15:01:57.168 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 456.6526ms
2023-08-19 15:01:57.171 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 15:01:57.408 +04:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal.
   at ETicaretAPI.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 122
   at ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 25
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 15:01:57.426 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/login application/json 49 - 500 - text/plain;+charset=utf-8 725.1656ms
2023-08-19 15:02:10.485 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/login - -
2023-08-19 15:02:10.487 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:02:10.488 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:02:10.490 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 15:02:10.492 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/login - - - 204 - - 6.9623ms
2023-08-19 15:02:10.501 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/login application/json 49
2023-08-19 15:02:10.502 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 49
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:02:10.504 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:02:10.505 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 15:02:10.508 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:02:10.512 +04:00 [INF] RequestBody: {"userNameOrEmail":"Admin","password":"Admin123"}
2023-08-19 15:02:10.515 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:02:10.520 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:02:10.531 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-19 15:02:10.821 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 308.3275ms
2023-08-19 15:02:10.824 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 15:02:11.013 +04:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal.
   at ETicaretAPI.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 122
   at ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 25
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 15:02:11.030 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/login application/json 49 - 500 - text/plain;+charset=utf-8 529.8864ms
2023-08-19 15:07:14.834 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - -
2023-08-19 15:07:14.842 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:07:14.845 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:07:14.846 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 15:07:14.847 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/google-login - - - 204 - - 13.4705ms
2023-08-19 15:07:14.849 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455
2023-08-19 15:07:14.851 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/google-login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 1455
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:07:14.852 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:07:14.854 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 15:07:14.861 +04:00 [INF] Route matched with {action = "GoogleLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GoogleLogin(ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:07:14.864 +04:00 [INF] RequestBody: {"idToken":"eyJhbGciOiJSUzI1NiIsImtpZCI6IjdjOWM3OGUzYjAwZTFiYjA5MmQyNDZjODg3YjExMjIwYzg3YjdkMjAiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiI3MjczMTQ2Mzc2NDctNm03ajFoMTQyNmo2c2VmYXNyYjFnZ2FnaDBlMXJyZHUuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMDY3NDI4Mjc2ODg1NTY3MzU3NTEiLCJlbWFpbCI6ImthbmFuYnJtQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYmYiOjE2OTI0NDI5MzMsIm5hbWUiOiJLYW5hbiBCYXlyYW0iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EvQUFjSFR0Zml6dmtLVmF6LW54My04Zld0TEJQT0pCNUN3NW5wSThNT2ZOVTNhT2ZvPXM5Ni1jIiwiZ2l2ZW5fbmFtZSI6IkthbmFuIiwiZmFtaWx5X25hbWUiOiJCYXlyYW0iLCJsb2NhbGUiOiJlbiIsImlhdCI6MTY5MjQ0MzIzMywiZXhwIjoxNjkyNDQ2ODMzLCJqdGkiOiI2M2NiNDNmNWY1YWE5ZDg5NjY4NmRmZDI0YzkwZGE3MWUzZDkzN2M3In0.STgswDW3F2dGwNd_pUUeE0uSzbkHDVjuSNv9dryE8S6FaFGH0tQBU-TpqE63Fyz5HgCL62J48OzPqL0uzUc1qhCS1RwHUzFz1qVsPLvRiMbB5lUeMj09ft8wlxHyYImhflIvi9TgDr5BJZG7svuFBUOpKVrlB6vzxRmVvucCegziU5xtBGEuf4bp3qzaIl60TnZt1aQHUQQ0Qe0ZuFAuvJvejih2UuH6Co7nJMaizE1dhNJ8iEDfsrWFnaos6BfEMCPvS3W-VeQKGcyhAAurTSfgMpEGVJnyA9zVUDq4D7eFxcQ5g_iFKhaRQNpzrkRrUImi0pr-EvdpkpolW5o0oQ","id":"106742827688556735751","name":"Kanan Bayram","email":"kananbrm@gmail.com","photoUrl":"https://lh3.googleusercontent.com/a/AAcHTtfizvkKVaz-nx3-8fWtLBPOJB5Cw5npI8MOfNU3aOfo=s96-c","firstName":"Kanan","lastName":"Bayram","provider":"GOOGLE"}
2023-08-19 15:07:15.095 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API) in 231.5294ms
2023-08-19 15:07:15.098 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.GoogleLogin (ETicaretAPI.API)'
2023-08-19 15:07:15.149 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Google.Apis.Auth.InvalidJwtException: JWT contains untrusted 'aud' claim.
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at ETicaretAPI.Persistence.Services.AuthService.GoogleLoginAsync(String idToken, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 107
   at ETicaretAPI.Application.Features.Commands.AppUser.GoogleLogin.GoogleLoginCommandHandler.Handle(GoogleLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\GoogleLogin\GoogleLoginCommandHandler.cs:line 17
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.GoogleLogin(GoogleLoginCommandRequest googleLoginCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 15:07:15.176 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/google-login application/json 1455 - 500 - text/plain;+charset=utf-8 327.2245ms
2023-08-19 15:07:28.040 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/login - -
2023-08-19 15:07:28.043 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:07:28.046 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:07:28.049 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 15:07:28.052 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/login - - - 204 - - 12.2465ms
2023-08-19 15:07:28.056 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/login application/json 52
2023-08-19 15:07:28.058 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 52
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:07:28.060 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:07:28.063 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 15:07:28.066 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:07:28.071 +04:00 [INF] RequestBody: {"userNameOrEmail":"Ken","password":"KenKen920920!"}
2023-08-19 15:07:28.078 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:07:28.091 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:07:28.118 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:07:28.141 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 15:07:28.154 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2023-08-19 15:07:28.160 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:07:28.161 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 90.2444ms
2023-08-19 15:07:28.162 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 15:07:28.164 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQzMjQ4LCJleHAiOjE2OTI0NDQxNDgsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.63GMbH0yjazJXVgsTDV8oOQZEmggjP5BaybsYwLkujQ","expiration":"2023-08-19T11:22:28.1113958Z","refreshToken":"OCHDeNKQBmx05cMxhUTRofRimNPmI9/E2WBT3c37uuY="}}
2023-08-19 15:07:28.165 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/login application/json 52 - 200 - application/json;+charset=utf-8 109.6419ms
2023-08-19 15:07:33.044 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/baskets - -
2023-08-19 15:07:33.046 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/baskets
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:07:33.049 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:07:33.051 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 15:07:33.052 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 15:07:33.054 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 15:07:33.055 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/baskets - - - 401 0 - 11.4533ms
2023-08-19 15:07:33.061 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 15:07:33.063 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:07:33.066 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:07:33.068 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 15:07:33.070 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 9.9230ms
2023-08-19 15:07:33.072 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 15:07:33.073 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:07:33.074 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:07:33.076 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:07:33.080 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:07:33.084 +04:00 [INF] RequestBody: {"refreshToken":"OCHDeNKQBmx05cMxhUTRofRimNPmI9/E2WBT3c37uuY="}
2023-08-19 15:07:33.085 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:07:33.090 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 15:07:33.104 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:07:33.126 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 15:07:33.141 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 15:07:33.146 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:07:33.150 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 65.7164ms
2023-08-19 15:07:33.151 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:07:33.153 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQzMjUzLCJleHAiOjE2OTI0NDMyNjgsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.bvOBBAJUhLSJ4JOK2cqu7T9zJyUPVJW9ewtdX0LYiRE","expiration":"2023-08-19T11:07:48.0999449Z","refreshToken":"52bWPa1OJBNywVEwJwkCvr9jyLlm0MCe3ha/+r098EA="}}
2023-08-19 15:07:33.154 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 82.5234ms
2023-08-19 15:07:41.373 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/files/GetBaseStorageUrl - -
2023-08-19 15:07:41.376 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/files/GetBaseStorageUrl
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:07:41.382 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:07:41.384 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2023-08-19 15:07:41.387 +04:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2023-08-19 15:07:41.390 +04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-08-19 15:07:41.392 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:07:41.395 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 4.8744ms
2023-08-19 15:07:41.402 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2023-08-19 15:07:41.404 +04:00 [INF] ResponseBody: {"url":null}
2023-08-19 15:07:41.407 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 33.9477ms
2023-08-19 15:07:41.417 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=12 - -
2023-08-19 15:07:41.436 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:07:41.438 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:07:41.441 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 15:07:41.446 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 15:07:41.453 +04:00 [INF] Get all products
2023-08-19 15:07:41.454 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:07:41.470 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 15:07:41.485 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 15:07:41.490 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 15:07:41.492 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:07:41.494 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 42.104ms
2023-08-19 15:07:41.499 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 15:07:41.501 +04:00 [INF] ResponseBody: {"totalProductCount":0,"products":[]}
2023-08-19 15:07:41.505 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 88.1049ms
2023-08-19 15:07:48.859 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/baskets - -
2023-08-19 15:07:48.861 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/baskets
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:07:48.864 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:07:48.867 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 15:07:48.868 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 15:07:48.870 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 15:07:48.872 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/baskets - - - 401 0 - 12.4348ms
2023-08-19 15:07:48.877 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 15:07:48.878 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:07:48.880 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:07:48.880 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 15:07:48.882 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 5.0260ms
2023-08-19 15:07:48.884 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 15:07:48.887 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:07:48.889 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:07:48.890 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:07:48.895 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:07:48.898 +04:00 [INF] RequestBody: {"refreshToken":"52bWPa1OJBNywVEwJwkCvr9jyLlm0MCe3ha/+r098EA="}
2023-08-19 15:07:48.899 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:07:48.912 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 15:07:48.921 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:07:48.931 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 15:07:48.944 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 15:07:48.947 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:07:48.949 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 51.3474ms
2023-08-19 15:07:48.953 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:07:48.956 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQzMjY4LCJleHAiOjE2OTI0NDMyODMsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.y073ZB_2Y4e7KM7J2yCs7qvLzxxzj-e9ryQzOFXoBS0","expiration":"2023-08-19T11:08:03.9163343Z","refreshToken":"zw0eOpV3BLesx8X1RnIoBDEl6WUJl+16MR9Cz8s+Q/U="}}
2023-08-19 15:07:48.960 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 76.4222ms
2023-08-19 15:08:06.168 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/baskets - -
2023-08-19 15:08:06.182 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/baskets
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:08:06.190 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:08:06.194 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 15:08:06.198 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 15:08:06.201 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 15:08:06.203 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/baskets - - - 401 0 - 34.6436ms
2023-08-19 15:08:06.220 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 15:08:06.221 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:08:06.224 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:08:06.225 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 15:08:06.227 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 7.2080ms
2023-08-19 15:08:06.228 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 15:08:06.230 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:08:06.231 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:08:06.233 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:08:06.235 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:08:06.242 +04:00 [INF] RequestBody: {"refreshToken":"zw0eOpV3BLesx8X1RnIoBDEl6WUJl+16MR9Cz8s+Q/U="}
2023-08-19 15:08:06.247 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:08:06.253 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 15:08:06.266 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:08:06.271 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 15:08:06.288 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 15:08:06.296 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:08:06.298 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 57.9758ms
2023-08-19 15:08:06.300 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:08:06.302 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQzMjg2LCJleHAiOjE2OTI0NDMzMDEsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.Lskd1aLHlLACLypGcgWIeCgLAIzl_nqUwuSSxrKFzx0","expiration":"2023-08-19T11:08:21.2636104Z","refreshToken":"stglnxnwpcrOlBlWJVwVUNzm4+bYeAncnCLyNtjoUuQ="}}
2023-08-19 15:08:06.303 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 74.8468ms
2023-08-19 15:08:15.983 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/baskets - -
2023-08-19 15:08:15.986 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/baskets
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:08:15.990 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:08:15.992 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 15:08:15.994 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 15:08:15.997 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 15:08:16.001 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/baskets - - - 401 0 - 18.1864ms
2023-08-19 15:08:16.012 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 15:08:16.013 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:08:16.018 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:08:16.019 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 15:08:16.021 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 9.0140ms
2023-08-19 15:08:16.023 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 15:08:16.027 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:08:16.030 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:08:16.034 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:08:16.036 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:08:16.040 +04:00 [INF] RequestBody: {"refreshToken":"stglnxnwpcrOlBlWJVwVUNzm4+bYeAncnCLyNtjoUuQ="}
2023-08-19 15:08:16.045 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:08:16.065 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 15:08:16.077 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:08:16.089 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 15:08:16.105 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 15:08:16.109 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:08:16.111 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 71.5789ms
2023-08-19 15:08:16.117 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:08:16.119 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQzMjk2LCJleHAiOjE2OTI0NDMzMTEsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.wuGeLjixOblo1_aT9jen1h5TgZoxR3YXe3uSe_OKU18","expiration":"2023-08-19T11:08:31.072891Z","refreshToken":"XaU577HaNRKKZraJBFxEkUi/kKHet9sYaqwyjSnpZtI="}}
2023-08-19 15:08:16.120 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 97.0718ms
2023-08-19 15:08:23.016 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/baskets - -
2023-08-19 15:08:23.018 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/baskets
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:08:23.022 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:08:23.024 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 15:08:23.025 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 15:08:23.027 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 15:08:23.032 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/baskets - - - 401 0 - 15.8625ms
2023-08-19 15:08:23.038 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 15:08:23.039 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:08:23.041 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:08:23.042 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 15:08:23.043 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 5.4275ms
2023-08-19 15:08:23.046 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 15:08:23.049 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:08:23.052 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:08:23.054 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:08:23.056 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:08:23.060 +04:00 [INF] RequestBody: {"refreshToken":"XaU577HaNRKKZraJBFxEkUi/kKHet9sYaqwyjSnpZtI="}
2023-08-19 15:08:23.064 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:08:23.074 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 15:08:23.087 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:08:23.094 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 15:08:23.119 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 15:08:23.121 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:08:23.123 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 62.8879ms
2023-08-19 15:08:23.125 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:08:23.127 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQzMzAzLCJleHAiOjE2OTI0NDMzMTgsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.N-uxo04TV9u-MKJkTkLUPcQpIWzz4SSsWh67Lb-sQP0","expiration":"2023-08-19T11:08:38.0847008Z","refreshToken":"MZ25V5PMiy1Addoio4V2xedr0KhUZAPZHZpXfTaJjl0="}}
2023-08-19 15:08:23.129 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 82.8601ms
2023-08-19 15:08:42.400 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/baskets - -
2023-08-19 15:08:42.402 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/baskets
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:08:42.404 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:08:42.406 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 15:08:42.408 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 15:08:42.409 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 15:08:42.411 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/baskets - - - 401 0 - 11.5018ms
2023-08-19 15:08:42.415 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 15:08:42.418 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:08:42.419 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:08:42.420 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 15:08:42.422 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 6.6220ms
2023-08-19 15:08:42.429 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 15:08:42.431 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:08:42.436 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:08:42.440 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:08:42.442 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:08:42.444 +04:00 [INF] RequestBody: {"refreshToken":"MZ25V5PMiy1Addoio4V2xedr0KhUZAPZHZpXfTaJjl0="}
2023-08-19 15:08:42.446 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:08:42.457 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 15:08:42.463 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:08:42.472 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 15:08:42.480 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 15:08:42.486 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:08:42.489 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 44.961ms
2023-08-19 15:08:42.491 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:08:42.497 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQzMzIyLCJleHAiOjE2OTI0NDMzMzcsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.PmZ68Kom4mweaB1uuxlwsSkR4i-5I5AgQrHkXUvZv5U","expiration":"2023-08-19T11:08:57.4611184Z","refreshToken":"VQFOLc0FOLanMWu1RJ07lFeVjMbpWKCtlXvgkWqsl7M="}}
2023-08-19 15:08:42.500 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 70.8751ms
2023-08-19 15:46:37.582 +04:00 [INF] User profile is available. Using 'C:\Users\K\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-19 15:46:38.394 +04:00 [INF] Now listening on: https://localhost:7131
2023-08-19 15:46:38.397 +04:00 [INF] Now listening on: http://localhost:5131
2023-08-19 15:46:38.406 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-19 15:46:38.409 +04:00 [INF] Hosting environment: Development
2023-08-19 15:46:38.412 +04:00 [INF] Content root path: C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\
2023-08-19 15:47:11.943 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/login - -
2023-08-19 15:47:12.249 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:47:12.260 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:47:12.267 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 15:47:12.299 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/login - - - 204 - - 367.9678ms
2023-08-19 15:47:12.300 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/login application/json 52
2023-08-19 15:47:12.383 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 52
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:47:12.386 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:47:12.464 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 15:47:13.560 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:47:13.629 +04:00 [INF] RequestBody: {"userNameOrEmail":"Ken","password":"KenKen920920!"}
2023-08-19 15:47:16.812 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:47:18.120 +04:00 [INF] Executed DbCommand (53ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:47:18.988 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:47:19.378 +04:00 [INF] Executed DbCommand (40ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 15:47:19.524 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2023-08-19 15:47:19.557 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:47:19.577 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 6001.5289ms
2023-08-19 15:47:19.584 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 15:47:19.592 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ1NjM4LCJleHAiOjE2OTI0NDY1MzgsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.RiPhSoLe4PUrDKHJui0-DQkuHQ0WtqF4FdcJU6Q2NmI","expiration":"2023-08-19T12:02:18.6088766Z","refreshToken":"oUB5y5AOpnXpvowF+xMK30B64tQVR/21ajHx4rQbOyk="}}
2023-08-19 15:47:19.626 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/login application/json 52 - 200 - application/json;+charset=utf-8 7326.4112ms
2023-08-19 15:47:25.795 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/baskets - -
2023-08-19 15:47:25.816 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/baskets
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:47:25.820 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:47:25.934 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 15:47:25.959 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 15:47:25.962 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 15:47:25.966 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/baskets - - - 401 0 - 172.6690ms
2023-08-19 15:47:25.993 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 15:47:25.997 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:47:26.001 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:47:26.003 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 15:47:26.007 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 13.9920ms
2023-08-19 15:47:26.012 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 15:47:26.015 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:47:26.018 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:47:26.023 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:47:26.073 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:47:26.083 +04:00 [INF] RequestBody: {"refreshToken":"oUB5y5AOpnXpvowF+xMK30B64tQVR/21ajHx4rQbOyk="}
2023-08-19 15:47:26.212 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:47:26.231 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 15:47:26.247 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:47:26.262 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 15:47:26.275 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 15:47:26.280 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:47:26.283 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 200.9342ms
2023-08-19 15:47:26.285 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:47:26.287 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ1NjQ2LCJleHAiOjE2OTI0NDU2NjEsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.vsWqU7CC6G4lBOZTlh6hpd0HB3JUP9MsPLjiAxv9oRk","expiration":"2023-08-19T11:47:41.2426348Z","refreshToken":"lXhY8FRAynUFdpU6WrSAD3DPm8tdp+l0PWkRntXNguY="}}
2023-08-19 15:47:26.291 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 278.9673ms
2023-08-19 15:47:35.690 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - -
2023-08-19 15:47:35.695 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/orders
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:47:35.699 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:47:35.703 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 15:47:35.706 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 15:47:35.710 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 15:47:35.713 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - - - 401 0 - 23.0895ms
2023-08-19 15:47:35.766 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 15:47:35.768 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:47:35.772 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:47:35.773 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 15:47:35.776 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 10.0562ms
2023-08-19 15:47:35.778 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 15:47:35.780 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:47:35.783 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:47:35.785 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:47:35.807 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:47:35.813 +04:00 [INF] RequestBody: {"refreshToken":"lXhY8FRAynUFdpU6WrSAD3DPm8tdp+l0PWkRntXNguY="}
2023-08-19 15:47:35.836 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:47:35.848 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 15:47:35.860 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:47:35.867 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 15:47:35.877 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 15:47:35.879 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:47:35.881 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 68.8657ms
2023-08-19 15:47:35.883 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:47:35.886 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ1NjU1LCJleHAiOjE2OTI0NDU2NzAsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.R4cIjfLyRnxjWlkvls7mUmKpeUPaJmvFjwaJaitmSTs","expiration":"2023-08-19T11:47:50.8570974Z","refreshToken":"orqxa5lEaj5W0xPMWahVm0e+hLuAuHEd4atn4X/xMQ0="}}
2023-08-19 15:47:35.888 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 109.4466ms
2023-08-19 15:51:12.345 +04:00 [INF] User profile is available. Using 'C:\Users\K\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-19 15:51:13.000 +04:00 [INF] Now listening on: https://localhost:7131
2023-08-19 15:51:13.002 +04:00 [INF] Now listening on: http://localhost:5131
2023-08-19 15:51:13.008 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-19 15:51:13.009 +04:00 [INF] Hosting environment: Development
2023-08-19 15:51:13.011 +04:00 [INF] Content root path: C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\
2023-08-19 15:51:20.249 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/files/GetBaseStorageUrl - -
2023-08-19 15:51:20.360 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/files/GetBaseStorageUrl
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:51:20.365 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:51:20.389 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2023-08-19 15:51:20.866 +04:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2023-08-19 15:51:20.880 +04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-08-19 15:51:20.889 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:51:20.902 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 28.7245ms
2023-08-19 15:51:20.906 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2023-08-19 15:51:20.912 +04:00 [INF] ResponseBody: {"url":null}
2023-08-19 15:51:20.934 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=12 - -
2023-08-19 15:51:20.937 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 696.6916ms
2023-08-19 15:51:20.942 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:51:20.960 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:51:20.963 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 15:51:21.050 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 15:51:21.248 +04:00 [INF] Get all products
2023-08-19 15:51:24.074 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:51:25.027 +04:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 15:51:25.280 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-08-19 15:51:25.284 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-08-19 15:51:25.863 +04:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 15:51:25.871 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 15:51:25.889 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:51:25.892 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 4837.2909ms
2023-08-19 15:51:25.896 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 15:51:25.900 +04:00 [INF] ResponseBody: {"totalProductCount":0,"products":[]}
2023-08-19 15:51:25.914 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 4980.1111ms
2023-08-19 15:51:29.335 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - -
2023-08-19 15:51:29.337 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:51:29.340 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:51:29.344 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 15:51:29.361 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 15:51:29.367 +04:00 [INF] Get all products
2023-08-19 15:51:29.449 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:51:29.459 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 15:51:29.478 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 15:51:29.488 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 15:51:29.492 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:51:29.494 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 128.7932ms
2023-08-19 15:51:29.496 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 15:51:29.499 +04:00 [INF] ResponseBody: {"totalProductCount":0,"products":[]}
2023-08-19 15:51:29.505 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 170.1255ms
2023-08-19 15:51:31.582 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - -
2023-08-19 15:51:31.584 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/orders
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:51:31.586 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:51:31.821 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 15:51:31.848 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 15:51:31.853 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 15:51:31.857 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - - - 401 0 - 274.6222ms
2023-08-19 15:51:31.870 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 15:51:31.873 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:51:31.877 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:51:31.883 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 15:51:31.886 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 15.8035ms
2023-08-19 15:51:31.889 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 15:51:31.900 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:51:31.903 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:51:31.905 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:51:31.917 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:51:31.946 +04:00 [INF] RequestBody: {"refreshToken":"orqxa5lEaj5W0xPMWahVm0e+hLuAuHEd4atn4X/xMQ0="}
2023-08-19 15:51:32.030 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:51:32.250 +04:00 [INF] Executed DbCommand (34ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 15:51:32.888 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:51:33.292 +04:00 [INF] Executed DbCommand (27ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 15:51:33.427 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 15:51:33.439 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:51:33.443 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 1521.3469ms
2023-08-19 15:51:33.447 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:51:33.456 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ1ODkyLCJleHAiOjE2OTI0NDU5MDcsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.7w6Bp9TIy-dRsDXbEOkC4Ckbsyz1yQZQRKeZOf1-Feg","expiration":"2023-08-19T11:51:47.5196321Z","refreshToken":"ti1iM/43vWSfbGf6UTNz7qWNNYSI6KC7e8xg2zI8/D4="}}
2023-08-19 15:51:33.473 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 1584.2768ms
2023-08-19 15:51:46.319 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/roles?page=0&size=5 - -
2023-08-19 15:51:46.321 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/roles
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:51:46.324 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:51:46.326 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 15:51:46.328 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 15:51:46.330 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 15:51:46.332 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/roles?page=0&size=5 - - - 401 0 - 12.7779ms
2023-08-19 15:51:46.343 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 15:51:46.346 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:51:46.348 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:51:46.350 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 15:51:46.352 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 9.1998ms
2023-08-19 15:51:46.356 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 15:51:46.359 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:51:46.362 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:51:46.364 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:51:46.368 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:51:46.374 +04:00 [INF] RequestBody: {"refreshToken":"ti1iM/43vWSfbGf6UTNz7qWNNYSI6KC7e8xg2zI8/D4="}
2023-08-19 15:51:46.378 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:51:46.392 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 15:51:46.405 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:51:46.414 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 15:51:46.425 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 15:51:46.429 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:51:46.431 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 58.2496ms
2023-08-19 15:51:46.433 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:51:46.435 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ1OTA2LCJleHAiOjE2OTI0NDU5MjEsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.O9sAOv2dHbYYFIrP6Jnr_JQAQckDH4fITZ1XEcqjTRE","expiration":"2023-08-19T11:52:01.3994599Z","refreshToken":"WT2TiNGlk/SPenLvXAbwvJ95cH2g6T+L3tyjcEcVW3Q="}}
2023-08-19 15:51:46.438 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 81.3135ms
2023-08-19 15:51:49.835 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/users?page=0&size=5 - -
2023-08-19 15:51:49.837 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/users
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:51:49.840 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:51:49.847 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 15:51:49.851 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 15:51:49.854 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 15:51:49.858 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/users?page=0&size=5 - - - 401 0 - 22.9560ms
2023-08-19 15:51:49.875 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 15:51:49.878 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:51:49.883 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:51:49.886 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:51:49.891 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:51:49.898 +04:00 [INF] RequestBody: {"refreshToken":"WT2TiNGlk/SPenLvXAbwvJ95cH2g6T+L3tyjcEcVW3Q="}
2023-08-19 15:51:49.917 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:51:49.924 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 15:51:49.936 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:51:49.945 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 15:51:49.958 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 15:51:49.961 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:51:49.964 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 67.0306ms
2023-08-19 15:51:49.969 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:51:49.972 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ1OTA5LCJleHAiOjE2OTI0NDU5MjQsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.1xc3TiL2sGo0o1U_EZEgsHU3Asj8gZNBCLy5OLwML-8","expiration":"2023-08-19T11:52:04.9323945Z","refreshToken":"jpNILHJ3JIgHUTqVf8XzJPNPFUdPSQ9zKKkrVBbvV1U="}}
2023-08-19 15:51:49.975 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 100.0801ms
2023-08-19 15:51:58.178 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/roles?page=0&size=5 - -
2023-08-19 15:51:58.181 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/roles
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:51:58.185 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:51:58.188 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 15:51:58.191 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 15:51:58.194 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 15:51:58.197 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/roles?page=0&size=5 - - - 401 0 - 20.3199ms
2023-08-19 15:51:58.214 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 15:51:58.218 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:51:58.222 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:51:58.225 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 15:51:58.228 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 14.0862ms
2023-08-19 15:51:58.232 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 15:51:58.235 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:51:58.239 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:51:58.241 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:51:58.244 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:51:58.248 +04:00 [INF] RequestBody: {"refreshToken":"jpNILHJ3JIgHUTqVf8XzJPNPFUdPSQ9zKKkrVBbvV1U="}
2023-08-19 15:51:58.250 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:51:58.258 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 15:51:58.269 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:51:58.279 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 15:51:58.293 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 15:51:58.297 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:51:58.300 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 52.5488ms
2023-08-19 15:51:58.304 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:51:58.307 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ1OTE4LCJleHAiOjE2OTI0NDU5MzMsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.XXxPGZ9g0NgnTcobmj_4lAbOxcl62NeBK7bSPzGgpPA","expiration":"2023-08-19T11:52:13.2659931Z","refreshToken":"GsgKf8F3PnKhS7cJPnRIiXabKIVMdfQJrudm1ZAx5xw="}}
2023-08-19 15:51:58.310 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 78.9892ms
2023-08-19 15:51:59.858 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/users?page=0&size=5 - -
2023-08-19 15:51:59.860 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/users
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:51:59.864 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:51:59.867 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 15:51:59.868 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 15:51:59.870 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 15:51:59.872 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/users?page=0&size=5 - - - 401 0 - 14.1993ms
2023-08-19 15:51:59.890 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 15:51:59.892 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:51:59.895 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:51:59.898 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:51:59.902 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:51:59.907 +04:00 [INF] RequestBody: {"refreshToken":"GsgKf8F3PnKhS7cJPnRIiXabKIVMdfQJrudm1ZAx5xw="}
2023-08-19 15:51:59.910 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:51:59.923 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 15:51:59.937 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:51:59.945 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 15:51:59.960 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 15:51:59.964 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:51:59.967 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 59.4814ms
2023-08-19 15:51:59.970 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:51:59.972 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ1OTE5LCJleHAiOjE2OTI0NDU5MzQsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.IOAkoum9fn_evyFGWgcZmotsMhsbDaqg4bpozObVSjA","expiration":"2023-08-19T11:52:14.930363Z","refreshToken":"7RsaK8uc374EUpX+sKs96jPB/uKnjswzrMRU1Ffny1g="}}
2023-08-19 15:51:59.975 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 84.9914ms
2023-08-19 15:52:01.905 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/ApplicationServices - -
2023-08-19 15:52:01.908 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/ApplicationServices
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:52:01.916 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:52:01.918 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 15:52:01.921 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 15:52:01.924 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 15:52:01.927 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/ApplicationServices - - - 401 0 - 22.3960ms
2023-08-19 15:52:01.934 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 15:52:01.937 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:52:01.939 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:52:01.941 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:52:01.945 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:52:01.949 +04:00 [INF] RequestBody: {"refreshToken":"7RsaK8uc374EUpX+sKs96jPB/uKnjswzrMRU1Ffny1g="}
2023-08-19 15:52:01.951 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:52:01.957 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 15:52:01.970 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:52:01.982 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 15:52:01.995 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 15:52:01.999 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:52:02.002 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 53.4215ms
2023-08-19 15:52:02.006 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:52:02.009 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ1OTIxLCJleHAiOjE2OTI0NDU5MzYsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.NIumOWi0Adqaq7hPpMbVaQC6ZBzy96EvBhIk6nVWrCE","expiration":"2023-08-19T11:52:16.965872Z","refreshToken":"Two245t9SoTVRPHxw6z/oWvBDCh/WEHziPvSRXbeEuQ="}}
2023-08-19 15:52:02.012 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 78.4677ms
2023-08-19 15:52:04.989 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - -
2023-08-19 15:52:04.992 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/orders
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:52:04.995 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:52:04.997 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 15:52:04.999 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 15:52:05.002 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 15:52:05.003 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - - - 401 0 - 14.0273ms
2023-08-19 15:52:05.022 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 15:52:05.024 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:52:05.026 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:52:05.028 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 15:52:05.031 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 9.1723ms
2023-08-19 15:52:05.033 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 15:52:05.035 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:52:05.039 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:52:05.041 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:52:05.044 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:52:05.049 +04:00 [INF] RequestBody: {"refreshToken":"Two245t9SoTVRPHxw6z/oWvBDCh/WEHziPvSRXbeEuQ="}
2023-08-19 15:52:05.051 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:52:05.063 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 15:52:05.081 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:52:05.094 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 15:52:05.104 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 15:52:05.109 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:52:05.111 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 61.7045ms
2023-08-19 15:52:05.114 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:52:05.116 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ1OTI1LCJleHAiOjE2OTI0NDU5NDAsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.4Sbe7BnajKQxc7C7-tltfredb4-LYzSF6wDUuQBy_co","expiration":"2023-08-19T11:52:20.0733006Z","refreshToken":"yQgOoHv2nkGHIcXVRL47f+slnq1tFhE1eoi1dA7Fuv0="}}
2023-08-19 15:52:05.119 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 86.0007ms
2023-08-19 15:52:09.894 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - -
2023-08-19 15:52:09.899 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:52:09.902 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:52:09.903 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 15:52:09.905 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 15:52:09.914 +04:00 [INF] Get all products
2023-08-19 15:52:09.915 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:52:09.922 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 15:52:09.930 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 15:52:09.938 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 15:52:09.940 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:52:09.942 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 34.5165ms
2023-08-19 15:52:09.948 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 15:52:09.950 +04:00 [INF] ResponseBody: {"totalProductCount":0,"products":[]}
2023-08-19 15:52:09.952 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 58.2856ms
2023-08-19 15:52:11.226 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - -
2023-08-19 15:52:11.229 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/orders
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:52:11.232 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:52:11.234 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 15:52:11.236 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 15:52:11.239 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 15:52:11.241 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - - - 401 0 - 14.5339ms
2023-08-19 15:52:11.253 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 15:52:11.255 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:52:11.257 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:52:11.258 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 15:52:11.260 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 6.9255ms
2023-08-19 15:52:11.263 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 15:52:11.266 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:52:11.270 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:52:11.272 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:52:11.278 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:52:11.284 +04:00 [INF] RequestBody: {"refreshToken":"yQgOoHv2nkGHIcXVRL47f+slnq1tFhE1eoi1dA7Fuv0="}
2023-08-19 15:52:11.290 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:52:11.301 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 15:52:11.318 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:52:11.334 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 15:52:11.353 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 15:52:11.357 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:52:11.359 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 74.7408ms
2023-08-19 15:52:11.362 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:52:11.365 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ1OTMxLCJleHAiOjE2OTI0NDU5NDYsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.sOu7XvdNNEEKj4rqoFLS47YjemTBOatpjaF0HtNWOug","expiration":"2023-08-19T11:52:26.313158Z","refreshToken":"YGHA1si5VXa7PKa4XHDRbZxthM/LJ8V7eXusjGqH864="}}
2023-08-19 15:52:11.368 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 105.2273ms
2023-08-19 15:54:33.828 +04:00 [INF] User profile is available. Using 'C:\Users\K\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-19 15:54:34.190 +04:00 [INF] Now listening on: https://localhost:7131
2023-08-19 15:54:34.192 +04:00 [INF] Now listening on: http://localhost:5131
2023-08-19 15:54:34.195 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-19 15:54:34.197 +04:00 [INF] Hosting environment: Development
2023-08-19 15:54:34.198 +04:00 [INF] Content root path: C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\
2023-08-19 15:54:41.865 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - -
2023-08-19 15:54:42.056 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/orders
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:54:42.066 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:54:42.264 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 15:54:42.285 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-19 15:54:42.290 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 15:54:42.316 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - - - 401 0 - 461.3454ms
2023-08-19 15:54:42.319 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 15:54:42.329 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:54:42.332 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:54:42.338 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 15:54:42.342 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 22.7374ms
2023-08-19 15:54:42.345 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 15:54:42.375 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:54:42.380 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:54:42.401 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:54:42.944 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:54:43.009 +04:00 [INF] RequestBody: {"refreshToken":"YGHA1si5VXa7PKa4XHDRbZxthM/LJ8V7eXusjGqH864="}
2023-08-19 15:54:46.006 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:54:46.948 +04:00 [INF] Executed DbCommand (49ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 15:54:47.627 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:54:47.905 +04:00 [INF] Executed DbCommand (22ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 15:54:47.999 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 15:54:48.022 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:54:48.038 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 5078.3955ms
2023-08-19 15:54:48.045 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:54:48.054 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ2MDg3LCJleHAiOjE2OTI0NDYxMDIsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.l07DyAt6EkbRvcKyekG0zOSf8JskKEjcdDqwsEOPhgA","expiration":"2023-08-19T11:55:02.2394484Z","refreshToken":"pDfiQH4kANWuGSsDxRcYbOafGoyN8c6KI5PYb82xGcE="}}
2023-08-19 15:54:48.093 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 5747.8306ms
2023-08-19 15:54:53.718 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - -
2023-08-19 15:54:53.722 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:54:53.725 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:54:53.728 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 15:54:53.773 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 15:54:53.828 +04:00 [INF] Get all products
2023-08-19 15:54:53.960 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:54:54.105 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 15:54:54.221 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-08-19 15:54:54.226 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-08-19 15:54:54.639 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 15:54:54.647 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 15:54:54.671 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:54:54.675 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 894.7906ms
2023-08-19 15:54:54.678 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 15:54:54.681 +04:00 [INF] ResponseBody: {"totalProductCount":0,"products":[]}
2023-08-19 15:54:54.684 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 965.2687ms
2023-08-19 15:54:55.428 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - -
2023-08-19 15:54:55.431 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/orders
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:54:55.435 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:54:55.439 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 15:54:55.443 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-19 15:54:55.449 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 15:54:55.452 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - - - 401 0 - 24.2650ms
2023-08-19 15:54:55.466 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 15:54:55.470 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:54:55.475 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:54:55.478 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 15:54:55.481 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 14.5711ms
2023-08-19 15:54:55.486 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 15:54:55.491 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:54:55.494 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:54:55.496 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:54:55.522 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:54:55.528 +04:00 [INF] RequestBody: {"refreshToken":"pDfiQH4kANWuGSsDxRcYbOafGoyN8c6KI5PYb82xGcE="}
2023-08-19 15:54:55.557 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:54:55.578 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 15:54:55.594 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:54:55.608 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 15:54:55.626 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 15:54:55.631 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:54:55.634 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 106.8593ms
2023-08-19 15:54:55.642 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:54:55.645 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ2MDk1LCJleHAiOjE2OTI0NDYxMTAsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.imrxJKsS_kNuBSvBed0oLLhC-0VLcWRjbeT2QajkebY","expiration":"2023-08-19T11:55:10.5884991Z","refreshToken":"o38GCjYIi3hErkbHJ+kOfQ8rZeaxvvTU58apmN0Mq7c="}}
2023-08-19 15:54:55.649 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 162.3921ms
2023-08-19 15:54:56.938 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - -
2023-08-19 15:54:56.941 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:54:56.944 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:54:56.948 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 15:54:56.952 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 15:54:56.960 +04:00 [INF] Get all products
2023-08-19 15:54:56.963 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:54:56.972 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 15:54:56.987 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 15:54:56.994 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 15:54:57.001 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:54:57.004 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 45.9177ms
2023-08-19 15:54:57.009 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 15:54:57.014 +04:00 [INF] ResponseBody: {"totalProductCount":0,"products":[]}
2023-08-19 15:54:57.017 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 78.9007ms
2023-08-19 15:54:58.128 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/products - -
2023-08-19 15:54:58.132 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:54:58.135 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:54:58.137 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 15:54:58.140 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/products - - - 204 - - 11.3597ms
2023-08-19 15:54:58.142 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/products application/json 31
2023-08-19 15:54:58.144 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 31
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:54:58.146 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:54:58.157 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authentication handler is registered for the scheme 'Admin'. The registered schemes are: Identity.Application, Identity.External, Identity.TwoFactorRememberMe, Identity.TwoFactorUserId, Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Admin",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator.AuthenticateAsync(AuthorizationPolicy policy, HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 15:54:58.317 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/products application/json 31 - 500 - text/plain;+charset=utf-8 175.9026ms
2023-08-19 15:57:08.772 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5131/api/Auth/Login application/json 63
2023-08-19 15:57:08.775 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/Login
Accept: */*
Connection: keep-alive
Host: localhost:5131
User-Agent: PostmanRuntime/7.32.3
Accept-Encoding: gzip, deflate, br
Content-Type: application/json
Content-Length: 63
Postman-Token: [Redacted]
2023-08-19 15:57:08.794 +04:00 [INF] RequestBody: 
2023-08-19 15:57:08.798 +04:00 [INF] Response:
StatusCode: 307
Location: https://localhost:7131/api/Auth/Login
2023-08-19 15:57:08.802 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5131/api/Auth/Login application/json 63 - 307 0 - 29.8592ms
2023-08-19 15:57:08.839 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/Auth/Login application/json 63
2023-08-19 15:57:08.844 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: https
PathBase: 
Path: /api/Auth/Login
Accept: */*
Connection: keep-alive
Host: localhost:7131
User-Agent: PostmanRuntime/7.32.3
Accept-Encoding: gzip, deflate, br
Content-Type: application/json
Referer: [Redacted]
Content-Length: 63
Postman-Token: [Redacted]
2023-08-19 15:57:08.846 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 15:57:08.858 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:57:08.867 +04:00 [INF] RequestBody: {
    "usernameoremail":"kenken",
    "password":"Ken123!"
}
2023-08-19 15:57:08.883 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:57:08.902 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:57:08.929 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-08-19 15:57:09.635 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 772.4439ms
2023-08-19 15:57:09.643 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 15:57:09.976 +04:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal.
   at ETicaretAPI.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 122
   at ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandHandler.Handle(LoginUserCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\LoginUser\LoginUserCommandHandler.cs:line 25
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.Login(LoginUserCommandRequest loginUserCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 15:57:10.752 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/Auth/Login application/json 63 - 500 - text/plain;+charset=utf-8 1913.3809ms
2023-08-19 15:57:35.158 +04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5131/api/Auth/Login application/json 66
2023-08-19 15:57:35.161 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/Login
Accept: */*
Connection: keep-alive
Host: localhost:5131
User-Agent: PostmanRuntime/7.32.3
Accept-Encoding: gzip, deflate, br
Content-Type: application/json
Content-Length: 66
Postman-Token: [Redacted]
2023-08-19 15:57:35.164 +04:00 [INF] RequestBody: 
2023-08-19 15:57:35.166 +04:00 [INF] Response:
StatusCode: 307
Location: https://localhost:7131/api/Auth/Login
2023-08-19 15:57:35.168 +04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5131/api/Auth/Login application/json 66 - 307 0 - 10.3231ms
2023-08-19 15:57:35.170 +04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7131/api/Auth/Login application/json 66
2023-08-19 15:57:35.171 +04:00 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: https
PathBase: 
Path: /api/Auth/Login
Accept: */*
Connection: keep-alive
Host: localhost:7131
User-Agent: PostmanRuntime/7.32.3
Accept-Encoding: gzip, deflate, br
Content-Type: application/json
Referer: [Redacted]
Content-Length: 66
Postman-Token: [Redacted]
2023-08-19 15:57:35.173 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 15:57:35.176 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:57:35.179 +04:00 [INF] RequestBody: {
    "usernameoremail":"Ken",
    "password":"KenKen920920!"
}
2023-08-19 15:57:35.183 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:57:35.193 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:57:35.302 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 15:57:35.317 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 15:57:35.332 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2023-08-19 15:57:35.338 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:57:35.341 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 161.9839ms
2023-08-19 15:57:35.347 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 15:57:35.350 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ2MjU1LCJleHAiOjE2OTI0NDcxNTUsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.KKxybG92q8M4v0uzs3SxxM57vCivKNFEivotaXt0t5g","expiration":"2023-08-19T12:12:35.2980382Z","refreshToken":"uf0C19D8FFlsJBl5LZHa/rrq7o7zFa1f6cW/eBVslmk="}}
2023-08-19 15:57:35.353 +04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7131/api/Auth/Login application/json 66 - 200 - application/json;+charset=utf-8 182.8489ms
2023-08-19 15:59:03.765 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - -
2023-08-19 15:59:03.774 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/orders
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:59:03.779 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:59:03.790 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 15:59:03.793 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-19 15:59:03.798 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 15:59:03.801 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - - - 401 0 - 37.1563ms
2023-08-19 15:59:03.828 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 15:59:03.830 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:59:03.833 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:59:03.836 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 15:59:03.841 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 12.6344ms
2023-08-19 15:59:03.845 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 15:59:03.847 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:59:03.850 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:59:03.854 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:59:03.876 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:59:03.882 +04:00 [INF] RequestBody: {"refreshToken":"o38GCjYIi3hErkbHJ+kOfQ8rZeaxvvTU58apmN0Mq7c="}
2023-08-19 15:59:03.908 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:59:03.928 +04:00 [INF] Executed DbCommand (14ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 15:59:04.358 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 476.1985ms
2023-08-19 15:59:04.363 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:59:04.701 +04:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal.
   at ETicaretAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 144
   at ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\RefreshTokenLogin\RefreshTokenLoginCommandHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 15:59:04.739 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 500 - text/plain;+charset=utf-8 894.0136ms
2023-08-19 15:59:11.232 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/files/GetBaseStorageUrl - -
2023-08-19 15:59:11.243 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/files/GetBaseStorageUrl
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:59:11.248 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:59:11.251 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2023-08-19 15:59:11.264 +04:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2023-08-19 15:59:11.273 +04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-08-19 15:59:11.286 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:59:11.289 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 22.1562ms
2023-08-19 15:59:11.294 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2023-08-19 15:59:11.297 +04:00 [INF] ResponseBody: {"url":null}
2023-08-19 15:59:11.300 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 68.9369ms
2023-08-19 15:59:11.308 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=12 - -
2023-08-19 15:59:11.312 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:59:11.316 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:59:11.318 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 15:59:11.322 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 15:59:11.335 +04:00 [INF] Get all products
2023-08-19 15:59:11.338 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:59:11.350 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 15:59:11.364 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 15:59:11.369 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 15:59:11.376 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:59:11.378 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 51.5546ms
2023-08-19 15:59:11.381 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 15:59:11.383 +04:00 [INF] ResponseBody: {"totalProductCount":0,"products":[]}
2023-08-19 15:59:11.385 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 77.3789ms
2023-08-19 15:59:19.882 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - -
2023-08-19 15:59:19.885 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:59:19.889 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:59:19.896 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 15:59:19.905 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 15:59:19.913 +04:00 [INF] Get all products
2023-08-19 15:59:19.917 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:59:19.928 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 15:59:19.938 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 15:59:19.946 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 15:59:19.949 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:59:19.952 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 38.9788ms
2023-08-19 15:59:19.954 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 15:59:19.959 +04:00 [INF] ResponseBody: {"totalProductCount":0,"products":[]}
2023-08-19 15:59:19.962 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 79.4421ms
2023-08-19 15:59:21.416 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - -
2023-08-19 15:59:21.419 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/orders
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:59:21.423 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:59:21.425 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 15:59:21.428 +04:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-08-19 15:59:21.431 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 15:59:21.434 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - - - 401 0 - 17.9657ms
2023-08-19 15:59:21.451 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 15:59:21.453 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:59:21.458 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:59:21.463 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 15:59:21.468 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 16.8233ms
2023-08-19 15:59:21.484 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 15:59:21.489 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:59:21.495 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:59:21.498 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:59:21.511 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 15:59:21.519 +04:00 [INF] RequestBody: {"refreshToken":"o38GCjYIi3hErkbHJ+kOfQ8rZeaxvvTU58apmN0Mq7c="}
2023-08-19 15:59:21.526 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:59:21.543 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 15:59:21.977 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 458.1364ms
2023-08-19 15:59:21.981 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 15:59:22.269 +04:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal.
   at ETicaretAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 144
   at ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\RefreshTokenLogin\RefreshTokenLoginCommandHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 15:59:22.287 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 500 - text/plain;+charset=utf-8 802.5969ms
2023-08-19 15:59:25.087 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - -
2023-08-19 15:59:25.089 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:59:25.092 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:59:25.094 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 15:59:25.097 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 15:59:25.108 +04:00 [INF] Get all products
2023-08-19 15:59:25.110 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 15:59:25.118 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 15:59:25.130 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 15:59:25.137 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 15:59:25.139 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 15:59:25.141 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 34.7564ms
2023-08-19 15:59:25.146 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 15:59:25.149 +04:00 [INF] ResponseBody: {"totalProductCount":0,"products":[]}
2023-08-19 15:59:25.151 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 63.9028ms
2023-08-19 15:59:42.735 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/products - -
2023-08-19 15:59:42.738 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:59:42.740 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:59:42.742 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 15:59:42.744 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/products - - - 204 - - 8.6443ms
2023-08-19 15:59:42.747 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/products application/json 37
2023-08-19 15:59:42.748 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 37
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 15:59:42.750 +04:00 [INF] CORS policy execution successful.
2023-08-19 15:59:42.755 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authentication handler is registered for the scheme 'Admin'. The registered schemes are: Identity.Application, Identity.External, Identity.TwoFactorRememberMe, Identity.TwoFactorUserId, Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Admin",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator.AuthenticateAsync(AuthorizationPolicy policy, HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 15:59:42.762 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/products application/json 37 - 500 - text/plain;+charset=utf-8 15.7195ms
2023-08-19 16:01:45.724 +04:00 [INF] User profile is available. Using 'C:\Users\K\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-19 16:01:46.492 +04:00 [INF] Now listening on: https://localhost:7131
2023-08-19 16:01:46.494 +04:00 [INF] Now listening on: http://localhost:5131
2023-08-19 16:01:46.500 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-19 16:01:46.501 +04:00 [INF] Hosting environment: Development
2023-08-19 16:01:46.502 +04:00 [INF] Content root path: C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\
2023-08-19 16:01:55.403 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/products - -
2023-08-19 16:01:55.589 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:01:55.601 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:01:55.608 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:01:55.634 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/products - - - 204 - - 243.8663ms
2023-08-19 16:01:55.638 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/products application/json 37
2023-08-19 16:01:55.669 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 37
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:01:55.673 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:01:55.899 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 16:01:55.919 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 16:01:55.924 +04:00 [INF] RequestBody: 
2023-08-19 16:01:55.927 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 16:01:55.933 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/products application/json 37 - 401 0 - 294.9861ms
2023-08-19 16:01:55.945 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 16:01:55.949 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:01:55.953 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:01:55.955 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:01:55.957 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 11.9727ms
2023-08-19 16:01:55.961 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 16:01:55.967 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:01:55.970 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:01:56.000 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:01:56.933 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:01:57.003 +04:00 [INF] RequestBody: {"refreshToken":"o38GCjYIi3hErkbHJ+kOfQ8rZeaxvvTU58apmN0Mq7c="}
2023-08-19 16:02:00.032 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:02:01.202 +04:00 [INF] Executed DbCommand (55ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 16:02:01.682 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 4733.6117ms
2023-08-19 16:02:01.689 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:02:02.014 +04:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal.
   at ETicaretAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 144
   at ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\RefreshTokenLogin\RefreshTokenLoginCommandHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 16:02:02.496 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 500 - text/plain;+charset=utf-8 6535.5746ms
2023-08-19 16:02:19.998 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/login - -
2023-08-19 16:02:20.001 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:02:20.003 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:02:20.005 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:02:20.009 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/login - - - 204 - - 11.0688ms
2023-08-19 16:02:20.011 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/login application/json 52
2023-08-19 16:02:20.015 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 52
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:02:20.018 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:02:20.025 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 16:02:20.105 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:02:20.114 +04:00 [INF] RequestBody: {"userNameOrEmail":"Ken","password":"KenKen920920!"}
2023-08-19 16:02:20.253 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:02:20.286 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:02:20.975 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:02:21.382 +04:00 [INF] Executed DbCommand (47ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 16:02:21.511 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2023-08-19 16:02:21.545 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:02:21.551 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 1439.246ms
2023-08-19 16:02:21.555 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 16:02:21.557 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ2NTQwLCJleHAiOjE2OTI0NDc0NDAsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.21tiqvEndvD_7rn9EUVgXI-RgaGogyeWPgv9QOZ0PdU","expiration":"2023-08-19T12:17:20.6571222Z","refreshToken":"uZEa4+kg+eMTGab7wSW8Ejsq0XR+EoMMG1InEho52EQ="}}
2023-08-19 16:02:21.560 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/login application/json 52 - 200 - application/json;+charset=utf-8 1548.7702ms
2023-08-19 16:02:21.621 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - -
2023-08-19 16:02:21.638 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:02:21.641 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:02:21.643 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 16:02:21.677 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 16:02:21.718 +04:00 [INF] Get all products
2023-08-19 16:02:21.763 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:02:21.920 +04:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 16:02:22.103 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-08-19 16:02:22.109 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-08-19 16:02:22.531 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 16:02:22.539 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 16:02:22.559 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:02:22.562 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 880.5896ms
2023-08-19 16:02:22.566 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 16:02:22.570 +04:00 [INF] ResponseBody: {"totalProductCount":0,"products":[]}
2023-08-19 16:02:22.572 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 951.1484ms
2023-08-19 16:02:34.298 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/products - -
2023-08-19 16:02:34.301 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:02:34.304 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:02:34.306 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:02:34.309 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/products - - - 204 - - 11.8080ms
2023-08-19 16:02:34.312 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/products application/json 36
2023-08-19 16:02:34.315 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 36
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:02:34.319 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:02:34.322 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 16:02:34.324 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 16:02:34.327 +04:00 [INF] RequestBody: 
2023-08-19 16:02:34.330 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 16:02:34.333 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/products application/json 36 - 401 0 - 21.3235ms
2023-08-19 16:02:34.342 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 16:02:34.345 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:02:34.349 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:02:34.352 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:02:34.356 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 13.3290ms
2023-08-19 16:02:34.358 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 16:02:34.361 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:02:34.365 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:02:34.369 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:02:34.375 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:02:34.380 +04:00 [INF] RequestBody: {"refreshToken":"uZEa4+kg+eMTGab7wSW8Ejsq0XR+EoMMG1InEho52EQ="}
2023-08-19 16:02:34.386 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:02:34.400 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 16:02:34.425 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:02:34.445 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 16:02:34.464 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 16:02:34.474 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:02:34.477 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 96.8334ms
2023-08-19 16:02:34.482 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:02:34.486 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ2NTU0LCJleHAiOjE2OTI0NDY1NjksImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.0nYkN2zJ64Fob-SMF7dfOonExib28_3pWtsA1mayj5g","expiration":"2023-08-19T12:02:49.4169261Z","refreshToken":"az11eS5NNxuok8exqeboT2nKJ7gesKpWApOVcs/CD8Q="}}
2023-08-19 16:02:34.491 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 133.5041ms
2023-08-19 16:02:42.570 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/roles?page=0&size=5 - -
2023-08-19 16:02:42.572 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/roles
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:02:42.575 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:02:42.579 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 16:02:42.583 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 16:02:42.586 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 16:02:42.591 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/roles?page=0&size=5 - - - 401 0 - 21.4898ms
2023-08-19 16:02:42.614 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 16:02:42.622 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:02:42.625 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:02:42.627 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:02:42.629 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 15.7379ms
2023-08-19 16:02:42.643 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 16:02:42.647 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:02:42.652 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:02:42.655 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:02:42.659 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:02:42.664 +04:00 [INF] RequestBody: {"refreshToken":"az11eS5NNxuok8exqeboT2nKJ7gesKpWApOVcs/CD8Q="}
2023-08-19 16:02:42.685 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:02:42.691 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 16:02:42.702 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:02:42.709 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 16:02:42.718 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 16:02:42.722 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:02:42.723 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 59.1778ms
2023-08-19 16:02:42.725 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:02:42.726 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ2NTYyLCJleHAiOjE2OTI0NDY1NzcsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.iDRFhrdo9izHXtFOCRVUJCc4is6K8TAws9aCEte7T2M","expiration":"2023-08-19T12:02:57.6974457Z","refreshToken":"XWtsxsA1/7XoFZeG27m3tRL5mSf3OwI5LvthqQRfImw="}}
2023-08-19 16:02:42.728 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 85.9156ms
2023-08-19 16:02:44.448 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/ApplicationServices - -
2023-08-19 16:02:44.451 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/ApplicationServices
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:02:44.455 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:02:44.459 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 16:02:44.461 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 16:02:44.466 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 16:02:44.470 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/ApplicationServices - - - 401 0 - 21.9051ms
2023-08-19 16:02:44.480 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 16:02:44.484 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:02:44.487 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:02:44.491 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:02:44.496 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:02:44.502 +04:00 [INF] RequestBody: {"refreshToken":"XWtsxsA1/7XoFZeG27m3tRL5mSf3OwI5LvthqQRfImw="}
2023-08-19 16:02:44.506 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:02:44.518 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 16:02:44.533 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:02:44.545 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 16:02:44.561 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 16:02:44.565 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:02:44.569 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 66.4913ms
2023-08-19 16:02:44.572 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:02:44.576 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ2NTY0LCJleHAiOjE2OTI0NDY1NzksImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.2UputUsCl1e4riSB_3z3XXggbU1BucW1k9Nq6FOcYJw","expiration":"2023-08-19T12:02:59.5277681Z","refreshToken":"WhkwZRFa1sV6rKgfooGr36x0SJG4IjA9a51vqBI4fvc="}}
2023-08-19 16:02:44.581 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 101.3400ms
2023-08-19 16:02:46.756 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - -
2023-08-19 16:02:46.761 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/orders
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:02:46.763 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:02:46.783 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authentication handler is registered for the scheme 'Bearer'. The registered schemes are: Identity.Application, Identity.External, Identity.TwoFactorRememberMe, Identity.TwoFactorUserId, Admin. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Bearer",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator.AuthenticateAsync(AuthorizationPolicy policy, HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 16:02:46.801 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - - - 500 - text/plain;+charset=utf-8 44.5121ms
2023-08-19 16:06:04.302 +04:00 [INF] User profile is available. Using 'C:\Users\K\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-19 16:06:05.274 +04:00 [INF] Now listening on: https://localhost:7131
2023-08-19 16:06:05.276 +04:00 [INF] Now listening on: http://localhost:5131
2023-08-19 16:06:05.282 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-19 16:06:05.283 +04:00 [INF] Hosting environment: Development
2023-08-19 16:06:05.285 +04:00 [INF] Content root path: C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\
2023-08-19 16:06:28.065 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/login - -
2023-08-19 16:06:28.245 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:06:28.255 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:06:28.261 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:06:28.285 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/login - - - 204 - - 231.2585ms
2023-08-19 16:06:28.290 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/login application/json 52
2023-08-19 16:06:28.319 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 52
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:06:28.323 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:06:28.376 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 16:06:29.123 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:06:29.201 +04:00 [INF] RequestBody: {"userNameOrEmail":"Ken","password":"KenKen920920!"}
2023-08-19 16:06:31.943 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:06:33.005 +04:00 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:06:33.942 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:06:34.352 +04:00 [INF] Executed DbCommand (47ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 16:06:34.504 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2023-08-19 16:06:34.538 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:06:34.563 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 5419.5576ms
2023-08-19 16:06:34.569 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 16:06:34.578 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ2NzkzLCJleHAiOjE2OTI0NDc2OTMsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.0qdlM2-QY_0nuG4yTabpqClNy14lt_kc1340ogiINjc","expiration":"2023-08-19T12:21:33.5567864Z","refreshToken":"pGmENkZgENcy8iWQ2FnmRxcY77R/gcireEeD1fAysIs="}}
2023-08-19 16:06:34.615 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/login application/json 52 - 200 - application/json;+charset=utf-8 6325.1539ms
2023-08-19 16:06:40.643 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - -
2023-08-19 16:06:40.670 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/orders
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:06:40.675 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:06:40.694 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authentication handler is registered for the scheme 'Bearer'. The registered schemes are: Identity.Application, Identity.External, Identity.TwoFactorRememberMe, Identity.TwoFactorUserId, Admin. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Bearer",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator.AuthenticateAsync(AuthorizationPolicy policy, HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 16:06:40.850 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - - - 500 - text/plain;+charset=utf-8 207.3136ms
2023-08-19 16:07:25.673 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - -
2023-08-19 16:07:25.689 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/orders
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:07:25.691 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:07:25.700 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authentication handler is registered for the scheme 'Bearer'. The registered schemes are: Identity.Application, Identity.External, Identity.TwoFactorRememberMe, Identity.TwoFactorUserId, Admin. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("Bearer",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator.AuthenticateAsync(AuthorizationPolicy policy, HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 16:07:25.711 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - - - 500 - text/plain;+charset=utf-8 38.3936ms
2023-08-19 16:07:29.054 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/roles?page=0&size=5 - -
2023-08-19 16:07:29.058 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/roles
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:07:29.060 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:07:29.187 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 16:07:29.213 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 16:07:29.216 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 16:07:29.219 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/roles?page=0&size=5 - - - 401 0 - 164.9409ms
2023-08-19 16:07:29.224 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 16:07:29.228 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:07:29.235 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:07:29.237 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:07:29.240 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 15.9183ms
2023-08-19 16:07:29.245 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 16:07:29.251 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:07:29.254 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:07:29.256 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:07:29.346 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:07:29.355 +04:00 [INF] RequestBody: {"refreshToken":"pGmENkZgENcy8iWQ2FnmRxcY77R/gcireEeD1fAysIs="}
2023-08-19 16:07:29.500 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:07:29.521 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 16:07:29.545 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:07:29.559 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 16:07:29.587 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 16:07:29.594 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:07:29.597 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 243.6157ms
2023-08-19 16:07:29.601 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:07:29.604 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ2ODQ5LCJleHAiOjE2OTI0NDY4NjQsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.OFRNuuyZAONaiQgG5-H-QVNN_PjApkoWASnGWn1t064","expiration":"2023-08-19T12:07:44.5356473Z","refreshToken":"Ww9KYzYG7JOQpmV3WctUxqho8AHBbA+1s0acCLl3Dhw="}}
2023-08-19 16:07:29.608 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 363.8244ms
2023-08-19 16:07:54.561 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/login - -
2023-08-19 16:07:54.564 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:07:54.568 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:07:54.571 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:07:54.573 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/login - - - 204 - - 11.6107ms
2023-08-19 16:07:54.578 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/login application/json 52
2023-08-19 16:07:54.591 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 52
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:07:54.595 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:07:54.598 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 16:07:54.644 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:07:54.653 +04:00 [INF] RequestBody: {"userNameOrEmail":"Ken","password":"KenKen920920!"}
2023-08-19 16:07:54.689 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:07:54.716 +04:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:07:54.755 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:07:54.779 +04:00 [INF] Executed DbCommand (15ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 16:07:54.800 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2023-08-19 16:07:54.806 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:07:54.810 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 158.4365ms
2023-08-19 16:07:54.815 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 16:07:54.820 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ2ODc0LCJleHAiOjE2OTI0NDc3NzQsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.d_NOLEVLkGYp_47mNXQgcwe1TzZlARUyIzcqYRx7Y8U","expiration":"2023-08-19T12:22:54.7475733Z","refreshToken":"djTyTZ3JzFiQdYRlNrw5ctwEzyResPSGhEH8Q1q+dd8="}}
2023-08-19 16:07:54.827 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/login application/json 52 - 200 - application/json;+charset=utf-8 248.9779ms
2023-08-19 16:07:58.768 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/baskets - -
2023-08-19 16:07:58.771 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/baskets
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:07:58.775 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:07:58.779 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 16:07:58.782 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 16:07:58.785 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 16:07:58.788 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/baskets - - - 401 0 - 19.6650ms
2023-08-19 16:07:58.795 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 16:07:58.800 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:07:58.803 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:07:58.805 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:07:58.808 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 12.2794ms
2023-08-19 16:07:58.813 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 16:07:58.818 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:07:58.823 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:07:58.826 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:07:58.833 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:07:58.844 +04:00 [INF] RequestBody: {"refreshToken":"djTyTZ3JzFiQdYRlNrw5ctwEzyResPSGhEH8Q1q+dd8="}
2023-08-19 16:07:58.849 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:07:58.872 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 16:07:58.890 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:07:58.906 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 16:07:58.929 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 16:07:58.939 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:07:58.944 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 100.58ms
2023-08-19 16:07:58.950 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:07:58.954 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ2ODc4LCJleHAiOjE2OTI0NDY4OTMsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.kb7EmoR7aQuFjLvH8aATRFNBi_lUfW0RmsvPCsn9sKw","expiration":"2023-08-19T12:08:13.8850355Z","refreshToken":"aGMlnRB/9GtXFjBJemIsCf7BkFTkFl9EQ8L1MzDfEA8="}}
2023-08-19 16:07:58.957 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 143.3546ms
2023-08-19 16:10:57.514 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/login - -
2023-08-19 16:10:57.530 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:10:57.534 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:10:57.537 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:10:57.539 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/login - - - 204 - - 24.8430ms
2023-08-19 16:10:57.543 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/login application/json 52
2023-08-19 16:10:57.545 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 52
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:10:57.549 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:10:57.551 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 16:10:57.555 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:10:57.562 +04:00 [INF] RequestBody: {"userNameOrEmail":"Ken","password":"KenKen920920!"}
2023-08-19 16:11:29.297 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:11:29.306 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:11:29.330 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:11:29.345 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 16:11:29.353 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2023-08-19 16:11:29.355 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:11:29.357 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 31795.7773ms
2023-08-19 16:11:29.360 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 16:11:29.362 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ3MDg5LCJleHAiOjE2OTI0NDc5ODksImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.f6HB01K2H_gT6plvktTq5x7r24RGuSs8EFHx1EXxzCY","expiration":"2023-08-19T12:26:29.3208805Z","refreshToken":"X9Cuw0L0TxlvQoBNPZ7CP2Fq2N7OUlBcmNWpBybsXFA="}}
2023-08-19 16:11:29.364 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/login application/json 52 - 200 - application/json;+charset=utf-8 31821.1790ms
2023-08-19 16:11:34.852 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/baskets - -
2023-08-19 16:11:34.856 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/baskets
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:11:34.860 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:11:34.864 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 16:11:34.868 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 16:11:34.873 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 16:11:34.875 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/baskets - - - 401 0 - 23.8037ms
2023-08-19 16:11:34.883 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 16:11:34.895 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:11:34.899 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:11:34.903 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:11:34.905 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 22.8240ms
2023-08-19 16:11:34.909 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 16:11:34.917 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:11:34.924 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:11:34.929 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:11:34.943 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:11:34.953 +04:00 [INF] RequestBody: {"refreshToken":"X9Cuw0L0TxlvQoBNPZ7CP2Fq2N7OUlBcmNWpBybsXFA="}
2023-08-19 16:12:23.941 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:12:23.955 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 16:12:23.994 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:12:24.002 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 16:12:39.729 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 16:12:46.672 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:12:46.674 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 71721.6893ms
2023-08-19 16:12:46.677 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:13:02.411 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ3MTQzLCJleHAiOjE2OTI0NDcxNTgsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.ObnpiKEvLdBr4E3Hg7eijqDAFQXXmMrZVJPzComSXeo","expiration":"2023-08-19T12:12:38.9865093Z","refreshToken":"qRLibVGMxOGbONtFpUjgAvKRenvRlUYYYMqYG9qfTno="}}
2023-08-19 16:13:02.434 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 87525.0888ms
2023-08-19 16:15:20.303 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - -
2023-08-19 16:15:20.311 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:15:20.319 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:15:20.321 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 16:15:20.342 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 16:15:24.815 +04:00 [INF] Get all products
2023-08-19 16:15:24.818 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:15:24.978 +04:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 16:15:25.118 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-08-19 16:15:25.122 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-08-19 16:15:25.605 +04:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 16:15:25.615 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 16:15:25.641 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:15:25.645 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 5299.5708ms
2023-08-19 16:15:25.650 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 16:15:25.652 +04:00 [INF] ResponseBody: {"totalProductCount":0,"products":[]}
2023-08-19 16:15:25.654 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 5353.2443ms
2023-08-19 16:15:42.025 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - -
2023-08-19 16:15:42.046 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/orders
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:15:42.052 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:15:42.055 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 16:15:42.057 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 16:15:42.062 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 16:15:42.064 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - - - 401 0 - 42.5060ms
2023-08-19 16:15:42.094 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 16:15:42.096 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:15:42.100 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:15:42.104 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:15:42.106 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 12.3070ms
2023-08-19 16:15:42.109 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 16:15:42.111 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:15:42.113 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:15:42.115 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:15:42.118 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:15:42.124 +04:00 [INF] RequestBody: {"refreshToken":"qRLibVGMxOGbONtFpUjgAvKRenvRlUYYYMqYG9qfTno="}
2023-08-19 16:15:42.128 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:15:42.144 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 16:15:42.159 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:15:42.175 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 16:15:42.192 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 16:15:42.195 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:15:42.198 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 74.0539ms
2023-08-19 16:15:42.204 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:15:42.207 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ3MzQyLCJleHAiOjE2OTI0NDczNTcsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.uzxRHnb79b4OHQFS0oY2LA9X44ZmXeVYGHvGml1kvTA","expiration":"2023-08-19T12:15:57.1545333Z","refreshToken":"ZPj2tAellW2Q+M1SUO+/EQJmU4hLcRJWy9doYObYOyo="}}
2023-08-19 16:15:42.210 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 101.3334ms
2023-08-19 16:15:44.065 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - -
2023-08-19 16:15:44.068 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:15:44.072 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:15:44.077 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 16:15:44.083 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 16:15:44.091 +04:00 [INF] Get all products
2023-08-19 16:15:44.094 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:15:44.108 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 16:15:44.122 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 16:15:44.131 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 16:15:44.135 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:15:44.137 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 48.4126ms
2023-08-19 16:15:44.141 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 16:15:44.143 +04:00 [INF] ResponseBody: {"totalProductCount":0,"products":[]}
2023-08-19 16:15:44.146 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 80.5582ms
2023-08-19 16:15:57.281 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - -
2023-08-19 16:15:57.300 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:15:57.305 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:15:57.306 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 16:15:57.311 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 16:15:57.322 +04:00 [INF] Get all products
2023-08-19 16:15:57.328 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:15:57.338 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 16:15:57.349 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 16:15:57.358 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 16:15:57.362 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:15:57.365 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 51.1434ms
2023-08-19 16:15:57.368 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 16:15:57.370 +04:00 [INF] ResponseBody: {"totalProductCount":0,"products":[]}
2023-08-19 16:15:57.373 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 91.5782ms
2023-08-19 16:15:59.109 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - -
2023-08-19 16:15:59.111 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/orders
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:15:59.113 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:15:59.115 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 16:15:59.119 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 16:15:59.123 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 16:15:59.132 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - - - 401 0 - 23.7896ms
2023-08-19 16:15:59.179 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 16:15:59.181 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:15:59.183 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:15:59.188 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:15:59.190 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 11.5678ms
2023-08-19 16:15:59.196 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 16:15:59.244 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:15:59.246 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:15:59.248 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:15:59.251 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:15:59.259 +04:00 [INF] RequestBody: {"refreshToken":"ZPj2tAellW2Q+M1SUO+/EQJmU4hLcRJWy9doYObYOyo="}
2023-08-19 16:15:59.262 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:15:59.276 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 16:15:59.295 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:15:59.310 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 16:15:59.324 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 16:15:59.327 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:15:59.328 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 69.2852ms
2023-08-19 16:15:59.331 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:15:59.333 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ3MzU5LCJleHAiOjE2OTI0NDczNzQsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.UMATogdPRphd2Y1sI5NSysKlC8b8XyotgL89Xq4aPJs","expiration":"2023-08-19T12:16:14.2840363Z","refreshToken":"SqQD1l8WX+rEwCzRe3BLWvTA4Eg0HFUUsYVnFJF6dXI="}}
2023-08-19 16:15:59.337 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 141.5934ms
2023-08-19 16:16:03.648 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/ApplicationServices - -
2023-08-19 16:16:03.656 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/ApplicationServices
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:16:03.658 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:16:03.661 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 16:16:03.664 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 16:16:03.668 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 16:16:03.670 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/ApplicationServices - - - 401 0 - 21.8365ms
2023-08-19 16:16:03.681 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 16:16:03.687 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:16:03.690 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:16:03.692 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:16:03.695 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:16:03.702 +04:00 [INF] RequestBody: {"refreshToken":"SqQD1l8WX+rEwCzRe3BLWvTA4Eg0HFUUsYVnFJF6dXI="}
2023-08-19 16:16:03.705 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:16:03.714 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 16:16:03.728 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:16:03.739 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 16:16:03.752 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 16:16:03.754 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:16:03.756 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 54.0122ms
2023-08-19 16:16:03.758 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:16:03.761 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ3MzYzLCJleHAiOjE2OTI0NDczNzgsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.50y9G5I8fQJMAN-3Fcb0HvlUGo3EnYRjvn4Y1qLC4aQ","expiration":"2023-08-19T12:16:18.7231888Z","refreshToken":"HjSjIceegQag39SW/0uhMFj4yjbToHe+7G4WwYp1kWE="}}
2023-08-19 16:16:03.764 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 82.8655ms
2023-08-19 16:16:07.046 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/roles?page=0&size=5 - -
2023-08-19 16:16:07.186 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/roles
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:16:07.189 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:16:07.199 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 16:16:07.205 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 16:16:07.237 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 16:16:07.241 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/roles?page=0&size=5 - - - 401 0 - 194.2248ms
2023-08-19 16:16:07.327 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 16:16:07.469 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:16:07.472 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:16:07.474 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:16:07.483 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 156.5665ms
2023-08-19 16:16:07.498 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 16:16:07.503 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:16:07.506 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:16:07.512 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:16:07.518 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:16:07.522 +04:00 [INF] RequestBody: {"refreshToken":"HjSjIceegQag39SW/0uhMFj4yjbToHe+7G4WwYp1kWE="}
2023-08-19 16:16:07.533 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:16:07.550 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 16:16:07.567 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:16:07.586 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 16:16:07.604 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 16:16:07.611 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:16:07.613 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 91.571ms
2023-08-19 16:16:07.617 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:16:07.619 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ3MzY3LCJleHAiOjE2OTI0NDczODIsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.CmXN7NUigijQLNi4a2MpoBKqEG6biVjP21s0XrSeLdQ","expiration":"2023-08-19T12:16:22.5558957Z","refreshToken":"WuTDvFEflMEBq5YpSpPLZeu+bXIiCx8AzHV0kMB1MyM="}}
2023-08-19 16:16:07.621 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 123.8989ms
2023-08-19 16:16:09.750 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/users?page=0&size=5 - -
2023-08-19 16:16:09.759 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/users
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:16:09.767 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:16:09.778 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 16:16:09.782 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 16:16:09.783 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 16:16:09.786 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/users?page=0&size=5 - - - 401 0 - 36.6438ms
2023-08-19 16:16:09.803 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 16:16:09.809 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:16:09.827 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:16:09.834 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:16:09.906 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:16:09.911 +04:00 [INF] RequestBody: {"refreshToken":"WuTDvFEflMEBq5YpSpPLZeu+bXIiCx8AzHV0kMB1MyM="}
2023-08-19 16:16:09.915 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:16:09.928 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 16:16:09.945 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:16:09.965 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 16:16:09.982 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 16:16:09.985 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:16:09.986 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 75.3452ms
2023-08-19 16:16:09.993 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:16:09.996 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ3MzY5LCJleHAiOjE2OTI0NDczODQsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.wAobZpsL_jB9gy2GpGasDgPelY5nuk2Fb2SKKZvloWg","expiration":"2023-08-19T12:16:24.9411268Z","refreshToken":"Z3eczunjK85mje01YVMG0eD5D54SOkHXgbph5q7rj58="}}
2023-08-19 16:16:09.998 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 195.1389ms
2023-08-19 16:16:11.725 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/roles?page=0&size=5 - -
2023-08-19 16:16:11.729 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/roles
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:16:11.733 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:16:11.740 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 16:16:11.758 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 16:16:11.767 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 16:16:11.783 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/roles?page=0&size=5 - - - 401 0 - 59.0385ms
2023-08-19 16:16:11.852 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 16:16:11.858 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:16:11.861 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:16:11.873 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:16:11.877 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:16:11.883 +04:00 [INF] RequestBody: {"refreshToken":"Z3eczunjK85mje01YVMG0eD5D54SOkHXgbph5q7rj58="}
2023-08-19 16:16:11.891 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:16:11.901 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 16:16:11.928 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:16:11.947 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 16:16:11.969 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 16:16:11.973 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:16:11.976 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 93.8502ms
2023-08-19 16:16:11.980 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:16:11.983 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ3MzcxLCJleHAiOjE2OTI0NDczODYsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.81k_l8mYfdcWUstWziWmv5xxkLCm3nwjjfWB2paUUvk","expiration":"2023-08-19T12:16:26.9133255Z","refreshToken":"rqDo1xWH1ixh4WH1tmrpx1OAJqvlseArm3+vp62GYPw="}}
2023-08-19 16:16:11.986 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 136.1072ms
2023-08-19 16:16:18.531 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - -
2023-08-19 16:16:18.534 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:16:18.540 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:16:18.548 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 16:16:18.553 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 16:16:18.558 +04:00 [INF] Get all products
2023-08-19 16:16:18.562 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:16:18.573 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 16:16:18.588 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 16:16:18.600 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 16:16:18.605 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:16:18.610 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 52.0545ms
2023-08-19 16:16:18.614 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 16:16:18.616 +04:00 [INF] ResponseBody: {"totalProductCount":0,"products":[]}
2023-08-19 16:16:18.621 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 91.2603ms
2023-08-19 16:16:23.674 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - -
2023-08-19 16:16:23.677 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:16:23.682 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:16:23.683 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 16:16:23.688 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 16:16:23.693 +04:00 [INF] Get all products
2023-08-19 16:16:23.703 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:16:23.711 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 16:16:23.723 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 16:16:23.728 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 16:16:23.730 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:16:23.732 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 40.5492ms
2023-08-19 16:16:23.734 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 16:16:23.736 +04:00 [INF] ResponseBody: {"totalProductCount":0,"products":[]}
2023-08-19 16:16:23.737 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 64.2569ms
2023-08-19 16:16:25.201 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/users?page=0&size=5 - -
2023-08-19 16:16:25.204 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/users
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:16:25.206 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:16:25.208 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 16:16:25.209 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 16:16:25.212 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 16:16:25.215 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/users?page=0&size=5 - - - 401 0 - 13.3178ms
2023-08-19 16:16:25.239 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 16:16:25.241 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:16:25.243 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:16:25.245 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:16:25.248 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 9.1968ms
2023-08-19 16:16:25.253 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 16:16:25.255 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:16:25.257 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:16:25.259 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:16:25.262 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:16:25.269 +04:00 [INF] RequestBody: {"refreshToken":"rqDo1xWH1ixh4WH1tmrpx1OAJqvlseArm3+vp62GYPw="}
2023-08-19 16:16:25.272 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:16:25.287 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 16:16:25.302 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:16:25.317 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 16:16:25.331 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 16:16:25.339 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:16:25.341 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 72.0445ms
2023-08-19 16:16:25.344 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:16:25.347 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ3Mzg1LCJleHAiOjE2OTI0NDc0MDAsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.ZGy7An21dTFyz6JIN0Ys7gHlCTBnsjh-W6fhNUIrsXY","expiration":"2023-08-19T12:16:40.2931423Z","refreshToken":"rC/d9+3XRqePBge/ynfN5GjOefTinTSOBX8lG0m3KHE="}}
2023-08-19 16:16:25.351 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 97.7297ms
2023-08-19 16:16:26.191 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/roles?page=0&size=5 - -
2023-08-19 16:16:26.193 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/roles
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:16:26.196 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:16:26.198 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 16:16:26.200 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 16:16:26.201 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 16:16:26.203 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/roles?page=0&size=5 - - - 401 0 - 11.9656ms
2023-08-19 16:16:26.225 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 16:16:26.231 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:16:26.234 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:16:26.236 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:16:26.240 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:16:26.252 +04:00 [INF] RequestBody: {"refreshToken":"rC/d9+3XRqePBge/ynfN5GjOefTinTSOBX8lG0m3KHE="}
2023-08-19 16:16:26.255 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:16:26.263 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 16:16:26.277 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:16:26.286 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 16:16:26.297 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 16:16:26.300 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:16:26.301 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 50.0226ms
2023-08-19 16:16:26.304 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:16:26.307 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ3Mzg2LCJleHAiOjE2OTI0NDc0MDEsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.NCw4lnbpV-3k-Hu2bbjHNYmgxpJ5pEz2OdLWdTsQ2JY","expiration":"2023-08-19T12:16:41.2718483Z","refreshToken":"ghdmhK0nrSwdrpd5wlQo6+bRcj6JjdCgYD4LNJ8Qr+w="}}
2023-08-19 16:16:26.308 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 83.0009ms
2023-08-19 16:17:58.686 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/Auth/Login application/json 61
2023-08-19 16:17:58.723 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/Auth/Login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Cookie: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 61
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:17:58.734 +04:00 [INF] CORS policy execution failed.
2023-08-19 16:17:58.746 +04:00 [INF] Request origin https://localhost:7131 does not have permission to access the resource.
2023-08-19 16:17:58.774 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 16:17:58.884 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:17:58.901 +04:00 [INF] RequestBody: {
  "usernameOrEmail": "Ken",
  "password": "KenKen920920!"
}
2023-08-19 16:17:58.963 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:17:59.295 +04:00 [INF] Executed DbCommand (42ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:17:59.337 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:17:59.369 +04:00 [INF] Executed DbCommand (20ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 16:17:59.386 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2023-08-19 16:17:59.395 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:17:59.398 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 509.7332ms
2023-08-19 16:17:59.403 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 16:17:59.408 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ3NDc5LCJleHAiOjE2OTI0NDgzNzksImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.E2etDlNEnwwIh9NZuvj79oMjbHlNeTZ2gJwAK1cde_s","expiration":"2023-08-19T12:32:59.3283041Z","refreshToken":"AX1T7PkdVUek+hoMVsv1s3Cuyy3zZGImbCkw5bWFF2M="}}
2023-08-19 16:17:59.412 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/Auth/Login application/json 61 - 200 - application/json;+charset=utf-8 734.3431ms
2023-08-19 16:18:34.041 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/users?page=0&size=5 - -
2023-08-19 16:18:34.056 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/users
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:18:34.061 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:18:34.068 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 16:18:34.072 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 16:18:34.076 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 16:18:34.079 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/users?page=0&size=5 - - - 401 0 - 38.8360ms
2023-08-19 16:18:34.113 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 16:18:34.127 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:18:34.130 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:18:34.133 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:18:34.136 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 22.4853ms
2023-08-19 16:18:34.139 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 16:18:34.142 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:18:34.148 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:18:34.150 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:18:34.159 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:18:34.167 +04:00 [INF] RequestBody: {"refreshToken":"ghdmhK0nrSwdrpd5wlQo6+bRcj6JjdCgYD4LNJ8Qr+w="}
2023-08-19 16:18:34.174 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:18:34.354 +04:00 [INF] Executed DbCommand (138ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 16:18:35.143 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 976.6723ms
2023-08-19 16:18:35.150 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:18:35.610 +04:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal.
   at ETicaretAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 144
   at ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\RefreshTokenLogin\RefreshTokenLoginCommandHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-19 16:18:35.785 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 500 - text/plain;+charset=utf-8 1645.8797ms
2023-08-19 16:20:06.110 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/login - -
2023-08-19 16:20:06.137 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:20:06.142 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:20:06.150 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:20:06.155 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/login - - - 204 - - 49.8845ms
2023-08-19 16:20:06.168 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/login application/json 52
2023-08-19 16:20:06.314 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 52
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:20:06.317 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:20:06.328 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 16:20:06.369 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:20:06.385 +04:00 [INF] RequestBody: {"userNameOrEmail":"Ken","password":"KenKen920920!"}
2023-08-19 16:20:06.426 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:20:06.511 +04:00 [INF] Executed DbCommand (58ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:20:06.564 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:20:06.592 +04:00 [INF] Executed DbCommand (15ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 16:20:06.613 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2023-08-19 16:20:06.621 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:20:06.624 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 249.0403ms
2023-08-19 16:20:06.630 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 16:20:06.634 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ3NjA2LCJleHAiOjE2OTI0NDg1MDYsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.Px8NGxyoqp5UeYUyxmMCkXrhjE_lT1Evt3NXhSdwrA0","expiration":"2023-08-19T12:35:06.5510007Z","refreshToken":"gwMtynw+Kv4hl7e2ncgsIxqAdjxNkKTQ1hG0ZIrz9EE="}}
2023-08-19 16:20:06.638 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/login application/json 52 - 200 - application/json;+charset=utf-8 469.9162ms
2023-08-19 16:20:17.853 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - -
2023-08-19 16:20:17.863 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/orders
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:20:17.866 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:20:17.870 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 16:20:17.874 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 16:20:17.877 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 16:20:17.881 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - - - 401 0 - 28.0487ms
2023-08-19 16:20:17.945 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 16:20:17.947 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:20:17.949 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:20:17.951 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:20:17.953 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 8.0042ms
2023-08-19 16:20:17.956 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 16:20:17.961 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:20:17.964 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:20:17.966 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:20:17.969 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:20:17.974 +04:00 [INF] RequestBody: {"refreshToken":"gwMtynw+Kv4hl7e2ncgsIxqAdjxNkKTQ1hG0ZIrz9EE="}
2023-08-19 16:20:17.981 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:20:18.002 +04:00 [INF] Executed DbCommand (15ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 16:20:18.013 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:20:18.026 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 16:20:18.040 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 16:20:18.045 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:20:18.047 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 72.6522ms
2023-08-19 16:20:18.050 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:20:18.054 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ3NjE4LCJleHAiOjE2OTI0NDc2MzMsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.UcMZQqEvaccniZoehLHJXy8L8S-Tb_ZLo7f35hH8e40","expiration":"2023-08-19T12:20:33.0083355Z","refreshToken":"k7goM0cd5a7y+IvBnTBmWHcQrDB0q52qEH/cyjmVtro="}}
2023-08-19 16:20:18.060 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 103.3257ms
2023-08-19 16:21:06.263 +04:00 [INF] User profile is available. Using 'C:\Users\K\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-19 16:21:06.754 +04:00 [INF] Now listening on: https://localhost:7131
2023-08-19 16:21:06.755 +04:00 [INF] Now listening on: http://localhost:5131
2023-08-19 16:21:06.760 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-19 16:21:06.761 +04:00 [INF] Hosting environment: Development
2023-08-19 16:21:06.762 +04:00 [INF] Content root path: C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\
2023-08-19 16:21:34.742 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/login - -
2023-08-19 16:21:34.920 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:21:34.931 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:21:34.936 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:21:34.956 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/login - - - 204 - - 224.3025ms
2023-08-19 16:21:34.960 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/login application/json 52
2023-08-19 16:21:34.993 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 52
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:21:34.997 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:21:35.045 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 16:21:35.627 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:21:35.691 +04:00 [INF] RequestBody: {"userNameOrEmail":"Ken","password":"KenKen920920!"}
2023-08-19 16:21:38.769 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:21:40.045 +04:00 [INF] Executed DbCommand (45ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:21:40.916 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:21:41.307 +04:00 [INF] Executed DbCommand (48ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 16:21:41.452 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2023-08-19 16:21:41.478 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:21:41.504 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 5858.829ms
2023-08-19 16:21:41.512 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 16:21:41.523 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ3NzAwLCJleHAiOjE2OTI0NDg2MDAsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.oO-Qh85YjpVID1SI26YZ5EPDlKKzv4FAFiZMBElR04U","expiration":"2023-08-19T12:36:40.5463869Z","refreshToken":"tCqMoG99iTTI5ho6OcvxMAlZVtcUNG3ZeMfOE4NhoBc="}}
2023-08-19 16:21:41.568 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/login application/json 52 - 200 - application/json;+charset=utf-8 6607.9686ms
2023-08-19 16:21:41.616 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - -
2023-08-19 16:21:41.639 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/orders
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:21:41.643 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:21:41.736 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 16:21:41.768 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 16:21:41.770 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 16:21:41.773 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - - - 401 0 - 157.2329ms
2023-08-19 16:21:41.830 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 16:21:41.880 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:21:41.895 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:21:42.068 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:21:42.070 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 240.2632ms
2023-08-19 16:21:42.149 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 16:21:42.163 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:21:42.168 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:21:42.178 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:21:42.239 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:21:42.298 +04:00 [INF] RequestBody: {"refreshToken":"tCqMoG99iTTI5ho6OcvxMAlZVtcUNG3ZeMfOE4NhoBc="}
2023-08-19 16:21:42.482 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:21:42.588 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 16:21:42.594 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:21:42.604 +04:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 16:21:42.611 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 16:21:42.613 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:21:42.615 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 325.3844ms
2023-08-19 16:21:42.617 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:21:42.618 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ3NzAyLCJleHAiOjE2OTI0NDc3MTcsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ._LbVHd9WDNjTTCfC1JLMisGCkIsY6RG0B1J2OqAF_Vc","expiration":"2023-08-19T12:21:57.5916995Z","refreshToken":"iPZpdhSFdaD152ZL/YjRa53g6bszQnStVmV6NMPaX9o="}}
2023-08-19 16:21:42.619 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 470.4472ms
2023-08-19 16:21:49.266 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - -
2023-08-19 16:21:49.268 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:21:49.270 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:21:49.272 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 16:21:49.308 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 16:21:49.358 +04:00 [INF] Get all products
2023-08-19 16:21:49.386 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:21:49.509 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 16:21:49.634 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-08-19 16:21:49.637 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-08-19 16:21:50.073 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 16:21:50.081 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 16:21:50.103 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:21:50.107 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 793.7829ms
2023-08-19 16:21:50.111 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 16:21:50.113 +04:00 [INF] ResponseBody: {"totalProductCount":0,"products":[]}
2023-08-19 16:21:50.116 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 850.2995ms
2023-08-19 16:22:00.664 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/products - -
2023-08-19 16:22:00.667 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:22:00.670 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:22:00.673 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:22:00.676 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/products - - - 204 - - 11.6489ms
2023-08-19 16:22:00.679 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/products application/json 36
2023-08-19 16:22:00.681 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 36
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:22:00.684 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:22:00.690 +04:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-08-19 16:22:00.693 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 16:22:00.696 +04:00 [INF] RequestBody: 
2023-08-19 16:22:00.698 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 16:22:00.704 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/products application/json 36 - 401 0 - 24.2323ms
2023-08-19 16:22:00.713 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 16:22:00.716 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:22:00.720 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:22:00.723 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:22:00.727 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 13.0766ms
2023-08-19 16:22:00.732 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 16:22:00.736 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:22:00.739 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:22:00.743 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:22:00.748 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:22:00.754 +04:00 [INF] RequestBody: {"refreshToken":"iPZpdhSFdaD152ZL/YjRa53g6bszQnStVmV6NMPaX9o="}
2023-08-19 16:22:00.764 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:22:00.776 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 16:22:00.799 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:22:00.809 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 16:22:00.826 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2023-08-19 16:22:00.832 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:22:00.834 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 80.1251ms
2023-08-19 16:22:00.837 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:22:00.839 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ3NzIwLCJleHAiOjE2OTI0NDc3MzUsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.4A4aA8C7J832u-NlQUIRjgavI04tQG70oqZwyheML0s","expiration":"2023-08-19T12:22:15.7891753Z","refreshToken":"iXjADi3+09Klsncr4rEXuRt7IxYXuETXnRIstspa9l8="}}
2023-08-19 16:22:00.843 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 110.7812ms
2023-08-19 16:33:24.337 +04:00 [INF] User profile is available. Using 'C:\Users\K\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-19 16:33:25.156 +04:00 [INF] Now listening on: https://localhost:7131
2023-08-19 16:33:25.160 +04:00 [INF] Now listening on: http://localhost:5131
2023-08-19 16:33:25.169 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-19 16:33:25.176 +04:00 [INF] Hosting environment: Development
2023-08-19 16:33:25.179 +04:00 [INF] Content root path: C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\
2023-08-19 16:33:52.297 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/login - -
2023-08-19 16:33:52.501 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:33:52.509 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:33:52.514 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:33:52.536 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/login - - - 204 - - 250.5416ms
2023-08-19 16:33:52.540 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/login application/json 52
2023-08-19 16:33:52.569 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 52
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:33:52.572 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:33:52.609 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 16:33:53.177 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:33:53.236 +04:00 [INF] RequestBody: {"userNameOrEmail":"Ken","password":"KenKen920920!"}
2023-08-19 16:33:55.009 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:33:55.685 +04:00 [INF] Executed DbCommand (40ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:33:56.317 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 16:33:56.522 +04:00 [INF] Executed DbCommand (31ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 16:33:56.601 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2023-08-19 16:33:56.634 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:33:56.651 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 3461.3021ms
2023-08-19 16:33:56.656 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 16:33:56.661 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDQ4NDM2LCJleHAiOjE2OTI0NDkzMzYsImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.dl2osOvGeh0YUiLIywZQG_3xlLSR-vH_KoiwW8HkPyk","expiration":"2023-08-19T12:48:56.0384154Z","refreshToken":"cpzff2v9xR1Doz998cU3x4Ry/GZvmUXqNts14NMDvyo="}}
2023-08-19 16:33:56.688 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/login application/json 52 - 200 - application/json;+charset=utf-8 4147.3885ms
2023-08-19 16:34:03.187 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/roles?page=0&size=5 - -
2023-08-19 16:34:03.193 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/roles
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:34:03.197 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:34:03.201 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:34:03.204 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/roles?page=0&size=5 - - - 204 - - 17.1230ms
2023-08-19 16:34:03.210 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/roles?page=0&size=5 - -
2023-08-19 16:34:03.233 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/roles
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:34:03.237 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:34:03.599 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.RolesController.GetRoles (ETicaretAPI.API)'
2023-08-19 16:34:03.689 +04:00 [INF] Route matched with {action = "GetRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles(ETicaretAPI.Application.Features.Queries.Role.GetRoles.GetRolesQueryRequest) on controller ETicaretAPI.API.Controllers.RolesController (ETicaretAPI.API).
2023-08-19 16:34:03.825 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:34:03.892 +04:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "AspNetRoles" AS a
2023-08-19 16:34:03.903 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Role.GetRoles.GetRolesQueryResponse'.
2023-08-19 16:34:03.936 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-08-19 16:34:03.939 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-08-19 16:34:03.963 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Name"
FROM "AspNetRoles" AS a
LIMIT @__p_1 OFFSET @__p_0
2023-08-19 16:34:03.977 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:34:03.993 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.RolesController.GetRoles (ETicaretAPI.API) in 297.4271ms
2023-08-19 16:34:03.996 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.RolesController.GetRoles (ETicaretAPI.API)'
2023-08-19 16:34:04.002 +04:00 [INF] ResponseBody: {"datas":[{"id":"1","name":"Admin"}],"totalCount":1}
2023-08-19 16:34:04.004 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/roles?page=0&size=5 - - - 200 - application/json;+charset=utf-8 794.8165ms
2023-08-19 16:34:08.871 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/ApplicationServices - -
2023-08-19 16:34:08.874 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/ApplicationServices
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:34:08.879 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:34:08.881 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:34:08.884 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/ApplicationServices - - - 204 - - 13.2645ms
2023-08-19 16:34:08.896 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/ApplicationServices - -
2023-08-19 16:34:08.899 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/ApplicationServices
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:34:08.902 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:34:08.909 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndpoints (ETicaretAPI.API)'
2023-08-19 16:34:08.941 +04:00 [INF] Route matched with {action = "GetAuthorizeDefinitionEndpoints", controller = "ApplicationServices"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAuthorizeDefinitionEndpoints() on controller ETicaretAPI.API.Controllers.ApplicationServicesController (ETicaretAPI.API).
2023-08-19 16:34:08.962 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.DTOs.Configuration.Menu, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-19 16:34:08.968 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:34:08.971 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndpoints (ETicaretAPI.API) in 20.6095ms
2023-08-19 16:34:08.973 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndpoints (ETicaretAPI.API)'
2023-08-19 16:34:08.976 +04:00 [INF] ResponseBody: [{"name":"Application Services","actions":[{"actionType":"Reading","httpType":"GET","definition":"Get Authorize Definition Endpoints","code":"GET.Reading.GetAuthorizeDefinitionEndpoints"}]},{"name":"Baskets","actions":[{"actionType":"Reading","httpType":"GET","definition":"Get Basket Items","code":"GET.Reading.GetBasketItems"},{"actionType":"Writing","httpType":"POST","definition":"Add Item To Basket","code":"POST.Writing.AddItemToBasket"},{"actionType":"Updating","httpType":"PUT","definition":"Update Quantity","code":"PUT.Updating.UpdateQuantity"},{"actionType":"Deleting","httpType":"DELETE","definition":"Remove Basket Item","code":"DELETE.Deleting.RemoveBasketItem"}]},{"name":"Orders","actions":[{"actionType":"Reading","httpType":"GET","definition":"Get Order By Id","code":"GET.Reading.GetOrderById"},{"actionType":"Reading","httpType":"GET","definition":"Get All Orders","code":"GET.Reading.GetAllOrders"},{"actionType":"Writing","httpType":"POST","definition":"Create Order","code":"POST.Writing.CreateOrder"},{"actionType":"Updating","httpType":"GET","definition":"Complete Order","code":"GET.Updating.CompleteOrder"}]},{"name":"Products","actions":[{"actionType":"Writing","httpType":"POST","definition":"Create Product","code":"POST.Writing.CreateProduct"},{"actionType":"Updating","httpType":"PUT","definition":"Update Product","code":"PUT.Updating.UpdateProduct"},{"actionType":"Deleting","httpType":"DELETE","definition":"Delete Product","code":"DELETE.Deleting.DeleteProduct"},{"actionType":"Writing","httpType":"POST","definition":"Upload Product File","code":"POST.Writing.UploadProductFile"},{"actionType":"Reading","httpType":"GET","definition":"Get Products Images","code":"GET.Reading.GetProductsImages"},{"actionType":"Deleting","httpType":"DELETE","definition":"Delete Product Image","code":"DELETE.Deleting.DeleteProductImage"},{"actionType":"Updating","httpType":"GET","definition":"Change Showcase Image","code":"GET.Updating.ChangeShowcaseImage"}]},{"name":"Roles","actions":[{"actionType":"Reading","httpType":"GET","definition":"Get Roles","code":"GET.Reading.GetRoles"},{"actionType":"Reading","httpType":"GET","definition":"Get Role By Id","code":"GET.Reading.GetRoleById"},{"actionType":"Writing","httpType":"POST","definition":"Create Role","code":"POST.Writing.CreateRole"},{"actionType":"Updating","httpType":"PUT","definition":"Update Role","code":"PUT.Updating.UpdateRole"},{"actionType":"Deleting","httpType":"DELETE","definition":"Delete Role","code":"DELETE.Deleting.DeleteRole"}]},{"name":"Users","actions":[{"actionType":"Reading","httpType":"GET","definition":"Get All Users","code":"GET.Reading.GetAllUsers"},{"actionType":"Reading","httpType":"GET","definition":"Get Roles To Users","code":"GET.Reading.GetRolesToUsers"},{"actionType":"Reading","httpType":"POST","definition":"Assign Role To User","code":"POST.Reading.AssignRoleToUser"}]}]
2023-08-19 16:34:08.980 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/ApplicationServices - - - 200 - application/json;+charset=utf-8 83.4680ms
2023-08-19 16:34:39.868 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/users?page=0&size=5 - -
2023-08-19 16:34:39.871 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/users
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:34:39.875 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:34:39.879 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:34:39.881 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/users?page=0&size=5 - - - 204 - - 14.3584ms
2023-08-19 16:34:39.885 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/users?page=0&size=5 - -
2023-08-19 16:34:39.888 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/users
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:34:39.892 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:34:39.898 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.UsersController.GetAllUsers (ETicaretAPI.API)'
2023-08-19 16:34:39.916 +04:00 [INF] Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers(ETicaretAPI.Application.Features.Queries.AppUser.GetAllUsers.GetAllUsersQueryRequest) on controller ETicaretAPI.API.Controllers.UsersController (ETicaretAPI.API).
2023-08-19 16:34:39.981 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:34:40.004 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-08-19 16:34:40.007 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-08-19 16:34:40.021 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
LIMIT @__p_1 OFFSET @__p_0
2023-08-19 16:34:40.052 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "AspNetUsers" AS a
2023-08-19 16:34:40.063 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.AppUser.GetAllUsers.GetAllUsersQueryResponse'.
2023-08-19 16:34:40.078 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:34:40.083 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.UsersController.GetAllUsers (ETicaretAPI.API) in 157.9625ms
2023-08-19 16:34:40.088 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.UsersController.GetAllUsers (ETicaretAPI.API)'
2023-08-19 16:34:40.091 +04:00 [INF] ResponseBody: {"users":[{"id":"54bec958-36e3-4c62-9e52-2f5451a93828","email":"kenan@mail.ru","nameSurname":"Kanan Bayram","userName":"Ken","twoFactorEnabled":false}],"totalUsersCount":1}
2023-08-19 16:34:40.095 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/users?page=0&size=5 - - - 200 - application/json;+charset=utf-8 209.3811ms
2023-08-19 16:34:46.222 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/products?page=0&size=5 - -
2023-08-19 16:34:46.225 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:34:46.228 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:34:46.231 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:34:46.235 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/products?page=0&size=5 - - - 204 - - 12.7149ms
2023-08-19 16:34:46.240 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - -
2023-08-19 16:34:46.242 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:34:46.246 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:34:46.251 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 16:34:46.262 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 16:34:46.289 +04:00 [INF] Get all products
2023-08-19 16:34:46.295 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:34:46.348 +04:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 16:34:46.436 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-08-19 16:34:46.440 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-08-19 16:34:46.894 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 16:34:46.903 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 16:34:46.918 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:34:46.920 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 649.5356ms
2023-08-19 16:34:46.923 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 16:34:46.926 +04:00 [INF] ResponseBody: {"totalProductCount":0,"products":[]}
2023-08-19 16:34:46.930 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 689.6752ms
2023-08-19 16:34:59.182 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/products - -
2023-08-19 16:34:59.185 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:34:59.190 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:34:59.193 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:34:59.194 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/products - - - 204 - - 13.1445ms
2023-08-19 16:34:59.196 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/products application/json 38
2023-08-19 16:34:59.199 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 38
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:34:59.202 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:34:59.203 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Post (ETicaretAPI.API)'
2023-08-19 16:34:59.209 +04:00 [INF] Route matched with {action = "Post", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ETicaretAPI.Application.Features.Commands.Product.CreateProduct.CreateProductCommandRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 16:34:59.216 +04:00 [INF] RequestBody: {"name":"Knnn","stock":120,"price":23}
2023-08-19 16:34:59.237 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:34:59.508 +04:00 [INF] Executed DbCommand (29ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Single), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "CreatedDate", "Name", "Price", "Stock", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-19 16:34:59.536 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 201
2023-08-19 16:34:59.539 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Post (ETicaretAPI.API) in 324.9916ms
2023-08-19 16:34:59.543 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Post (ETicaretAPI.API)'
2023-08-19 16:34:59.547 +04:00 [INF] Response:
StatusCode: 201
2023-08-19 16:34:59.550 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/products application/json 38 - 201 0 - 353.8546ms
2023-08-19 16:34:59.557 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/products?page=0&size=5 - -
2023-08-19 16:34:59.561 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:34:59.564 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:34:59.567 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:34:59.569 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/products?page=0&size=5 - - - 204 - - 11.6726ms
2023-08-19 16:34:59.571 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - -
2023-08-19 16:34:59.572 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:34:59.573 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:34:59.574 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 16:34:59.577 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 16:34:59.584 +04:00 [INF] Get all products
2023-08-19 16:34:59.587 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:34:59.595 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 16:34:59.606 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 16:34:59.640 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 16:34:59.656 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:34:59.661 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 80.814ms
2023-08-19 16:34:59.668 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 16:34:59.672 +04:00 [INF] ResponseBody: {"totalProductCount":1,"products":[{"id":"f89576b0-e05f-48e1-bb5f-cd1cee989e00","name":"Knnn","stock":120,"price":23,"createdDate":"2023-08-19T12:34:59.453423Z","updatedDate":"0001-01-01T00:00:00","productImageFiles":[]}]}
2023-08-19 16:34:59.677 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 105.7304ms
2023-08-19 16:35:12.742 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/products?page=0&size=5 - -
2023-08-19 16:35:12.753 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:35:12.757 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:35:12.759 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:35:12.761 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/products?page=0&size=5 - - - 204 - - 18.6645ms
2023-08-19 16:35:12.764 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - -
2023-08-19 16:35:12.765 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:35:12.767 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:35:12.768 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 16:35:12.772 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 16:35:12.776 +04:00 [INF] Get all products
2023-08-19 16:35:12.778 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:35:12.785 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 16:35:12.793 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 16:35:12.797 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 16:35:12.799 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:35:12.800 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 25.497ms
2023-08-19 16:35:12.802 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 16:35:12.803 +04:00 [INF] ResponseBody: {"totalProductCount":1,"products":[{"id":"f89576b0-e05f-48e1-bb5f-cd1cee989e00","name":"Knnn","stock":120,"price":23,"createdDate":"2023-08-19T12:34:59.453423Z","updatedDate":"0001-01-01T00:00:00","productImageFiles":[]}]}
2023-08-19 16:35:12.806 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 43.0159ms
2023-08-19 16:38:01.066 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/products - -
2023-08-19 16:38:01.092 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:38:01.095 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:38:01.097 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:38:01.100 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/products - - - 204 - - 35.1968ms
2023-08-19 16:38:01.106 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/products application/json 39
2023-08-19 16:38:01.111 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 39
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:38:01.115 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:38:01.117 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Post (ETicaretAPI.API)'
2023-08-19 16:38:01.124 +04:00 [INF] Route matched with {action = "Post", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ETicaretAPI.Application.Features.Commands.Product.CreateProduct.CreateProductCommandRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 16:38:01.131 +04:00 [INF] RequestBody: {"name":"Mutalib","stock":1,"price":99}
2023-08-19 16:38:01.134 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:38:01.165 +04:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Single), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "CreatedDate", "Name", "Price", "Stock", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-19 16:38:01.186 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 201
2023-08-19 16:38:01.188 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Post (ETicaretAPI.API) in 57.5795ms
2023-08-19 16:38:01.194 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Post (ETicaretAPI.API)'
2023-08-19 16:38:01.198 +04:00 [INF] Response:
StatusCode: 201
2023-08-19 16:38:01.203 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/products application/json 39 - 201 0 - 96.4321ms
2023-08-19 16:38:01.217 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/products?page=0&size=5 - -
2023-08-19 16:38:01.222 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:38:01.228 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:38:01.232 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:38:01.237 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/products?page=0&size=5 - - - 204 - - 19.9725ms
2023-08-19 16:38:01.242 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - -
2023-08-19 16:38:01.245 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:38:01.249 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:38:01.253 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 16:38:01.259 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 16:38:01.269 +04:00 [INF] Get all products
2023-08-19 16:38:01.274 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:38:01.287 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 16:38:01.306 +04:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 16:38:01.317 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 16:38:01.322 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:38:01.325 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 58.2892ms
2023-08-19 16:38:01.331 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 16:38:01.338 +04:00 [INF] ResponseBody: {"totalProductCount":2,"products":[{"id":"c51783d7-a3f8-43ea-b5f0-ff0ac916ed70","name":"Mutalib","stock":1,"price":99,"createdDate":"2023-08-19T12:38:01.143432Z","updatedDate":"0001-01-01T00:00:00","productImageFiles":[]},{"id":"f89576b0-e05f-48e1-bb5f-cd1cee989e00","name":"Knnn","stock":120,"price":23,"createdDate":"2023-08-19T12:34:59.453423Z","updatedDate":"0001-01-01T00:00:00","productImageFiles":[]}]}
2023-08-19 16:38:01.343 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 101.1696ms
2023-08-19 16:38:22.479 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/products - -
2023-08-19 16:38:22.490 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:38:22.494 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:38:22.497 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:38:22.498 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/products - - - 204 - - 19.0213ms
2023-08-19 16:38:22.500 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/products application/json 38
2023-08-19 16:38:22.502 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 38
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:38:22.506 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:38:22.509 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Post (ETicaretAPI.API)'
2023-08-19 16:38:22.512 +04:00 [INF] Route matched with {action = "Post", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(ETicaretAPI.Application.Features.Commands.Product.CreateProduct.CreateProductCommandRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 16:38:22.514 +04:00 [INF] RequestBody: {"name":"Nihad","stock":1,"price":0.1}
2023-08-19 16:38:22.521 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:38:22.530 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Single), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "CreatedDate", "Name", "Price", "Stock", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-19 16:38:22.548 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 201
2023-08-19 16:38:22.551 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Post (ETicaretAPI.API) in 36.6558ms
2023-08-19 16:38:22.558 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Post (ETicaretAPI.API)'
2023-08-19 16:38:22.561 +04:00 [INF] Response:
StatusCode: 201
2023-08-19 16:38:22.562 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/products application/json 38 - 201 0 - 62.2768ms
2023-08-19 16:38:22.569 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/products?page=0&size=5 - -
2023-08-19 16:38:22.573 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:38:22.578 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:38:22.580 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:38:22.584 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/products?page=0&size=5 - - - 204 - - 16.2804ms
2023-08-19 16:38:22.591 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - -
2023-08-19 16:38:22.595 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:38:22.599 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:38:22.604 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 16:38:22.610 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 16:38:22.615 +04:00 [INF] Get all products
2023-08-19 16:38:22.619 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:38:22.630 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 16:38:22.646 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 16:38:22.658 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 16:38:22.664 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:38:22.668 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 53.5389ms
2023-08-19 16:38:22.673 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 16:38:22.678 +04:00 [INF] ResponseBody: {"totalProductCount":3,"products":[{"id":"c51783d7-a3f8-43ea-b5f0-ff0ac916ed70","name":"Mutalib","stock":1,"price":99,"createdDate":"2023-08-19T12:38:01.143432Z","updatedDate":"0001-01-01T00:00:00","productImageFiles":[]},{"id":"eaf3cf0f-02e6-4f51-8f78-89672524b20a","name":"Nihad","stock":1,"price":0.1,"createdDate":"2023-08-19T12:38:22.527034Z","updatedDate":"0001-01-01T00:00:00","productImageFiles":[]},{"id":"f89576b0-e05f-48e1-bb5f-cd1cee989e00","name":"Knnn","stock":120,"price":23,"createdDate":"2023-08-19T12:34:59.453423Z","updatedDate":"0001-01-01T00:00:00","productImageFiles":[]}]}
2023-08-19 16:38:22.685 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 94.1930ms
2023-08-19 16:38:27.791 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/products/getproductimages/c51783d7-a3f8-43ea-b5f0-ff0ac916ed70 - -
2023-08-19 16:38:27.795 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products/getproductimages/c51783d7-a3f8-43ea-b5f0-ff0ac916ed70
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:38:27.800 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:38:27.804 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:38:27.808 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/products/getproductimages/c51783d7-a3f8-43ea-b5f0-ff0ac916ed70 - - - 204 - - 17.1176ms
2023-08-19 16:38:27.812 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products/getproductimages/c51783d7-a3f8-43ea-b5f0-ff0ac916ed70 - -
2023-08-19 16:38:27.820 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products/getproductimages/c51783d7-a3f8-43ea-b5f0-ff0ac916ed70
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:38:27.826 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:38:27.829 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.GetProductImages (ETicaretAPI.API)'
2023-08-19 16:38:27.839 +04:00 [INF] Route matched with {action = "GetProductImages", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductImages(ETicaretAPI.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 16:38:27.849 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:38:27.964 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."Name", t."Price", t."Stock", t."UpdatedDate", t0."ProductImageFilesId", t0."ProductsId", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase"
FROM (
    SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
    FROM "Products" AS p
    WHERE p."Id" = @__Parse_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT p0."ProductImageFilesId", p0."ProductsId", t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 16:38:27.999 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.ProductImageFile.GetProductImages.GetProductImagesQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-19 16:38:28.008 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 16:38:28.015 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.GetProductImages (ETicaretAPI.API) in 170.213ms
2023-08-19 16:38:28.021 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.GetProductImages (ETicaretAPI.API)'
2023-08-19 16:38:28.029 +04:00 [INF] ResponseBody: []
2023-08-19 16:38:28.034 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products/getproductimages/c51783d7-a3f8-43ea-b5f0-ff0ac916ed70 - - - 200 - application/json;+charset=utf-8 221.9088ms
2023-08-19 16:38:40.583 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/products/upload?id=c51783d7-a3f8-43ea-b5f0-ff0ac916ed70 - -
2023-08-19 16:38:40.587 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products/upload
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:38:40.594 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:38:40.599 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:38:40.603 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/products/upload?id=c51783d7-a3f8-43ea-b5f0-ff0ac916ed70 - - - 204 - - 19.6491ms
2023-08-19 16:38:40.612 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/products/upload?id=c51783d7-a3f8-43ea-b5f0-ff0ac916ed70 multipart/form-data;+boundary=----WebKitFormBoundaryJTIQmhNWBIpEnPOY 654
2023-08-19 16:38:40.616 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/products/upload
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryJTIQmhNWBIpEnPOY
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 654
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
responsetype: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:38:40.620 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:38:40.625 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Upload (ETicaretAPI.API)'
2023-08-19 16:38:40.651 +04:00 [INF] Route matched with {action = "Upload", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Upload(ETicaretAPI.Application.Features.Commands.ProductImageFile.UploadProductImage.UploadProductImageCommandRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 16:38:40.799 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:38:40.819 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."CreatedDate", p."Name", p."Price", p."Stock", p."UpdatedDate"
FROM "Products" AS p
WHERE p."Id" = @__Parse_0
LIMIT 1
2023-08-19 16:38:40.998 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Files" ("Id", "CreatedDate", "Discriminator", "FileName", "Path", "Showcase", "Storage")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2023-08-19 16:38:41.013 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[@p7='?' (DbType = Guid), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ProductProductImageFile" ("ProductImageFilesId", "ProductsId")
VALUES (@p7, @p8);
2023-08-19 16:38:41.028 +04:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2023-08-19 16:38:41.031 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Upload (ETicaretAPI.API) in 369.5619ms
2023-08-19 16:38:41.036 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Upload (ETicaretAPI.API)'
2023-08-19 16:38:41.041 +04:00 [INF] Response:
StatusCode: 200
2023-08-19 16:38:41.046 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/products/upload?id=c51783d7-a3f8-43ea-b5f0-ff0ac916ed70 multipart/form-data;+boundary=----WebKitFormBoundaryJTIQmhNWBIpEnPOY 654 - 200 0 - 434.3189ms
2023-08-19 16:59:51.011 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/orders?page=0&size=5 - -
2023-08-19 16:59:51.097 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/orders
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:59:51.131 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:59:51.147 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:59:51.164 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/orders?page=0&size=5 - - - 204 - - 176.0445ms
2023-08-19 16:59:51.193 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - -
2023-08-19 16:59:51.214 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/orders
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:59:51.225 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:59:51.426 +04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-08-19 16:59:52.092 +04:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2023-08-19 16:59:52.137 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-08-19 16:59:52.325 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2023-08-19 16:59:52.336 +04:00 [INF] Response:
StatusCode: 401
WWW-Authenticate: [Redacted]
2023-08-19 16:59:52.344 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - - - 401 0 - 1151.5916ms
2023-08-19 16:59:52.380 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - -
2023-08-19 16:59:52.391 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:59:52.406 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:59:52.415 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 16:59:52.424 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/refreshtokenlogin - - - 204 - - 43.7406ms
2023-08-19 16:59:52.438 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63
2023-08-19 16:59:52.460 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/refreshtokenlogin
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 16:59:52.479 +04:00 [INF] CORS policy execution successful.
2023-08-19 16:59:52.496 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:59:52.717 +04:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 16:59:52.774 +04:00 [INF] RequestBody: {"refreshToken":"cpzff2v9xR1Doz998cU3x4Ry/GZvmUXqNts14NMDvyo="}
2023-08-19 16:59:52.959 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 16:59:53.904 +04:00 [INF] Executed DbCommand (116ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2023-08-19 16:59:55.987 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 3251.1203ms
2023-08-19 16:59:56.012 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2023-08-19 16:59:57.388 +04:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal.
   at ETicaretAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Infrastructure\ETicaretAPI.Persistence\Services\AuthService.cs:line 144
   at ETicaretAPI.Application.Features.Commands.AppUser.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Commands\AppUser\RefreshTokenLogin\RefreshTokenLoginCommandHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\AuthController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2023-08-19 16:59:58.057 +04:00 [ERR] Kullanc ad veya ifre hatal.
2023-08-19 16:59:58.112 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/refreshtokenlogin application/json 63 - 500 - application/json 5673.3635ms
2023-08-19 17:00:28.977 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/auth/login - -
2023-08-19 17:00:29.015 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:00:29.037 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:00:29.052 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 17:00:29.075 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/auth/login - - - 204 - - 97.4988ms
2023-08-19 17:00:29.178 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/auth/login application/json 52
2023-08-19 17:00:29.191 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/auth/login
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 52
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:00:29.203 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:00:29.211 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 17:00:29.238 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2023-08-19 17:00:29.272 +04:00 [INF] RequestBody: {"userNameOrEmail":"Ken","password":"KenKen920920!"}
2023-08-19 17:00:29.324 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 17:00:29.476 +04:00 [INF] Executed DbCommand (68ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 17:00:29.663 +04:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-08-19 17:00:29.759 +04:00 [INF] Executed DbCommand (50ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2023-08-19 17:00:29.808 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2023-08-19 17:00:29.828 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 17:00:29.840 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 569.0376ms
2023-08-19 17:00:29.857 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2023-08-19 17:00:29.884 +04:00 [INF] ResponseBody: {"token":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiS2VuIiwibmJmIjoxNjkyNDUwMDI5LCJleHAiOjE2OTI0NTA5MjksImlzcyI6Ind3dy5lc2hvcGFwaS5jb20iLCJhdWQiOiJ3d3cuZXNob3B1aS5jb20ifQ.fg5Ds5w6-VYFbRHUovIDNeHIu-azafMU7_QPk5XPQLA","expiration":"2023-08-19T13:15:29.625796Z","refreshToken":"7VwSSrv9c0fqv1lF1iF0+tlXdPwqHp6NDSEAmdu9+7w="}}
2023-08-19 17:00:29.894 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/auth/login application/json 52 - 200 - application/json;+charset=utf-8 716.9763ms
2023-08-19 17:00:36.889 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/ApplicationServices - -
2023-08-19 17:00:36.911 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/ApplicationServices
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:00:36.941 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:00:36.969 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 17:00:37.006 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/ApplicationServices - - - 204 - - 116.4988ms
2023-08-19 17:00:37.164 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/ApplicationServices - -
2023-08-19 17:00:37.219 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/ApplicationServices
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:00:37.237 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:00:37.279 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndpoints (ETicaretAPI.API)'
2023-08-19 17:00:37.298 +04:00 [INF] Route matched with {action = "GetAuthorizeDefinitionEndpoints", controller = "ApplicationServices"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAuthorizeDefinitionEndpoints() on controller ETicaretAPI.API.Controllers.ApplicationServicesController (ETicaretAPI.API).
2023-08-19 17:00:37.384 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.DTOs.Configuration.Menu, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-19 17:00:37.405 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 17:00:37.415 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndpoints (ETicaretAPI.API) in 85.7821ms
2023-08-19 17:00:37.429 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndpoints (ETicaretAPI.API)'
2023-08-19 17:00:37.437 +04:00 [INF] ResponseBody: [{"name":"Application Services","actions":[{"actionType":"Reading","httpType":"GET","definition":"Get Authorize Definition Endpoints","code":"GET.Reading.GetAuthorizeDefinitionEndpoints"}]},{"name":"Baskets","actions":[{"actionType":"Reading","httpType":"GET","definition":"Get Basket Items","code":"GET.Reading.GetBasketItems"},{"actionType":"Writing","httpType":"POST","definition":"Add Item To Basket","code":"POST.Writing.AddItemToBasket"},{"actionType":"Updating","httpType":"PUT","definition":"Update Quantity","code":"PUT.Updating.UpdateQuantity"},{"actionType":"Deleting","httpType":"DELETE","definition":"Remove Basket Item","code":"DELETE.Deleting.RemoveBasketItem"}]},{"name":"Orders","actions":[{"actionType":"Reading","httpType":"GET","definition":"Get Order By Id","code":"GET.Reading.GetOrderById"},{"actionType":"Reading","httpType":"GET","definition":"Get All Orders","code":"GET.Reading.GetAllOrders"},{"actionType":"Writing","httpType":"POST","definition":"Create Order","code":"POST.Writing.CreateOrder"},{"actionType":"Updating","httpType":"GET","definition":"Complete Order","code":"GET.Updating.CompleteOrder"}]},{"name":"Products","actions":[{"actionType":"Writing","httpType":"POST","definition":"Create Product","code":"POST.Writing.CreateProduct"},{"actionType":"Updating","httpType":"PUT","definition":"Update Product","code":"PUT.Updating.UpdateProduct"},{"actionType":"Deleting","httpType":"DELETE","definition":"Delete Product","code":"DELETE.Deleting.DeleteProduct"},{"actionType":"Writing","httpType":"POST","definition":"Upload Product File","code":"POST.Writing.UploadProductFile"},{"actionType":"Reading","httpType":"GET","definition":"Get Products Images","code":"GET.Reading.GetProductsImages"},{"actionType":"Deleting","httpType":"DELETE","definition":"Delete Product Image","code":"DELETE.Deleting.DeleteProductImage"},{"actionType":"Updating","httpType":"GET","definition":"Change Showcase Image","code":"GET.Updating.ChangeShowcaseImage"}]},{"name":"Roles","actions":[{"actionType":"Reading","httpType":"GET","definition":"Get Roles","code":"GET.Reading.GetRoles"},{"actionType":"Reading","httpType":"GET","definition":"Get Role By Id","code":"GET.Reading.GetRoleById"},{"actionType":"Writing","httpType":"POST","definition":"Create Role","code":"POST.Writing.CreateRole"},{"actionType":"Updating","httpType":"PUT","definition":"Update Role","code":"PUT.Updating.UpdateRole"},{"actionType":"Deleting","httpType":"DELETE","definition":"Delete Role","code":"DELETE.Deleting.DeleteRole"}]},{"name":"Users","actions":[{"actionType":"Reading","httpType":"GET","definition":"Get All Users","code":"GET.Reading.GetAllUsers"},{"actionType":"Reading","httpType":"GET","definition":"Get Roles To Users","code":"GET.Reading.GetRolesToUsers"},{"actionType":"Reading","httpType":"POST","definition":"Assign Role To User","code":"POST.Reading.AssignRoleToUser"}]}]
2023-08-19 17:00:37.452 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/ApplicationServices - - - 200 - application/json;+charset=utf-8 288.0855ms
2023-08-19 17:00:49.804 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/AuthorizationEndpoints/GetRolesToEndpoint - -
2023-08-19 17:00:49.821 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/AuthorizationEndpoints/GetRolesToEndpoint
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:00:49.840 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:00:49.855 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 17:00:49.878 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/AuthorizationEndpoints/GetRolesToEndpoint - - - 204 - - 74.4137ms
2023-08-19 17:00:49.903 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/AuthorizationEndpoints/GetRolesToEndpoint application/json 63
2023-08-19 17:00:49.929 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/AuthorizationEndpoints/GetRolesToEndpoint
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:00:49.950 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:00:49.960 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthorizationEndpointsController.GetRolesToEndpoint (ETicaretAPI.API)'
2023-08-19 17:00:50.007 +04:00 [INF] Route matched with {action = "GetRolesToEndpoint", controller = "AuthorizationEndpoints"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRolesToEndpoint(ETicaretAPI.Application.Features.Queries.AuthorizationEndpoint.GetRolesToEndpoints.GetRolesToEndpointQueryRequest) on controller ETicaretAPI.API.Controllers.AuthorizationEndpointsController (ETicaretAPI.API).
2023-08-19 17:00:50.035 +04:00 [INF] RequestBody: {"code":"DELETE.Deleting.DeleteProductImage","menu":"Products"}
2023-08-19 17:00:50.239 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 17:00:50.966 +04:00 [INF] Executed DbCommand (156ms) [Parameters=[@__code_0='?', @__menu_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."ActionType", t."Code", t."CreatedDate", t."Definition", t."HttpType", t."MenuId", t."UpdatedDate", t."Id0", t0."EndpointsId", t0."RolesId", t0."Id", t0."ConcurrencyStamp", t0."Name", t0."NormalizedName", t."CreatedDate0", t."Name", t."UpdatedDate0"
FROM (
    SELECT e."Id", e."ActionType", e."Code", e."CreatedDate", e."Definition", e."HttpType", e."MenuId", e."UpdatedDate", m."Id" AS "Id0", m."CreatedDate" AS "CreatedDate0", m."Name", m."UpdatedDate" AS "UpdatedDate0"
    FROM "Endpoints" AS e
    INNER JOIN "Menus" AS m ON e."MenuId" = m."Id"
    WHERE (e."Code" = @__code_0) AND (m."Name" = @__menu_1)
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."EndpointsId", a."RolesId", a0."Id", a0."ConcurrencyStamp", a0."Name", a0."NormalizedName"
    FROM "AppRoleEndpoint" AS a
    INNER JOIN "AspNetRoles" AS a0 ON a."RolesId" = a0."Id"
) AS t0 ON t."Id" = t0."EndpointsId"
ORDER BY t."Id", t."Id0", t0."EndpointsId", t0."RolesId"
2023-08-19 17:00:50.996 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.AuthorizationEndpoint.GetRolesToEndpoints.GetRolesToEndpointQueryResponse'.
2023-08-19 17:00:51.018 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 17:00:51.027 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthorizationEndpointsController.GetRolesToEndpoint (ETicaretAPI.API) in 1000.1512ms
2023-08-19 17:00:51.047 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthorizationEndpointsController.GetRolesToEndpoint (ETicaretAPI.API)'
2023-08-19 17:00:51.056 +04:00 [INF] ResponseBody: {"roles":null}
2023-08-19 17:00:51.065 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/AuthorizationEndpoints/GetRolesToEndpoint application/json 63 - 200 - application/json;+charset=utf-8 1161.8184ms
2023-08-19 17:00:51.086 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/roles?page=-1&size=-1 - -
2023-08-19 17:00:51.093 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/roles
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:00:51.104 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:00:51.110 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 17:00:51.117 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/roles?page=-1&size=-1 - - - 204 - - 30.7456ms
2023-08-19 17:00:51.127 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/roles?page=-1&size=-1 - -
2023-08-19 17:00:51.136 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/roles
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:00:51.147 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:00:51.154 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.RolesController.GetRoles (ETicaretAPI.API)'
2023-08-19 17:00:51.165 +04:00 [INF] Route matched with {action = "GetRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles(ETicaretAPI.Application.Features.Queries.Role.GetRoles.GetRolesQueryRequest) on controller ETicaretAPI.API.Controllers.RolesController (ETicaretAPI.API).
2023-08-19 17:00:51.189 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 17:00:51.245 +04:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "AspNetRoles" AS a
2023-08-19 17:00:51.264 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Role.GetRoles.GetRolesQueryResponse'.
2023-08-19 17:00:51.297 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Name"
FROM "AspNetRoles" AS a
2023-08-19 17:00:51.326 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 17:00:51.337 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.RolesController.GetRoles (ETicaretAPI.API) in 155.9041ms
2023-08-19 17:00:51.347 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.RolesController.GetRoles (ETicaretAPI.API)'
2023-08-19 17:00:51.356 +04:00 [INF] ResponseBody: {"datas":[{"id":"1","name":"Admin"}],"totalCount":1}
2023-08-19 17:00:51.364 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/roles?page=-1&size=-1 - - - 200 - application/json;+charset=utf-8 237.9238ms
2023-08-19 17:01:28.068 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/products?page=0&size=5 - -
2023-08-19 17:01:28.115 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:01:28.129 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:01:28.136 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 17:01:28.146 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/products?page=0&size=5 - - - 204 - - 78.4742ms
2023-08-19 17:01:28.178 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - -
2023-08-19 17:01:28.544 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:01:28.582 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:01:28.605 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 17:01:28.650 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 17:01:28.744 +04:00 [INF] Get all products
2023-08-19 17:01:28.814 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 17:01:29.030 +04:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 17:01:29.181 +04:00 [INF] Executed DbCommand (62ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 17:01:29.246 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 17:01:29.329 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 17:01:29.373 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 643.2134ms
2023-08-19 17:01:29.405 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 17:01:29.424 +04:00 [INF] ResponseBody: {"totalProductCount":3,"products":[{"id":"c51783d7-a3f8-43ea-b5f0-ff0ac916ed70","name":"Mutalib","stock":1,"price":99,"createdDate":"2023-08-19T12:38:01.143432Z","updatedDate":"0001-01-01T00:00:00","productImageFiles":[{"showcase":false,"products":null,"fileName":"edit.png","path":"photo-images\\edit.png","storage":"LocalStorage","updatedDate":"0001-01-01T00:00:00","id":"10a7b414-dc14-42ce-9942-82a00e718f4f","createdDate":"2023-08-19T12:38:40.989728Z"}]},{"id":"eaf3cf0f-02e6-4f51-8f78-89672524b20a","name":"Nihad","stock":1,"price":0.1,"createdDate":"2023-08-19T12:38:22.527034Z","updatedDate":"0001-01-01T00:00:00","productImageFiles":[]},{"id":"f89576b0-e05f-48e1-bb5f-cd1cee989e00","name":"Knnn","stock":120,"price":23,"createdDate":"2023-08-19T12:34:59.453423Z","updatedDate":"0001-01-01T00:00:00","productImageFiles":[]}]}
2023-08-19 17:01:29.447 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 1267.9266ms
2023-08-19 17:01:31.718 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/orders?page=0&size=5 - -
2023-08-19 17:01:31.741 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/orders
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:01:31.787 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:01:31.802 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 17:01:31.833 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/orders?page=0&size=5 - - - 204 - - 115.4916ms
2023-08-19 17:01:31.856 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - -
2023-08-19 17:01:31.890 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/orders
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:01:31.934 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:01:31.967 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.OrdersController.GetAllOrders (ETicaretAPI.API)'
2023-08-19 17:01:32.125 +04:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllOrders(ETicaretAPI.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryRequest) on controller ETicaretAPI.API.Controllers.OrdersController (ETicaretAPI.API).
2023-08-19 17:01:32.352 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 17:01:32.777 +04:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Orders" AS o
2023-08-19 17:01:33.320 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-08-19 17:01:33.336 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-08-19 17:01:33.896 +04:00 [INF] Executed DbCommand (98ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(SUM(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName", CASE
    WHEN (c."Id" IS NOT NULL) THEN TRUE
    ELSE FALSE
END AS "Completed"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN "CompletedOrders" AS c ON t."Id" = c."OrderId"
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
INNER JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2023-08-19 17:01:33.943 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Order.GetAllOrders.GetAllOrdersQueryResponse'.
2023-08-19 17:01:33.985 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 17:01:33.994 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.OrdersController.GetAllOrders (ETicaretAPI.API) in 1824.9319ms
2023-08-19 17:01:34.017 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.OrdersController.GetAllOrders (ETicaretAPI.API)'
2023-08-19 17:01:34.034 +04:00 [INF] ResponseBody: {"totalOrderCount":0,"orders":[]}
2023-08-19 17:01:34.049 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 2192.5494ms
2023-08-19 17:01:39.359 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/ApplicationServices - -
2023-08-19 17:01:39.396 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/ApplicationServices
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:01:39.411 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:01:39.421 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 17:01:39.441 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/ApplicationServices - - - 204 - - 86.3775ms
2023-08-19 17:01:39.459 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/ApplicationServices - -
2023-08-19 17:01:39.507 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/ApplicationServices
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:01:39.594 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:01:39.607 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndpoints (ETicaretAPI.API)'
2023-08-19 17:01:39.645 +04:00 [INF] Route matched with {action = "GetAuthorizeDefinitionEndpoints", controller = "ApplicationServices"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAuthorizeDefinitionEndpoints() on controller ETicaretAPI.API.Controllers.ApplicationServicesController (ETicaretAPI.API).
2023-08-19 17:01:39.742 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.DTOs.Configuration.Menu, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-19 17:01:39.883 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 17:01:39.924 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndpoints (ETicaretAPI.API) in 250.5176ms
2023-08-19 17:01:39.968 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ApplicationServicesController.GetAuthorizeDefinitionEndpoints (ETicaretAPI.API)'
2023-08-19 17:01:39.978 +04:00 [INF] ResponseBody: [{"name":"Application Services","actions":[{"actionType":"Reading","httpType":"GET","definition":"Get Authorize Definition Endpoints","code":"GET.Reading.GetAuthorizeDefinitionEndpoints"}]},{"name":"Baskets","actions":[{"actionType":"Reading","httpType":"GET","definition":"Get Basket Items","code":"GET.Reading.GetBasketItems"},{"actionType":"Writing","httpType":"POST","definition":"Add Item To Basket","code":"POST.Writing.AddItemToBasket"},{"actionType":"Updating","httpType":"PUT","definition":"Update Quantity","code":"PUT.Updating.UpdateQuantity"},{"actionType":"Deleting","httpType":"DELETE","definition":"Remove Basket Item","code":"DELETE.Deleting.RemoveBasketItem"}]},{"name":"Orders","actions":[{"actionType":"Reading","httpType":"GET","definition":"Get Order By Id","code":"GET.Reading.GetOrderById"},{"actionType":"Reading","httpType":"GET","definition":"Get All Orders","code":"GET.Reading.GetAllOrders"},{"actionType":"Writing","httpType":"POST","definition":"Create Order","code":"POST.Writing.CreateOrder"},{"actionType":"Updating","httpType":"GET","definition":"Complete Order","code":"GET.Updating.CompleteOrder"}]},{"name":"Products","actions":[{"actionType":"Writing","httpType":"POST","definition":"Create Product","code":"POST.Writing.CreateProduct"},{"actionType":"Updating","httpType":"PUT","definition":"Update Product","code":"PUT.Updating.UpdateProduct"},{"actionType":"Deleting","httpType":"DELETE","definition":"Delete Product","code":"DELETE.Deleting.DeleteProduct"},{"actionType":"Writing","httpType":"POST","definition":"Upload Product File","code":"POST.Writing.UploadProductFile"},{"actionType":"Reading","httpType":"GET","definition":"Get Products Images","code":"GET.Reading.GetProductsImages"},{"actionType":"Deleting","httpType":"DELETE","definition":"Delete Product Image","code":"DELETE.Deleting.DeleteProductImage"},{"actionType":"Updating","httpType":"GET","definition":"Change Showcase Image","code":"GET.Updating.ChangeShowcaseImage"}]},{"name":"Roles","actions":[{"actionType":"Reading","httpType":"GET","definition":"Get Roles","code":"GET.Reading.GetRoles"},{"actionType":"Reading","httpType":"GET","definition":"Get Role By Id","code":"GET.Reading.GetRoleById"},{"actionType":"Writing","httpType":"POST","definition":"Create Role","code":"POST.Writing.CreateRole"},{"actionType":"Updating","httpType":"PUT","definition":"Update Role","code":"PUT.Updating.UpdateRole"},{"actionType":"Deleting","httpType":"DELETE","definition":"Delete Role","code":"DELETE.Deleting.DeleteRole"}]},{"name":"Users","actions":[{"actionType":"Reading","httpType":"GET","definition":"Get All Users","code":"GET.Reading.GetAllUsers"},{"actionType":"Reading","httpType":"GET","definition":"Get Roles To Users","code":"GET.Reading.GetRolesToUsers"},{"actionType":"Reading","httpType":"POST","definition":"Assign Role To User","code":"POST.Reading.AssignRoleToUser"}]}]
2023-08-19 17:01:39.995 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/ApplicationServices - - - 200 - application/json;+charset=utf-8 536.4798ms
2023-08-19 17:01:50.101 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/AuthorizationEndpoints/GetRolesToEndpoint - -
2023-08-19 17:01:50.111 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/AuthorizationEndpoints/GetRolesToEndpoint
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:01:50.126 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:01:50.138 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 17:01:50.152 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/AuthorizationEndpoints/GetRolesToEndpoint - - - 204 - - 52.0291ms
2023-08-19 17:01:50.164 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/AuthorizationEndpoints/GetRolesToEndpoint application/json 51
2023-08-19 17:01:50.184 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/AuthorizationEndpoints/GetRolesToEndpoint
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 51
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:01:50.210 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:01:50.220 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthorizationEndpointsController.GetRolesToEndpoint (ETicaretAPI.API)'
2023-08-19 17:01:50.232 +04:00 [INF] Route matched with {action = "GetRolesToEndpoint", controller = "AuthorizationEndpoints"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRolesToEndpoint(ETicaretAPI.Application.Features.Queries.AuthorizationEndpoint.GetRolesToEndpoints.GetRolesToEndpointQueryRequest) on controller ETicaretAPI.API.Controllers.AuthorizationEndpointsController (ETicaretAPI.API).
2023-08-19 17:01:50.263 +04:00 [INF] RequestBody: {"code":"POST.Writing.CreateOrder","menu":"Orders"}
2023-08-19 17:01:50.281 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 17:01:50.373 +04:00 [INF] Executed DbCommand (56ms) [Parameters=[@__code_0='?', @__menu_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."ActionType", t."Code", t."CreatedDate", t."Definition", t."HttpType", t."MenuId", t."UpdatedDate", t."Id0", t0."EndpointsId", t0."RolesId", t0."Id", t0."ConcurrencyStamp", t0."Name", t0."NormalizedName", t."CreatedDate0", t."Name", t."UpdatedDate0"
FROM (
    SELECT e."Id", e."ActionType", e."Code", e."CreatedDate", e."Definition", e."HttpType", e."MenuId", e."UpdatedDate", m."Id" AS "Id0", m."CreatedDate" AS "CreatedDate0", m."Name", m."UpdatedDate" AS "UpdatedDate0"
    FROM "Endpoints" AS e
    INNER JOIN "Menus" AS m ON e."MenuId" = m."Id"
    WHERE (e."Code" = @__code_0) AND (m."Name" = @__menu_1)
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a."EndpointsId", a."RolesId", a0."Id", a0."ConcurrencyStamp", a0."Name", a0."NormalizedName"
    FROM "AppRoleEndpoint" AS a
    INNER JOIN "AspNetRoles" AS a0 ON a."RolesId" = a0."Id"
) AS t0 ON t."Id" = t0."EndpointsId"
ORDER BY t."Id", t."Id0", t0."EndpointsId", t0."RolesId"
2023-08-19 17:01:50.440 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.AuthorizationEndpoint.GetRolesToEndpoints.GetRolesToEndpointQueryResponse'.
2023-08-19 17:01:50.455 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 17:01:50.463 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthorizationEndpointsController.GetRolesToEndpoint (ETicaretAPI.API) in 206.7934ms
2023-08-19 17:01:50.482 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthorizationEndpointsController.GetRolesToEndpoint (ETicaretAPI.API)'
2023-08-19 17:01:50.495 +04:00 [INF] ResponseBody: {"roles":null}
2023-08-19 17:01:50.508 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/AuthorizationEndpoints/GetRolesToEndpoint application/json 51 - 200 - application/json;+charset=utf-8 345.4759ms
2023-08-19 17:01:50.526 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/roles?page=-1&size=-1 - -
2023-08-19 17:01:50.535 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/roles
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:01:50.548 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:01:50.557 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 17:01:50.565 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/roles?page=-1&size=-1 - - - 204 - - 39.7152ms
2023-08-19 17:01:50.588 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/roles?page=-1&size=-1 - -
2023-08-19 17:01:50.598 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/roles
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:01:50.611 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:01:50.627 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.RolesController.GetRoles (ETicaretAPI.API)'
2023-08-19 17:01:50.645 +04:00 [INF] Route matched with {action = "GetRoles", controller = "Roles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles(ETicaretAPI.Application.Features.Queries.Role.GetRoles.GetRolesQueryRequest) on controller ETicaretAPI.API.Controllers.RolesController (ETicaretAPI.API).
2023-08-19 17:01:50.701 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 17:01:50.725 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "AspNetRoles" AS a
2023-08-19 17:01:50.743 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Role.GetRoles.GetRolesQueryResponse'.
2023-08-19 17:01:50.769 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."Name"
FROM "AspNetRoles" AS a
2023-08-19 17:01:50.797 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 17:01:50.804 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.RolesController.GetRoles (ETicaretAPI.API) in 142.3118ms
2023-08-19 17:01:50.817 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.RolesController.GetRoles (ETicaretAPI.API)'
2023-08-19 17:01:50.827 +04:00 [INF] ResponseBody: {"datas":[{"id":"1","name":"Admin"}],"totalCount":1}
2023-08-19 17:01:50.839 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/roles?page=-1&size=-1 - - - 200 - application/json;+charset=utf-8 251.4732ms
2023-08-19 17:01:57.308 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/files/GetBaseStorageUrl - -
2023-08-19 17:01:57.321 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/files/GetBaseStorageUrl
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:01:57.374 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:01:57.391 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 17:01:57.417 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/files/GetBaseStorageUrl - - - 204 - - 108.1714ms
2023-08-19 17:01:57.436 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/files/GetBaseStorageUrl - -
2023-08-19 17:01:57.453 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/files/GetBaseStorageUrl
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:01:57.469 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:01:57.478 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2023-08-19 17:01:57.523 +04:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2023-08-19 17:01:57.547 +04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-08-19 17:01:57.565 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 17:01:57.575 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 35.3905ms
2023-08-19 17:01:57.610 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2023-08-19 17:01:57.621 +04:00 [INF] ResponseBody: {"url":null}
2023-08-19 17:01:57.634 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 198.2815ms
2023-08-19 17:01:57.660 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/products?page=0&size=12 - -
2023-08-19 17:01:57.674 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:01:57.684 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:01:57.693 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 17:01:57.702 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/products?page=0&size=12 - - - 204 - - 42.6325ms
2023-08-19 17:01:57.715 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=12 - -
2023-08-19 17:01:57.724 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:01:57.734 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:01:57.742 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 17:01:57.754 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 17:01:57.770 +04:00 [INF] Get all products
2023-08-19 17:01:57.779 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 17:01:57.805 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 17:01:57.843 +04:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 17:01:57.863 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 17:01:57.874 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 17:01:57.884 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 115.9872ms
2023-08-19 17:01:57.895 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 17:01:57.903 +04:00 [INF] ResponseBody: {"totalProductCount":3,"products":[{"id":"c51783d7-a3f8-43ea-b5f0-ff0ac916ed70","name":"Mutalib","stock":1,"price":99,"createdDate":"2023-08-19T12:38:01.143432Z","updatedDate":"0001-01-01T00:00:00","productImageFiles":[{"showcase":false,"products":null,"fileName":"edit.png","path":"photo-images\\edit.png","storage":"LocalStorage","updatedDate":"0001-01-01T00:00:00","id":"10a7b414-dc14-42ce-9942-82a00e718f4f","createdDate":"2023-08-19T12:38:40.989728Z"}]},{"id":"eaf3cf0f-02e6-4f51-8f78-89672524b20a","name":"Nihad","stock":1,"price":0.1,"createdDate":"2023-08-19T12:38:22.527034Z","updatedDate":"0001-01-01T00:00:00","productImageFiles":[]},{"id":"f89576b0-e05f-48e1-bb5f-cd1cee989e00","name":"Knnn","stock":120,"price":23,"createdDate":"2023-08-19T12:34:59.453423Z","updatedDate":"0001-01-01T00:00:00","productImageFiles":[]}]}
2023-08-19 17:01:57.913 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 198.5459ms
2023-08-19 17:02:15.290 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/files/GetBaseStorageUrl - -
2023-08-19 17:02:15.478 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/files/GetBaseStorageUrl
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:02:15.502 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:02:15.534 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 17:02:15.544 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/files/GetBaseStorageUrl - - - 204 - - 253.5094ms
2023-08-19 17:02:15.774 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/files/GetBaseStorageUrl - -
2023-08-19 17:02:15.783 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/files/GetBaseStorageUrl
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:02:15.800 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:02:15.807 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2023-08-19 17:02:15.823 +04:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2023-08-19 17:02:15.842 +04:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-08-19 17:02:15.858 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 17:02:15.889 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 47.8791ms
2023-08-19 17:02:15.906 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2023-08-19 17:02:15.914 +04:00 [INF] ResponseBody: {"url":null}
2023-08-19 17:02:15.922 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 149.0180ms
2023-08-19 17:02:15.943 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/products?page=1&size=12 - -
2023-08-19 17:02:15.962 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:02:15.976 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:02:15.986 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 17:02:15.995 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/products?page=1&size=12 - - - 204 - - 52.4309ms
2023-08-19 17:02:16.013 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=1&size=12 - -
2023-08-19 17:02:16.022 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:02:16.036 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:02:16.045 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 17:02:16.058 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 17:02:16.082 +04:00 [INF] Get all products
2023-08-19 17:02:16.092 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 17:02:16.118 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 17:02:16.161 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-08-19 17:02:16.168 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2023-08-19 17:02:16.325 +04:00 [INF] Executed DbCommand (29ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_0 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 17:02:16.349 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 17:02:16.360 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 17:02:16.368 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 290.0294ms
2023-08-19 17:02:16.380 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 17:02:16.389 +04:00 [INF] ResponseBody: {"totalProductCount":3,"products":[]}
2023-08-19 17:02:16.400 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=1&size=12 - - - 200 - application/json;+charset=utf-8 386.5108ms
2023-08-19 17:02:20.646 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/products?page=0&size=12 - -
2023-08-19 17:02:20.729 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:02:20.763 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:02:20.790 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 17:02:20.811 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/products?page=0&size=12 - - - 204 - - 164.3087ms
2023-08-19 17:02:20.826 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=12 - -
2023-08-19 17:02:20.833 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:02:20.845 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:02:20.853 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 17:02:20.870 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 17:02:20.900 +04:00 [INF] Get all products
2023-08-19 17:02:20.919 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 17:02:20.951 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 17:02:20.985 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 17:02:21.008 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 17:02:21.018 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 17:02:21.025 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 126.7861ms
2023-08-19 17:02:21.038 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 17:02:21.046 +04:00 [INF] ResponseBody: {"totalProductCount":3,"products":[{"id":"c51783d7-a3f8-43ea-b5f0-ff0ac916ed70","name":"Mutalib","stock":1,"price":99,"createdDate":"2023-08-19T12:38:01.143432Z","updatedDate":"0001-01-01T00:00:00","productImageFiles":[{"showcase":false,"products":null,"fileName":"edit.png","path":"photo-images\\edit.png","storage":"LocalStorage","updatedDate":"0001-01-01T00:00:00","id":"10a7b414-dc14-42ce-9942-82a00e718f4f","createdDate":"2023-08-19T12:38:40.989728Z"}]},{"id":"eaf3cf0f-02e6-4f51-8f78-89672524b20a","name":"Nihad","stock":1,"price":0.1,"createdDate":"2023-08-19T12:38:22.527034Z","updatedDate":"0001-01-01T00:00:00","productImageFiles":[]},{"id":"f89576b0-e05f-48e1-bb5f-cd1cee989e00","name":"Knnn","stock":120,"price":23,"createdDate":"2023-08-19T12:34:59.453423Z","updatedDate":"0001-01-01T00:00:00","productImageFiles":[]}]}
2023-08-19 17:02:21.056 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 229.9464ms
2023-08-19 17:02:24.162 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/products?page=6&size=12 - -
2023-08-19 17:02:24.218 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:02:24.277 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:02:24.349 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 17:02:24.381 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/products?page=6&size=12 - - - 204 - - 217.2722ms
2023-08-19 17:02:24.429 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=6&size=12 - -
2023-08-19 17:02:24.527 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:02:24.539 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:02:24.548 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 17:02:24.566 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 17:02:24.586 +04:00 [INF] Get all products
2023-08-19 17:02:24.597 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 17:02:24.632 +04:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 17:02:24.672 +04:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 17:02:24.707 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 17:02:24.721 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 17:02:24.731 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 146.5532ms
2023-08-19 17:02:24.741 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 17:02:24.749 +04:00 [INF] ResponseBody: {"totalProductCount":3,"products":[]}
2023-08-19 17:02:24.758 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=6&size=12 - - - 200 - application/json;+charset=utf-8 328.1586ms
2023-08-19 17:02:27.948 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/products?page=-1&size=12 - -
2023-08-19 17:02:27.962 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:02:28.019 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:02:28.037 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 17:02:28.061 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/products?page=-1&size=12 - - - 204 - - 115.0969ms
2023-08-19 17:02:28.082 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=-1&size=12 - -
2023-08-19 17:02:28.101 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:02:28.121 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:02:28.131 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 17:02:28.144 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 17:02:28.170 +04:00 [INF] Get all products
2023-08-19 17:02:28.233 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 17:02:28.264 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 17:02:28.457 +04:00 [ERR] Failed executing DbCommand (119ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 17:02:28.669 +04:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ETicaretAPI.Persistence.Contexts.ETicaretAPIDbContext'.
Npgsql.PostgresException (0x80004005): 2201X: OFFSET must not be negative
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|211_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 2201X
    MessageText: OFFSET must not be negative
    File: nodeLimit.c
    Line: 372
    Routine: recompute_limits
Npgsql.PostgresException (0x80004005): 2201X: OFFSET must not be negative
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|211_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 2201X
    MessageText: OFFSET must not be negative
    File: nodeLimit.c
    Line: 372
    Routine: recompute_limits
2023-08-19 17:02:30.066 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 1897.3557ms
2023-08-19 17:02:30.085 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 17:02:30.327 +04:00 [ERR] An unhandled exception has occurred while executing the request.
Npgsql.PostgresException (0x80004005): 2201X: OFFSET must not be negative
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|211_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryHandler.Handle(GetAllProductQueryRequest request, CancellationToken cancellationToken) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Core\ETicaretAPI.Application\Features\Queries\Product\GetAllProduct\GetAllProductQueryHandler.cs:line 28
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.ProductsController.Get(GetAllProductQueryRequest getAllProductQueryRequest) in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Controllers\ProductsController.cs:line 40
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\K\Desktop\ETicaretApplication\ETicaretAPI\Presentation\ETicaretAPI.API\Program.cs:line 126
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
  Exception data:
    Severity: ERROR
    SqlState: 2201X
    MessageText: OFFSET must not be negative
    File: nodeLimit.c
    Line: 372
    Routine: recompute_limits
2023-08-19 17:02:30.518 +04:00 [ERR] 2201X: OFFSET must not be negative
2023-08-19 17:02:30.526 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=-1&size=12 - - - 500 - application/json 2444.1677ms
2023-08-19 17:02:36.253 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/products?page=0&size=12 - -
2023-08-19 17:02:36.289 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/products
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:02:36.308 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:02:36.319 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 17:02:36.340 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/products?page=0&size=12 - - - 204 - - 87.2613ms
2023-08-19 17:02:36.375 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/products?page=0&size=12 - -
2023-08-19 17:02:36.422 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/products
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:02:36.435 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:02:36.455 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 17:02:36.472 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2023-08-19 17:02:36.512 +04:00 [INF] Get all products
2023-08-19 17:02:36.536 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 17:02:36.567 +04:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)::INT
FROM "Products" AS p
2023-08-19 17:02:36.604 +04:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2023-08-19 17:02:36.631 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2023-08-19 17:02:36.646 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 17:02:36.655 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 144.6024ms
2023-08-19 17:02:36.669 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2023-08-19 17:02:36.678 +04:00 [INF] ResponseBody: {"totalProductCount":3,"products":[{"id":"c51783d7-a3f8-43ea-b5f0-ff0ac916ed70","name":"Mutalib","stock":1,"price":99,"createdDate":"2023-08-19T12:38:01.143432Z","updatedDate":"0001-01-01T00:00:00","productImageFiles":[{"showcase":false,"products":null,"fileName":"edit.png","path":"photo-images\\edit.png","storage":"LocalStorage","updatedDate":"0001-01-01T00:00:00","id":"10a7b414-dc14-42ce-9942-82a00e718f4f","createdDate":"2023-08-19T12:38:40.989728Z"}]},{"id":"eaf3cf0f-02e6-4f51-8f78-89672524b20a","name":"Nihad","stock":1,"price":0.1,"createdDate":"2023-08-19T12:38:22.527034Z","updatedDate":"0001-01-01T00:00:00","productImageFiles":[]},{"id":"f89576b0-e05f-48e1-bb5f-cd1cee989e00","name":"Knnn","stock":120,"price":23,"createdDate":"2023-08-19T12:34:59.453423Z","updatedDate":"0001-01-01T00:00:00","productImageFiles":[]}]}
2023-08-19 17:02:36.689 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 314.6410ms
2023-08-19 17:02:43.667 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/baskets - -
2023-08-19 17:02:43.676 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/baskets
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:02:43.695 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:02:43.705 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 17:02:43.719 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/baskets - - - 204 - - 55.5418ms
2023-08-19 17:02:43.730 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/baskets - -
2023-08-19 17:02:43.742 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/baskets
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:02:43.784 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:02:43.826 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2023-08-19 17:02:43.918 +04:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2023-08-19 17:02:44.099 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 17:02:44.410 +04:00 [INF] Executed DbCommand (31ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2023-08-19 17:02:45.198 +04:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2023-08-19 17:02:45.389 +04:00 [INF] Executed DbCommand (18ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2023-08-19 17:02:45.430 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-19 17:02:45.458 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 17:02:45.470 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 1534.4922ms
2023-08-19 17:02:45.518 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2023-08-19 17:02:45.528 +04:00 [INF] ResponseBody: []
2023-08-19 17:02:45.537 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/baskets - - - 200 - application/json;+charset=utf-8 1807.0584ms
2023-08-19 17:02:50.550 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/baskets - -
2023-08-19 17:02:50.560 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/baskets
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:02:50.578 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:02:50.597 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 17:02:50.611 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/baskets - - - 204 - - 60.9992ms
2023-08-19 17:02:50.634 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7131/api/baskets application/json 65
2023-08-19 17:02:50.650 +04:00 [INF] Request:
Protocol: HTTP/2
Method: POST
Scheme: https
PathBase: 
Path: /api/baskets
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 65
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:02:50.668 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:02:50.688 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.AddItemToBasket (ETicaretAPI.API)'
2023-08-19 17:02:50.790 +04:00 [INF] Route matched with {action = "AddItemToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemToBasket(ETicaretAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2023-08-19 17:02:50.819 +04:00 [INF] RequestBody: {"productId":"f89576b0-e05f-48e1-bb5f-cd1cee989e00","quantity":1}
2023-08-19 17:02:50.918 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 17:02:50.967 +04:00 [INF] Executed DbCommand (26ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2023-08-19 17:02:51.131 +04:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2023-08-19 17:02:51.213 +04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2023-08-19 17:02:51.359 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE (b."BasketId" = @__basket_Id_0) AND (b."ProductId" = @__Parse_1)
LIMIT 1
2023-08-19 17:02:51.579 +04:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-19 17:02:51.618 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2023-08-19 17:02:51.631 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 17:02:51.639 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.AddItemToBasket (ETicaretAPI.API) in 822.3952ms
2023-08-19 17:02:51.652 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.AddItemToBasket (ETicaretAPI.API)'
2023-08-19 17:02:51.666 +04:00 [INF] ResponseBody: {}
2023-08-19 17:02:51.677 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7131/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 1043.1214ms
2023-08-19 17:02:54.167 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7131/api/baskets - -
2023-08-19 17:02:54.178 +04:00 [INF] Request:
Protocol: HTTP/2
Method: GET
Scheme: https
PathBase: 
Path: /api/baskets
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
:method: [Redacted]
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:02:54.200 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:02:54.212 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2023-08-19 17:02:54.292 +04:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2023-08-19 17:02:54.344 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 17:02:54.545 +04:00 [INF] Executed DbCommand (116ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2023-08-19 17:02:54.687 +04:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2023-08-19 17:02:54.759 +04:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2023-08-19 17:02:54.957 +04:00 [INF] Executed DbCommand (82ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2023-08-19 17:02:55.095 +04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-19 17:02:55.121 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 17:02:55.129 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 790.6995ms
2023-08-19 17:02:55.153 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2023-08-19 17:02:55.169 +04:00 [INF] ResponseBody: [{"basketItemId":"d5d23a4e-0e3b-41c9-9af1-0bf3977f12a6","name":"Knnn","price":23,"quantity":1}]
2023-08-19 17:02:55.184 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7131/api/baskets - - - 200 - application/json;+charset=utf-8 1020.3388ms
2023-08-19 17:03:00.233 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7131/api/baskets/d5d23a4e-0e3b-41c9-9af1-0bf3977f12a6 - -
2023-08-19 17:03:00.246 +04:00 [INF] Request:
Protocol: HTTP/2
Method: OPTIONS
Scheme: https
PathBase: 
Path: /api/baskets/d5d23a4e-0e3b-41c9-9af1-0bf3977f12a6
Accept: */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Access-Control-Request-Headers: [Redacted]
Access-Control-Request-Method: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:03:00.260 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:03:00.274 +04:00 [INF] Response:
StatusCode: 204
Access-Control-Allow-Credentials: [Redacted]
Access-Control-Allow-Headers: [Redacted]
Access-Control-Allow-Methods: [Redacted]
Access-Control-Allow-Origin: [Redacted]
Vary: [Redacted]
2023-08-19 17:03:00.286 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7131/api/baskets/d5d23a4e-0e3b-41c9-9af1-0bf3977f12a6 - - - 204 - - 53.4691ms
2023-08-19 17:03:00.319 +04:00 [INF] Request starting HTTP/2 DELETE https://localhost:7131/api/baskets/d5d23a4e-0e3b-41c9-9af1-0bf3977f12a6 - -
2023-08-19 17:03:00.337 +04:00 [INF] Request:
Protocol: HTTP/2
Method: DELETE
Scheme: https
PathBase: 
Path: /api/baskets/d5d23a4e-0e3b-41c9-9af1-0bf3977f12a6
Accept: application/json, text/plain, */*
Host: localhost:7131
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36 OPR/101.0.0.0
Accept-Encoding: gzip, deflate, br
Accept-Language: en-US,en;q=0.9
Authorization: [Redacted]
Origin: [Redacted]
Referer: [Redacted]
sec-ch-ua: "Not/A)Brand";v="99", "Opera";v="101", "Chromium";v="115"
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-fetch-site: [Redacted]
sec-fetch-mode: [Redacted]
sec-fetch-dest: [Redacted]
2023-08-19 17:03:00.374 +04:00 [INF] CORS policy execution successful.
2023-08-19 17:03:00.401 +04:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.RemoveBasketItem (ETicaretAPI.API)'
2023-08-19 17:03:00.484 +04:00 [INF] Route matched with {action = "RemoveBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveBasketItem(ETicaretAPI.Application.Features.Commands.Basket.RemoveBasketItem.RemoveBasketItemCommandRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2023-08-19 17:03:00.597 +04:00 [INF] Entity Framework Core 6.0.2 initialized 'ETicaretAPIDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.3+94d0a8eaeb9cf5af6ce55a9e59153c1a1be3244f' with options: None
2023-08-19 17:03:00.685 +04:00 [INF] Executed DbCommand (13ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."Id" = @__Parse_0
LIMIT 1
2023-08-19 17:03:00.913 +04:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "BasketItems"
WHERE "Id" = @p0;
2023-08-19 17:03:01.015 +04:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.Basket.RemoveBasketItem.RemoveBasketItemCommandResponse'.
2023-08-19 17:03:01.029 +04:00 [INF] Response:
StatusCode: 200
Content-Type: application/json; charset=utf-8
2023-08-19 17:03:01.037 +04:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.RemoveBasketItem (ETicaretAPI.API) in 522.5193ms
2023-08-19 17:03:01.105 +04:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.RemoveBasketItem (ETicaretAPI.API)'
2023-08-19 17:03:01.114 +04:00 [INF] ResponseBody: {}
2023-08-19 17:03:01.122 +04:00 [INF] Request finished HTTP/2 DELETE https://localhost:7131/api/baskets/d5d23a4e-0e3b-41c9-9af1-0bf3977f12a6 - - - 200 - application/json;+charset=utf-8 808.1167ms
